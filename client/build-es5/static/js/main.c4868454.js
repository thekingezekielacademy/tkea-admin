!function(){"use strict";var e,t,r,n={1866:function(e,t,r){r.d(t,{G:function(){return i},c:function(){return l}});var n=r(6540);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,s,l=[],i=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;i=!1}else for(;!(i=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{if(!i&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const s=(0,n.createContext)(void 0),l=function(){const e=(0,n.useContext)(s);if(void 0===e)throw new Error("useSidebar must be used within a SidebarProvider");return e},i=function(e){let t=e.children;const r=a((0,n.useState)(!0),2),o=r[0],l=r[1],i=a((0,n.useState)(!1),2),c=i[0],m=i[1];(0,n.useEffect)(function(){const e=function(){const e=window.innerWidth<768;m(e),e&&l(!1)};return e(),window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}},[]);const d={isExpanded:o,setIsExpanded:l,isMobile:c};return n.createElement(s.Provider,{value:d},t)}},4307:function(e,t,r){r.d(t,{I:function(){return l}});var n=r(5608);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach(function(t){s(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function s(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class l{static async initializeTrial(e){try{const t=new Date,r=new Date;t.setHours(0,0,0,0),r.setDate(t.getDate()+this.TRIAL_DURATION_DAYS-1),r.setHours(23,59,59,999);const a={user_id:e,start_date:t.toISOString(),end_date:r.toISOString(),is_active:!0,created_at:(new Date).toISOString()};try{(await n.N.from("user_trials").insert(a)).error}catch(e){}const o=new Date,s=r.getTime()-o.getTime(),l=Math.max(0,Math.floor(s/864e5)),i={isActive:l>0,startDate:t.toISOString(),endDate:r.toISOString(),daysRemaining:l,totalDays:this.TRIAL_DURATION_DAYS,isExpired:l<=0};return localStorage.setItem(this.TRIAL_STORAGE_KEY,JSON.stringify(i)),i}catch(e){throw console.error("Failed to initialize trial:",e),e}}static async getTrialStatus(e){try{try{const t=await n.N.from("user_trials").select("*").eq("user_id",e).eq("is_active",!0).single(),r=t.data,a=t.error;if(!a&&r)return this.calculateTrialStatus(r.start_date,r.end_date);a&&("PGRST116"===a.code||a.code)}catch(e){}const t=localStorage.getItem(this.TRIAL_STORAGE_KEY);if(t)try{const e=JSON.parse(t),r=this.calculateTrialStatus(e.startDate,e.endDate);return localStorage.setItem(this.TRIAL_STORAGE_KEY,JSON.stringify(r)),r}catch(e){}return{isActive:!1,startDate:"",endDate:"",daysRemaining:0,totalDays:0,isExpired:!0}}catch(e){return console.error("Failed to get trial status:",e),{isActive:!1,startDate:"",endDate:"",daysRemaining:0,totalDays:0,isExpired:!0}}}static async hasTrialAccess(e){try{const t=await this.getTrialStatus(e);return t.isActive&&!t.isExpired}catch(e){return console.error("Failed to check trial access:",e),!1}}static calculateDaysRemaining(e){const t=new Date,r=new Date(e),n=new Date(t);n.setHours(0,0,0,0);const a=new Date(r);a.setHours(0,0,0,0);const o=a.getTime()-n.getTime(),s=Math.max(0,Math.floor(o/864e5));return console.log("ðŸ” Consistent trial calculation:",{endDate:e,now:t.toISOString(),todayStart:n.toISOString(),endDateStart:a.toISOString(),timeDiffHours:o/36e5,daysRemaining:s}),s}static calculateTrialStatus(e,t){const r=new Date,n=(new Date(e),r>new Date(t));return{isActive:!n,startDate:e,endDate:t,daysRemaining:this.calculateDaysRemaining(t),totalDays:this.TRIAL_DURATION_DAYS,isExpired:n}}static async extendTrial(e,t){try{const r=await this.getTrialStatus(e);if(!r.isActive)throw new Error("Cannot extend expired trial");const a=new Date(r.endDate);a.setDate(a.getDate()+t);const s=o(o({},r),{},{endDate:a.toISOString(),daysRemaining:r.daysRemaining+t});try{(await n.N.from("user_trials").update({end_date:a.toISOString(),updated_at:(new Date).toISOString()}).eq("user_id",e).eq("is_active",!0)).error}catch(e){}return localStorage.setItem(this.TRIAL_STORAGE_KEY,JSON.stringify(s)),s}catch(e){throw console.error("Failed to extend trial:",e),e}}static async endTrial(e){try{try{(await n.N.from("user_trials").update({is_active:!1,ended_at:(new Date).toISOString(),updated_at:(new Date).toISOString()}).eq("user_id",e).eq("is_active",!0)).error}catch(e){}localStorage.removeItem(this.TRIAL_STORAGE_KEY)}catch(e){throw console.error("Failed to end trial:",e),e}}static getTrialExpirationMessage(e){return 0===e?"Your free trial has expired. Subscribe now to continue learning!":1===e?"Your free trial expires tomorrow. Subscribe now to keep learning!":e<=3?"Your free trial expires in ".concat(e," days. Subscribe now to keep learning!"):"You have ".concat(e," days left in your free trial.")}static shouldShowTrialBanner(e){return e<=3&&e>0}static ensureTrialStatusIsCurrent(){try{const e=localStorage.getItem(this.TRIAL_STORAGE_KEY);if(!e)return null;const t=JSON.parse(e),r=this.calculateDaysRemaining(t.endDate),n=o(o({},t),{},{daysRemaining:r,isActive:r>0,isExpired:r<=0});return localStorage.setItem(this.TRIAL_STORAGE_KEY,JSON.stringify(n)),n}catch(e){return console.error("Failed to ensure trial status is current:",e),null}}static resetTrialForTesting(e){try{localStorage.removeItem(this.TRIAL_STORAGE_KEY);const e=new Date,t=new Date;e.setHours(0,0,0,0),t.setDate(e.getDate()+this.TRIAL_DURATION_DAYS-1),t.setHours(23,59,59,999);const r={isActive:!0,startDate:e.toISOString(),endDate:t.toISOString(),daysRemaining:this.TRIAL_DURATION_DAYS,totalDays:this.TRIAL_DURATION_DAYS,isExpired:!1};localStorage.setItem(this.TRIAL_STORAGE_KEY,JSON.stringify(r))}catch(e){console.error("Failed to reset trial for testing:",e)}}}s(l,"TRIAL_DURATION_DAYS",7),s(l,"TRIAL_STORAGE_KEY","user_trial_status"),t.A=l},4552:function(e,t,r){function n(){const e=navigator.userAgent||"",t=(navigator.vendor,window.opera,/Instagram/i.test(e)||/FBAN|FBAV|FBIOS/i.test(e)||/InstagramApp/i.test(e)),r=/FBAN|FBAV|FBIOS/i.test(e)||/FB_IAB|FBAN/i.test(e)||/FBAN/i.test(e),n=/TikTok/i.test(e)||/musical_ly/i.test(e)||/aweme/i.test(e),a=/Twitter/i.test(e)||/TwitterAndroid/i.test(e)||/TwitteriOS/i.test(e),o=/Snapchat/i.test(e)||/SnapchatApp/i.test(e),s=t||r||n||a||o||/wv\)/i.test(e)||/Version\/.*Safari.*Mobile/i.test(e)&&!/Chrome/i.test(e)||/iPhone.*Safari/i.test(e)&&!/Chrome/i.test(e)||/iPad.*Safari/i.test(e)&&!/Chrome/i.test(e);return{isMiniBrowser:s,isInstagram:t,isFacebook:r,isTikTok:n,isTwitter:a,isSnapchat:o,userAgent:e,needsLegacyMode:s||/Safari/i.test(e)&&/Version\/([0-9]+)/.test(e)&&parseInt(RegExp.$1,10)<=12}}function a(){const e=n();return e.isMiniBrowser||e.needsLegacyMode}r.d(t,{FX:function(){return n},Sr:function(){return a}})},5435:function(e,t,r){var n=r(6540),a=r(5338),o=r(3322),s=r(5902),l=r(6352),i=r(1866);const c=function(){const e=document.createElement("div");e.className="fixed top-4 right-4 bg-blue-600 text-white px-6 py-3 rounded-lg shadow-lg z-50",e.innerHTML='\n    <div class="flex items-center space-x-3">\n      <span>ðŸ”„ New version available</span>\n      <button id="update-btn" class="bg-white text-blue-600 px-3 py-1 rounded text-sm font-medium hover:bg-gray-100">\n        Update\n      </button>\n      <button id="dismiss-btn" class="text-white hover:text-gray-200">\n        âœ•\n      </button>\n    </div>\n  ',document.body.appendChild(e);const t=e.querySelector("#update-btn");t&&t.addEventListener("click",function(){window.location.reload()});const r=e.querySelector("#dismiss-btn");r&&r.addEventListener("click",function(){e.remove()}),setTimeout(function(){e.parentNode&&e.remove()},1e4)},m=async function(){await async function(){const e=window.browserInfo,t=(null==e?void 0:e.isInApp)||/FBAN|FBAV|FBIOS|Instagram|Line|Twitter|LinkedIn|WhatsApp|Telegram/i.test(navigator.userAgent);if("serviceWorker"in navigator)if(t)console.log("ðŸš« In-app browser detected - skipping service worker registration");else try{if(!await fetch("/sw.js",{method:"HEAD"}).then(function(e){return e.ok}).catch(function(){return!1}))return void console.log("Service Worker file not found, skipping registration");const e=await navigator.serviceWorker.register("/sw.js",{scope:"/",updateViaCache:"none"});console.log("Service Worker registered successfully:",e),e.addEventListener("updatefound",function(){const t=e.installing;t&&t.addEventListener("statechange",function(){"installed"===t.state&&navigator.serviceWorker.controller&&c()})}),navigator.serviceWorker.addEventListener("controllerchange",function(){console.log("Service Worker activated")})}catch(e){console.error("Service Worker registration failed:",e)}else console.log("Service Worker not supported in this browser")}(),"serviceWorker"in navigator&&navigator.serviceWorker.addEventListener("message",function(e){e.data&&"PERFORMANCE_METRIC"===e.data.type&&(console.log("Service Worker Performance:",e.data.metric),window.gtag&&window.gtag("event","service_worker_performance",{metric_name:e.data.metric.name,metric_value:e.data.metric.value,metric_unit:e.data.metric.unit}))});const e=await async function(){if(!("serviceWorker"in navigator))return!1;try{return!!(await navigator.serviceWorker.ready).active}catch(e){return!1}}();console.log("Service Worker Status:",e?"Active":"Inactive");const t=await async function(){if(!("caches"in window))return{cacheNames:[],totalSize:0,cacheDetails:[]};try{const e=await caches.keys(),t=await Promise.all(e.map(async function(e){const t=await caches.open(e),r=await t.keys();return{name:e,size:r.length,keys:r.map(function(e){return e.url})}}));return{cacheNames:e,totalSize:t.reduce(function(e,t){return e+t.size},0),cacheDetails:t}}catch(e){return console.error("Failed to get cache info:",e),{cacheNames:[],totalSize:0,cacheDetails:[]}}}();console.log("Cache Info:",t)};var d=function(){const e=(0,o.zy)();return(0,n.useEffect)(function(){"undefined"!=typeof window&&window.fbq&&window.fbq("track","PageView")},[e.pathname]),null},u=r(1612);function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var p=function(){const e=(0,l.A)(),t=e.user,r=e.signOut,a=e.setOnSignOut,s=(f=(0,n.useState)(!1),b=2,function(e){if(Array.isArray(e))return e}(f)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,s,l=[],i=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;i=!1}else for(;!(i=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{if(!i&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return l}}(f,b)||function(e,t){if(e){if("string"==typeof e)return g(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?g(e,t):void 0}}(f,b)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=s[0],m=s[1],d=(0,o.zy)(),p=function(){window.scrollTo(0,0)};var f,b;(0,n.useEffect)(function(){return a(function(){return function(){window.location.href="/"}}),function(){return a(null)}},[a]);const h=[{name:"Home",path:"/"},{name:"Courses",path:"/courses"},{name:"Blog",path:"/blog"},{name:"About",path:"/about"},{name:"Contact",path:"/contact"}],x=[{name:"Sign In",path:"/signin"},{name:"Sign Up",path:"/signup"}],y=function(e){return d.pathname===e},v=async function(){try{await r()}catch(e){window.location.href="/"}},E=(0,i.c)(),w=E.isExpanded,N=E.isMobile,k=["/dashboard","/dashboard-new","/profile","/achievements","/subscription","/diploma","/certificates","/assessments","/resume","/rooms","/affiliates"].includes(d.pathname)||"/courses"===d.pathname&&t;return n.createElement("nav",{className:"bg-white shadow-lg fixed top-0 z-50 transition-all duration-300 ease-in-out ".concat(k?N?"ml-16 w-[calc(100%-4rem)]":w?"ml-64 w-[calc(100%-16rem)]":"ml-16 w-[calc(100%-4rem)]":"w-full")},n.createElement("div",{className:"".concat(k?"w-full":"max-w-7xl mx-auto"," px-4 sm:px-6 lg:px-8")},n.createElement("div",{className:"flex justify-between h-16"},n.createElement("div",{className:"flex items-center space-x-8"},n.createElement(o.N_,{to:"/",onClick:p,className:"flex items-center space-x-2"},n.createElement(u.YNd,{className:"h-8 w-8 text-primary-500"}),n.createElement("span",{className:"hidden md:block text-xl font-bold text-secondary-900"},"King Ezekiel Academy"),n.createElement("span",{className:"md:hidden text-xl font-bold text-secondary-900"},"TKEA")),t&&n.createElement(o.N_,{to:"/profile",onClick:p,className:"flex items-center space-x-2 px-3 py-1 bg-primary-50 rounded-lg border border-primary-200 hover:bg-primary-100 hover:border-primary-300 transition-all duration-200 cursor-pointer group",title:"Click to view profile"},n.createElement(u.x$1,{className:"h-4 w-4 text-primary-600 group-hover:text-primary-700"}),n.createElement("span",{className:"text-sm font-medium text-primary-700 group-hover:text-primary-800"},(null==t?void 0:t.name)||(null==t?void 0:t.email)||"Student"),n.createElement("svg",{className:"h-3 w-3 text-primary-500 group-hover:text-primary-600 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})))),n.createElement("div",{className:"hidden md:flex items-center space-x-8"},h.map(function(e){return n.createElement(o.N_,{key:e.name,to:e.path,onClick:p,className:"text-sm font-medium transition-colors duration-200 ".concat(y(e.path)?"text-primary-500 border-b-2 border-primary-500":"text-secondary-700 hover:text-primary-500")},e.name)}),t&&n.createElement(o.N_,{to:"/dashboard",onClick:p,className:"text-sm font-medium transition-colors duration-200 ".concat(y("/dashboard")?"text-primary-500 border-b-2 border-primary-500":"text-secondary-700 hover:text-primary-500")},"Dashboard")),n.createElement("div",{className:"hidden md:flex items-center space-x-4"},t?n.createElement("div",{className:"flex items-center space-x-4"},n.createElement("button",{onClick:v,className:"flex items-center space-x-2 px-4 py-2 rounded-md text-sm font-medium text-red-600 hover:text-red-700 hover:bg-red-50 transition-colors duration-200 cursor-pointer focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2"},n.createElement(u.axc,null),n.createElement("span",null,"Sign Out"))):x.map(function(e){return n.createElement(o.N_,{key:e.name,to:e.path,onClick:p,className:"px-4 py-2 rounded-md text-sm font-medium transition-all duration-200 ".concat("Sign Up"===e.name?"bg-primary-900 text-white hover:bg-primary-800 shadow-md hover:shadow-lg transform hover:scale-105 font-semibold":"text-secondary-700 hover:text-primary-500")},e.name)})),n.createElement("div",{className:"md:hidden flex items-center"},n.createElement("button",{onClick:function(){return m(!c)},className:"text-secondary-700 hover:text-primary-500 focus:outline-none focus:text-primary-500"},c?n.createElement(u.QCr,{className:"h-6 w-6"}):n.createElement(u.OXb,{className:"h-6 w-6"}))))),c&&n.createElement("div",{className:"md:hidden"},n.createElement("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3 bg-white shadow-lg"},h.map(function(e){return n.createElement(o.N_,{key:e.name,to:e.path,className:"block px-3 py-2 rounded-md text-base font-medium transition-colors duration-200 ".concat(y(e.path)?"text-primary-500 bg-primary-50":"text-secondary-700 hover:text-primary-500 hover:bg-gray-50"),onClick:function(){m(!1),p()}},e.name)}),t&&n.createElement(o.N_,{to:"/dashboard",className:"block px-3 py-2 rounded-md text-base font-medium transition-colors duration-200 ".concat(y("/dashboard")?"text-primary-500 bg-primary-50":"text-secondary-700 hover:text-primary-500 hover:bg-gray-50"),onClick:function(){m(!1),p()}},"Dashboard"),n.createElement("div",{className:"pt-4 pb-3 border-t border-gray-200"},t?n.createElement("div",{className:"space-y-2"},n.createElement(o.N_,{to:"/profile",className:"block px-3 py-2 text-sm text-primary-700 bg-primary-50 rounded-md hover:bg-primary-100 transition-all duration-200",onClick:function(){m(!1),p()}},n.createElement("div",{className:"flex items-center space-x-2"},n.createElement(u.x$1,{className:"text-primary-500"}),n.createElement("span",{className:"font-medium"},(null==t?void 0:t.name)||(null==t?void 0:t.email)||"Student"))),n.createElement("button",{onClick:function(){v(),m(!1)},className:"flex items-center space-x-2 w-full px-3 py-2 rounded-md text-base font-medium text-red-600 hover:text-red-700 hover:bg-red-50 transition-colors duration-200 cursor-pointer focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2"},n.createElement(u.axc,null),n.createElement("span",null,"Sign Out"))):x.map(function(e){return n.createElement(o.N_,{key:e.name,to:e.path,className:"block px-3 py-2 rounded-md text-base font-medium transition-all duration-200 ".concat("Sign Up"===e.name?"bg-primary-900 text-white hover:bg-primary-800 shadow-md hover:shadow-lg transform hover:scale-105 font-semibold":"text-secondary-700 hover:text-primary-500"),onClick:function(){m(!1),p()}},e.name)})))))},f=function(){const e=function(){window.scrollTo(0,0)},t=(0,o.zy)(),r=(0,l.A)().user,a=(0,i.c)(),s=a.isExpanded,c=a.isMobile,m=["/dashboard","/dashboard-new","/profile","/achievements","/subscription","/diploma","/certificates","/assessments","/resume","/rooms","/affiliates"].includes(t.pathname)||"/courses"===t.pathname&&r;return n.createElement("footer",{className:"bg-gradient-to-br from-primary-50 to-secondary-50 text-primary-900 transition-all duration-300 ease-in-out relative z-50 ".concat(m?c?"ml-16 w-[calc(100%-4rem)]":s?"ml-64 w-[calc(100%-16rem)]":"ml-16 w-[calc(100%-4rem)]":"")},n.createElement("div",{className:"".concat(m?"w-full":"max-w-7xl mx-auto"," px-4 sm:px-6 lg:px-8 py-16")},n.createElement("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-12"},n.createElement("div",{className:"col-span-1 md:col-span-2"},n.createElement("div",{className:"flex items-center space-x-3 mb-6"},n.createElement("div",{className:"w-12 h-12 bg-gradient-to-br from-primary-100 to-primary-200 rounded-2xl flex items-center justify-center"},n.createElement(u.YNd,{className:"h-6 w-6 text-primary-600"})),n.createElement("span",{className:"text-2xl font-bold text-primary-900"},"King Ezekiel Academy")),n.createElement("p",{className:"text-primary-600 mb-8 max-w-md leading-relaxed"},"Empowering students worldwide with quality education and digital skills training. Join our community of learners and transform your career today."),n.createElement("div",{className:"flex space-x-4"},n.createElement("a",{href:"https://www.facebook.com/thekingezekielacademy",target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 bg-primary-100 rounded-xl flex items-center justify-center text-primary-600 hover:bg-primary-200 hover:text-primary-700 transition-all duration-200"},n.createElement(u.iYk,{className:"h-5 w-5"})),n.createElement("a",{href:"https://www.instagram.com/thekingezekielacademy",target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 bg-primary-100 rounded-xl flex items-center justify-center text-primary-600 hover:bg-primary-200 hover:text-primary-700 transition-all duration-200"},n.createElement(u.ao$,{className:"h-5 w-5"})),n.createElement("a",{href:"https://t.me/kingezekielfreetraining",target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 bg-primary-100 rounded-xl flex items-center justify-center text-primary-600 hover:bg-primary-200 hover:text-primary-700 transition-all duration-200"},n.createElement(u.hFS,{className:"h-5 w-5"})))),n.createElement("div",null,n.createElement("h3",{className:"text-lg font-semibold text-primary-900 mb-6"},"Quick Links"),n.createElement("ul",{className:"space-y-4"},n.createElement("li",null,n.createElement(o.N_,{to:"/",onClick:e,className:"text-primary-600 hover:text-primary-700 transition-colors duration-200 flex items-center"},"Home")),n.createElement("li",null,n.createElement(o.N_,{to:"/courses",onClick:e,className:"text-primary-600 hover:text-primary-700 transition-colors duration-200 flex items-center"},"Courses")),n.createElement("li",null,n.createElement(o.N_,{to:"/about",onClick:e,className:"text-primary-600 hover:text-primary-700 transition-colors duration-200 flex items-center"},"About Us")),n.createElement("li",null,n.createElement(o.N_,{to:"/contact",onClick:e,className:"text-primary-600 hover:text-primary-700 transition-colors duration-200 flex items-center"},"Contact")))),n.createElement("div",null,n.createElement("h3",{className:"text-lg font-semibold text-primary-900 mb-6"},"Contact Info"),n.createElement("div",{className:"space-y-4"},n.createElement("div",{className:"flex items-start space-x-3"},n.createElement("div",{className:"w-8 h-8 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0 mt-1"},n.createElement(u.vq8,{className:"h-4 w-4 text-primary-600"})),n.createElement("span",{className:"text-primary-600 text-sm leading-relaxed"},"Lagos, Nigeria")),n.createElement("div",{className:"flex items-start space-x-3"},n.createElement("div",{className:"w-8 h-8 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0 mt-1"},n.createElement(u.maD,{className:"h-4 w-4 text-primary-600"})),n.createElement("span",{className:"text-primary-600 text-sm break-all"},"info@thekingezekielacademy.com")),n.createElement("div",{className:"flex items-start space-x-3"},n.createElement("div",{className:"w-8 h-8 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0 mt-1"},n.createElement(u.Cab,{className:"h-4 w-4 text-primary-600"})),n.createElement("span",{className:"text-primary-600 text-sm"},"+234 810 169 2624")),n.createElement("div",{className:"flex items-start space-x-3"},n.createElement("div",{className:"w-8 h-8 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0 mt-1"},n.createElement(u.w_X,{className:"h-4 w-4 text-primary-600"})),n.createElement("div",{className:"text-primary-600 text-sm"},n.createElement("span",{className:"text-green-600 font-semibold"},"Always Open"),n.createElement("br",null),n.createElement("span",{className:"text-xs text-gray-500"},"24/7 Online Learning")))))),n.createElement("div",{className:"border-t border-primary-200 mt-12 pt-8"},n.createElement("div",{className:"flex flex-col md:flex-row justify-between items-center"},n.createElement("p",{className:"text-primary-600 text-sm"},"Â© 2025 The King Ezekiel Academy LTD. All rights reserved."),n.createElement("div",{className:"flex space-x-8 mt-4 md:mt-0"},n.createElement(o.N_,{to:"/privacy",onClick:e,className:"text-primary-600 hover:text-primary-700 text-sm transition-colors duration-200"},"Privacy Policy"),n.createElement(o.N_,{to:"/terms",onClick:e,className:"text-primary-600 hover:text-primary-700 text-sm transition-colors duration-200"},"Terms of Service"))))))},b=function(e){let t=e.children;const r=(0,l.A)(),a=r.user,s=r.loading,i=(0,o.Zp)();return(0,n.useEffect)(function(){s||a||i("/signin")},[a,s,i]),s?n.createElement("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex items-center justify-center"},n.createElement("div",{className:"text-center"},n.createElement("div",{className:"inline-flex items-center px-6 py-3 bg-blue-50 text-blue-700 rounded-lg"},n.createElement("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},n.createElement("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.createElement("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})),"Checking authentication..."))):a?n.createElement(n.Fragment,null,t):null},h=r(2637);function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var y=function(e){let t=e.children;const r=(0,l.A)(),a=r.user,s=r.loading,i=r.isAdmin,c=(0,o.Zp)(),m=(g=(0,n.useState)(!1),p=2,function(e){if(Array.isArray(e))return e}(g)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,s,l=[],i=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;i=!1}else for(;!(i=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{if(!i&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return l}}(g,p)||function(e,t){if(e){if("string"==typeof e)return x(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?x(e,t):void 0}}(g,p)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),d=m[0],u=m[1];var g,p;return(0,n.useEffect)(function(){const e=setTimeout(function(){if(s){console.log("Admin route loading timeout - checking fallback"),u(!0);try{const e=JSON.parse(localStorage.getItem("user_profile")||"null");if(e&&"admin"===e.role)return void console.log("Using fallback admin user for route access")}catch(e){console.error("Fallback admin check failed:",e)}c("/dashboard",{replace:!0,state:{redirectedFrom:window.location.pathname,reason:"loading_timeout"}})}},15e3);return s||a?s||!a||i?(s||clearTimeout(e),function(){return clearTimeout(e)}):(clearTimeout(e),(0,h.Em)("ðŸ”’ Non-admin user attempted to access admin route, silently redirecting to dashboard"),void c("/dashboard",{replace:!0,state:{redirectedFrom:window.location.pathname}})):(clearTimeout(e),void c("/signin"))},[a,s,i,c]),s?n.createElement("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex items-center justify-center"},n.createElement("div",{className:"text-center"},n.createElement("div",{className:"inline-flex items-center px-6 py-3 bg-blue-50 text-blue-700 rounded-lg"},n.createElement("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},n.createElement("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.createElement("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})),d?"Connection timeout - retrying...":"Checking authentication..."),d&&n.createElement("div",{className:"mt-4 text-sm text-gray-600"},n.createElement("p",null,"Having trouble connecting to the server."),n.createElement("p",null,"Please check your internet connection.")))):a&&i?n.createElement(n.Fragment,null,t):null},v=function(){const e=(0,o.zy)().pathname;return(0,n.useEffect)(function(){const e=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),t=function(){window.scrollTo(0,0),document.documentElement&&(document.documentElement.scrollTop=0),document.body&&(document.body.scrollTop=0);const e=document.querySelector("main");e&&(e.scrollTop=0);try{document.body.scrollIntoView({behavior:"auto",block:"start",inline:"nearest"})}catch(e){}},r=setTimeout(function(){t(),e&&(setTimeout(function(){t()},100),setTimeout(function(){t()},300))},e?300:150);return function(){return clearTimeout(r)}},[e,!1]),null},E=r(5739);const w=function(e){let t=e.error,r=e.resetError;console.error("Error Boundary caught error:",t);const a=t instanceof Error?t.message:"Unknown error occurred";return n.createElement("div",{className:"min-h-screen flex items-center justify-center bg-gray-50"},n.createElement("div",{className:"max-w-md w-full bg-white shadow-lg rounded-lg p-6"},n.createElement("div",{className:"flex items-center mb-4"},n.createElement("div",{className:"flex-shrink-0"},n.createElement("svg",{className:"h-8 w-8 text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.268 19.5c-.77.833.192 2.5 1.732 2.5z"}))),n.createElement("div",{className:"ml-3"},n.createElement("h3",{className:"text-lg font-medium text-gray-900"},"Something went wrong"),n.createElement("p",{className:"text-sm text-gray-500"},"We're sorry, but something unexpected happened."),n.createElement("p",{className:"text-xs text-gray-400 mt-1"},"Error: ",a))),n.createElement("div",{className:"flex justify-end space-x-3"},n.createElement("button",{onClick:r,className:"bg-gray-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-gray-700"},"Try Again"),n.createElement("button",{onClick:function(){return window.location.reload()},className:"bg-blue-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-blue-700"},"Reload Page"))))};var N=function(e){let t=e.children;return n.createElement(E.tH,{fallback:w,showDialog:!1,beforeCapture:function(e,t){e.setTag("errorBoundary","SafeErrorBoundary");const r=t instanceof Error?t.message:"Unknown error",n=t instanceof Error?t.stack:void 0;e.setContext("error",{message:r,stack:n,timestamp:(new Date).toISOString()})}},t)},k=r(364);function S(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const _=new class{constructor(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{enabled:!0};S(this,"config",void 0),S(this,"sendToAnalytics",function(t){e.config.enabled&&e.config.endpoint&&fetch(e.config.endpoint,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).catch(function(){})}),this.config=t}startMonitoring(){if(this.config.enabled)try{(0,k.Tn)(this.sendToAnalytics.bind(this)),(0,k.Gh)(this.sendToAnalytics.bind(this)),(0,k.S_)(this.sendToAnalytics.bind(this)),(0,k.EK)(this.sendToAnalytics.bind(this)),(0,k.NB)(this.sendToAnalytics.bind(this))}catch(e){console.warn("Web Vitals monitoring failed:",e)}}}({enabled:!!process.env.REACT_APP_ANALYTICS_ENDPOINT&&"your-analytics-endpoint.com/api/vitals"!==process.env.REACT_APP_ANALYTICS_ENDPOINT,endpoint:process.env.REACT_APP_ANALYTICS_ENDPOINT&&"your-analytics-endpoint.com/api/vitals"!==process.env.REACT_APP_ANALYTICS_ENDPOINT?process.env.REACT_APP_ANALYTICS_ENDPOINT:void 0});var C=_,A=r(8212);function P(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const j=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{enabled:!1};P(this,"config",void 0),P(this,"gtag",void 0),this.config=e,this.gtag=null}async initialize(){if(this.config.enabled&&this.config.measurementId)if((0,A.K3)().enableAnalytics)try{const e=document.createElement("script");e.src="https://www.googletagmanager.com/gtag/js?id=".concat(this.config.measurementId),e.async=!0,document.head.appendChild(e),window.dataLayer=window.dataLayer||[],this.gtag=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];window.dataLayer.push(t)},this.gtag("js",new Date),this.gtag("config",this.config.measurementId,{page_title:document.title,page_location:window.location.href})}catch(e){console.warn("Analytics initialization failed:",e)}else console.log("Analytics disabled for browser compatibility")}trackEvent(e,t){if(this.gtag&&this.config.enabled)try{this.gtag("event",e,t)}catch(e){console.warn("Analytics tracking failed:",e)}}trackPageView(e,t){if(this.gtag&&this.config.enabled)try{this.gtag("config",this.config.measurementId,{page_path:e,page_title:t||document.title})}catch(e){console.warn("Analytics page tracking failed:",e)}}}({enabled:!!process.env.REACT_APP_GA_MEASUREMENT_ID,measurementId:process.env.REACT_APP_GA_MEASUREMENT_ID});var O=j,T=r(7372);if(!window.Promise){console.warn("Promise not supported, loading polyfill");const e=document.createElement("script");e.src="https://cdn.jsdelivr.net/npm/es6-promise@4/dist/es6-promise.auto.min.js",document.head.appendChild(e)}if(!window.fetch){console.warn("Fetch not supported, loading polyfill");const e=document.createElement("script");e.src="https://cdn.jsdelivr.net/npm/whatwg-fetch@3.6.2/dist/fetch.umd.js",document.head.appendChild(e)}const I=function(e){try{const t=window[e],r="__storage_test__";return t.setItem(r,r),t.removeItem(r),!0}catch(e){return!1}};if(I("localStorage")||(console.warn("localStorage not available, using memory storage"),window.localStorage={_data:{},setItem:function(e,t){this._data[e]=String(t)},getItem:function(e){return this._data.hasOwnProperty(e)?this._data[e]:null},removeItem:function(e){delete this._data[e]},clear:function(){this._data={}}}),I("sessionStorage")||(console.warn("sessionStorage not available, using memory storage"),window.sessionStorage={_data:{},setItem:function(e,t){this._data[e]=String(t)},getItem:function(e){return this._data.hasOwnProperty(e)?this._data[e]:null},removeItem:function(e){delete this._data[e]},clear:function(){this._data={}}}),!window.IntersectionObserver){console.warn("IntersectionObserver not supported, loading polyfill");const e=document.createElement("script");e.src="https://cdn.jsdelivr.net/npm/intersection-observer@0.12.2/intersection-observer.js",document.head.appendChild(e)}if(!window.ResizeObserver){console.warn("ResizeObserver not supported, loading polyfill");const e=document.createElement("script");e.src="https://cdn.jsdelivr.net/npm/resize-observer-polyfill@1.5.1/dist/ResizeObserver.global.js",document.head.appendChild(e)}window.addEventListener("error",function(e){if(e.filename&&e.filename.includes("polyfill"))return console.warn("Polyfill loading error:",e.message),e.preventDefault(),!1});const L={userAgent:navigator.userAgent,isChrome:/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor),isFirefox:/Firefox/.test(navigator.userAgent),isSafari:/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor),isEdge:/Edg/.test(navigator.userAgent),isIE:/MSIE|Trident/.test(navigator.userAgent),isInstagram:/Instagram/.test(navigator.userAgent),isFacebook:/FBAN|FBAV/.test(navigator.userAgent),isInAppBrowser:/Instagram|FBAN|FBAV|Line|WhatsApp|Twitter/.test(navigator.userAgent),supportsServiceWorker:"serviceWorker"in navigator,supportsWebP:0===document.createElement("canvas").toDataURL("image/webp").indexOf("data:image/webp")};if(console.log("Browser compatibility info:",L),L.isInstagram||L.isInAppBrowser){console.log("Instagram/In-app browser detected - applying compatibility fixes"),"serviceWorker"in navigator&&navigator.serviceWorker.getRegistrations().then(function(e){e.forEach(function(e){e.unregister()})});const e=document.createElement("meta");e.name="viewport",e.content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover",document.head.appendChild(e);const t=document.createElement("div");t.id="instagram-notice",t.style.cssText="\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);\n    color: white;\n    padding: 12px;\n    text-align: center;\n    font-size: 14px;\n    z-index: 10000;\n    box-shadow: 0 2px 10px rgba(0,0,0,0.1);\n  ",t.innerHTML='\n    <div style="display: flex; align-items: center; justify-content: center; gap: 10px;">\n      <span>ðŸ“± For the best experience, open in Chrome or Safari</span>\n      <button onclick="this.parentElement.parentElement.style.display=\'none\'" style="background: none; border: none; color: white; font-size: 16px; cursor: pointer;">âœ•</button>\n    </div>\n  ',document.body.appendChild(t),document.body.style.paddingTop="50px"}L.isIE&&(console.warn("Internet Explorer is not supported. Please use a modern browser."),document.body.innerHTML='\n    <div style="text-align: center; padding: 50px; font-family: Arial, sans-serif;">\n      <h1>Browser Not Supported</h1>\n      <p>Internet Explorer is not supported. Please use a modern browser like Chrome, Firefox, Safari, or Edge.</p>\n      <p>Download a modern browser:</p>\n      <a href="https://www.google.com/chrome/" target="_blank">Chrome</a> |\n      <a href="https://www.mozilla.org/firefox/" target="_blank">Firefox</a> |\n      <a href="https://www.apple.com/safari/" target="_blank">Safari</a> |\n      <a href="https://www.microsoft.com/edge/" target="_blank">Edge</a>\n    </div>\n  ');var D=r(900);const R=process.env.REACT_APP_SENTRY_DSN;R&&"your_sentry_dsn_here"!==R&&R.length>10?D.T({dsn:R,environment:"production",tracesSampleRate:.1,beforeSend(e){if(e.exception){var t,r,n;const a=e.exception.values[0];if("Error"===a.type&&(null!==(t=a.value)&&void 0!==t&&t.includes("console")||null!==(r=a.value)&&void 0!==r&&r.includes("network")||null!==(n=a.value)&&void 0!==n&&n.includes("404")))return null}return e}}):console.log("Sentry not initialized - no valid DSN provided");function M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function B(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?M(Object(r),!0).forEach(function(t){F(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function F(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,s,l=[],i=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;i=!1}else for(;!(i=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{if(!i&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return U(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?U(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const q=function(){const e=navigator.userAgent.match(/Version\/(\d+)/);return e?parseInt(e[1],10):null},W=function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)},V=function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream},Y=function(){return/Instagram/i.test(navigator.userAgent)},G=function(){return/FBAN|FBAV|FBIOS/i.test(navigator.userAgent)},H=function(){return Y()||G()||/Line|Twitter|LinkedIn|WhatsApp|Telegram/i.test(navigator.userAgent)},K=function(){return W()||H()||/WebKit/i.test(navigator.userAgent)},X=function(){const e=q();return W()&&null!==e&&e<14},J=function(){const e=q(),t=W(),r=H(),n=K();if(console.log("ðŸ” Safari/WebKit Detection:",{isSafari:t,isIOSSafari:V(),isInstagramBrowser:Y(),isFacebookBrowser:G(),isInAppBrowser:r,isSafariWebKit:n,version:e,userAgent:navigator.userAgent}),n){if(e&&e<14&&(Object.fromEntries||(Object.fromEntries=function(e){const t={};for(const n of e){var r=z(n,2);const e=r[0],a=r[1];t[e]=a}return t})),e&&e<13&&(String.prototype.replaceAll||(String.prototype.replaceAll=function(e,t){return this.split(e).join(t)})),e&&e<12&&(Promise.prototype.finally||(Promise.prototype.finally=function(e){return this.then(function(t){return Promise.resolve(e()).then(function(){return t})},function(t){return Promise.resolve(e()).then(function(){throw t})})})),(r||e&&e<15)&&(window.URLPattern||(window.URLPattern=class{constructor(e){F(this,"pattern",void 0),this.pattern=e}test(e){try{return new RegExp(this.pattern).test(e)}catch(e){return!1}}}),r&&"function"==typeof fetch)){const e=window.fetch;window.fetch=function(t,r){const n="string"==typeof t?t:t.toString(),a=new URL(n,window.location.origin);return a.searchParams.set("_inapp",Date.now().toString()),e.call(this,a.toString(),B(B({},r),{},{cache:"no-cache",headers:B({"Cache-Control":"no-cache",Pragma:"no-cache"},null==r?void 0:r.headers)}))}}if(n&&window.addEventListener("error",function(t){if(t.error&&t.error.message&&(t.error.message.includes("Unexpected token")||t.error.message.includes("SyntaxError")||t.error.message.includes("ReferenceError"))){console.error("ðŸš¨ Safari/WebKit Error detected:",{error:t.error,isInApp:r,isInstagram:Y(),isFacebook:G(),safariVersion:e});const n=document.createElement("div");n.style.cssText="\n          position: fixed;\n          top: 0;\n          left: 0;\n          right: 0;\n          background: #ff6b6b;\n          color: white;\n          padding: 15px;\n          text-align: center;\n          z-index: 10000;\n          font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n          font-size: 14px;\n        ";let a="Safari Compatibility Issue Detected";Y()?a="Instagram Browser Compatibility Issue":G()&&(a="Facebook Browser Compatibility Issue"),n.innerHTML="\n          <strong>".concat(a,"</strong><br>\n          Please try refreshing the page or opening in Safari/Chrome for the best experience.\n          <br><small>Browser: ").concat(r?"In-App":"Safari"," ").concat(e?"v".concat(e):"","</small>\n        "),document.body.appendChild(n),setTimeout(function(){n.parentNode&&n.parentNode.removeChild(n)},1e4)}}),n){const e=localStorage.getItem("safari-last-reload"),t=Date.now(),n=36e5;(!e||t-parseInt(e,10)>n)&&(localStorage.setItem("safari-last-reload",t.toString()),document.querySelectorAll("script[src]").forEach(function(e){if(e.src&&!e.src.includes("v=")){const t=new URL(e.src);t.searchParams.set("v",Date.now().toString()),r&&t.searchParams.set("_inapp","1"),e.src=t.toString()}}),document.querySelectorAll("link[href]").forEach(function(e){if(e.href&&!e.href.includes("v=")){const t=new URL(e.href);t.searchParams.set("v",Date.now().toString()),r&&t.searchParams.set("_inapp","1"),e.href=t.toString()}}))}}};var $=r(9620),Z=r(5608),Q=r(2480),ee=r(4307),te=r(1919),re=r(3288);function ne(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ae(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(r),!0).forEach(function(t){oe(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ne(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function oe(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const se={PAGE_VIEW:"PageView",LEAD:"Lead",COMPLETE_REGISTRATION:"CompleteRegistration",VIEW_CONTENT:"ViewContent",SEARCH:"Search",ADD_TO_CART:"AddToCart",INITIATE_CHECKOUT:"InitiateCheckout",PURCHASE:"Purchase",CONTACT:"Contact",SUBSCRIBE:"Subscribe",START_TRIAL:"StartTrial",COURSE_VIEW:"CourseView",COURSE_ENROLL:"CourseEnroll",COURSE_COMPLETE:"CourseComplete",BLOG_VIEW:"BlogView",BLOG_SHARE:"BlogShare",VIDEO_PLAY:"VideoPlay",VIDEO_COMPLETE:"VideoComplete",DOWNLOAD:"Download",SIGN_UP:"SignUp",LOGIN:"Login",LOGOUT:"Logout"},le=function(){return ae({content_type:"product",content_category:"education",currency:"NGN",value:0},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})},ie=function(e,t){return le(ae({content_type:"course",content_category:"digital_marketing_education",content_ids:[e],content_name:t,value:arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,currency:"NGN"},arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}))},ce=function(e,t){return ae({content_type:"product",content_category:"subscription",value:t,currency:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"NGN",transaction_id:e},arguments.length>3&&void 0!==arguments[3]?arguments[3]:{})},me=function(e,t){return le(ae({content_type:"article",content_category:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"digital_marketing",content_ids:[e],content_name:t},arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}))},de=function(e,t,r){return le(ae({content_type:"video",content_category:"course_video",content_ids:[e],content_name:t,video_duration:r},arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}))};function ue(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ge(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(r),!0).forEach(function(t){pe(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ue(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function pe(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const fe=function(){const e=function(){return"undefined"!=typeof window&&window.fbq},t=(0,n.useCallback)(function(){e()&&window.fbq("track","PageView")},[]),r=(0,n.useCallback)(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"course_inquiry",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e()){const e=function(){return le(ae({content_type:"lead",content_category:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"course_inquiry",value:arguments.length>1&&void 0!==arguments[1]?arguments[1]:0},arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}))}(t,r,n);window.fbq("track",se.LEAD,e)}},[]),a=(0,n.useCallback)(function(t,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(e()){const e=ie(t,r,n,a);window.fbq("track",se.VIEW_CONTENT,e),window.fbq("track",se.COURSE_VIEW,e)}},[]),o=(0,n.useCallback)(function(t,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(e()){const e=ie(t,r,n,a);window.fbq("track",se.COURSE_ENROLL,e)}},[]),s=(0,n.useCallback)(function(t,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e()){const e=ie(t,r,0,n);window.fbq("track",se.COURSE_COMPLETE,e)}},[]),l=(0,n.useCallback)(function(t,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"NGN",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(e()){const e=ce(t,r,n,a);window.fbq("track",se.PURCHASE,e)}},[]),i=(0,n.useCallback)(function(t,r,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(e()){const e=ce(n,r,"NGN",ge({plan_name:t,subscription_id:n},a));window.fbq("track",se.PURCHASE,e)}},[]),c=(0,n.useCallback)(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e()){const e=function(){return le(ae({content_type:"trial",content_category:"free_trial",trial_days:arguments.length>0&&void 0!==arguments[0]?arguments[0]:7},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(t,r);window.fbq("track",se.START_TRIAL,e)}},[]),m=(0,n.useCallback)(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"email",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e()){const e=function(){return le(ae({content_type:"registration",content_category:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"email"},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(t,r);window.fbq("track",se.COMPLETE_REGISTRATION,e),window.fbq("track",se.SIGN_UP,e)}},[]),d=(0,n.useCallback)(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"email",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e()){const e=le(ge({login_method:t},r));window.fbq("track",se.LOGIN,e)}},[]),u=(0,n.useCallback)(function(t,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"digital_marketing",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(e()){const e=me(t,r,n,a);window.fbq("track",se.VIEW_CONTENT,e),window.fbq("track",se.BLOG_VIEW,e)}},[]),g=(0,n.useCallback)(function(t,r,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(e()){const e=me(t,r,"digital_marketing",ge({share_platform:n},a));window.fbq("track",se.BLOG_SHARE,e)}},[]),p=(0,n.useCallback)(function(t,r,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(e()){const e=de(t,r,n,a);window.fbq("track",se.VIDEO_PLAY,e)}},[]),f=(0,n.useCallback)(function(t,r,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(e()){const e=de(t,r,n,a);window.fbq("track",se.VIDEO_COMPLETE,e)}},[]),b=(0,n.useCallback)(function(t,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e()){const e=function(e,t){return le(ae({content_type:"search",content_category:"course_search",search_string:e,search_results:t},arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}))}(t,r,n);window.fbq("track",se.SEARCH,e)}},[]),h=(0,n.useCallback)(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"contact_form",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e()){const e=function(){return le(ae({content_type:"contact",content_category:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"contact_form"},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(t,r);window.fbq("track",se.CONTACT,e)}},[]),x=(0,n.useCallback)(function(t,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e()){const e=le(ge({content_type:"download",content_category:t,content_name:r},n));window.fbq("track",se.DOWNLOAD,e)}},[]),y=(0,n.useCallback)(function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e()){const e=le(r);window.fbq("track",t,e)}},[]),v=(0,n.useCallback)(function(t,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(e()){const e=ie(t,r,n,a);window.fbq("track",se.ADD_TO_CART,e)}},[]),E=(0,n.useCallback)(function(t,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(e()){const e=ie(t,r,n,a);window.fbq("track",se.INITIATE_CHECKOUT,e)}},[]);return{trackPageView:t,trackLead:r,trackCourseView:a,trackCourseEnroll:o,trackCourseComplete:s,trackPurchase:l,trackSubscription:i,trackTrialStart:c,trackRegistration:m,trackLogin:d,trackBlogView:u,trackBlogShare:g,trackVideoPlay:p,trackVideoComplete:f,trackSearch:b,trackContact:h,trackDownload:x,trackCustomEvent:y,trackAddToCart:v,trackInitiateCheckout:E,FB_PIXEL_EVENTS:se,FACEBOOK_PIXEL_ID:"1991898708291767"}};function be(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function he(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?be(Object(r),!0).forEach(function(t){xe(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):be(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function xe(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ye(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,s,l=[],i=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;i=!1}else for(;!(i=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{if(!i&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ve(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ve(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Ee=function(){var e,t,a;const s=ye((0,n.useState)(""),2),c=s[0],m=s[1],d=ye((0,n.useState)("all"),2),g=d[0],p=d[1],f=ye((0,n.useState)("all"),2),b=f[0],h=f[1],x=ye((0,n.useState)("all"),2),y=x[0],v=x[1],E=ye((0,n.useState)(""),2),w=E[0],N=E[1],k=ye((0,n.useState)([]),2),S=k[0],_=k[1],C=ye((0,n.useState)(!0),2),A=C[0],P=C[1],j=ye((0,n.useState)(null),2),O=j[0],T=j[1],I=ye((0,n.useState)(!0),2),L=I[0],D=I[1],R=ye((0,n.useState)(0),2),M=R[0],B=R[1],F=ye((0,n.useState)(!1),2),z=F[0],U=F[1],q=ye((0,n.useState)(!1),2),W=q[0],V=q[1],Y=ye((0,n.useState)(!1),2),G=Y[0],H=Y[1],K=10,X=(0,o.Zp)(),J=(0,l.A)().user,$=(0,i.c)(),ne=$.isExpanded,ae=$.isMobile,oe=fe();oe.trackCourseView,oe.trackSearch,oe.trackLead,(0,n.useEffect)(function(){},[J,ae,ne]);const se=async function(e){if(null!=J&&J.id){if(e)return console.log("âœ… User has ACTIVE subscription from database, no trial access needed"),V(!1),Q.A.setSubscriptionActive(!0),void(localStorage.getItem("user_trial_status")&&(console.log("ðŸ—‘ï¸ Clearing localStorage trial data for subscribed user"),localStorage.removeItem("user_trial_status")));if(Q.A.isSubscriptionActive())return console.log("âœ… User has active subscription from local storage, no trial access needed"),void V(!1);try{const t=localStorage.getItem("user_trial_status");if(t)try{const e=JSON.parse(t),r=ee.A.calculateDaysRemaining(e.endDate),n=e.isActive&&r>0;return void V(n)}catch(e){}const r=J.created_at?new Date(J.created_at):new Date,n=Math.ceil((Date.now()-r.getTime())/864e5);if(!J.created_at||n<=7){const e=r,t=new Date(e);t.setDate(e.getDate()+6),t.setHours(23,59,59,999);const n=ee.A.calculateDaysRemaining(t.toISOString()),a={isActive:n>0,startDate:e.toISOString(),endDate:t.toISOString(),daysRemaining:n,isExpired:n<=0};localStorage.setItem("user_trial_status",JSON.stringify(a)),V(a.isActive&&n>0)}else V(!1);try{const t=await ee.A.hasTrialAccess(J.id);e||V(t)}catch(e){}}catch(e){console.error("Error in checkTrialAccess:",e),V(!1)}}};(0,n.useEffect)(function(){J?async function(){const e=await async function(){if(null!=J&&J.id)if(Z.N.auth.getUser())try{const e=await Z.N.from("user_subscriptions").select("*").eq("user_id",J.id).eq("status","active").order("created_at",{ascending:!1}).limit(1),t=e.data;return!e.error&&t&&t.length>0?(H(!0),!0):(H(!1),!1)}catch(e){return H(!1),!1}else console.log("Auth not ready, skipping subscription check")}();await se(e)}():V(!1)},[J]);const le=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{if(0===e?(P(!0),T(null)):U(!0),J){const e=await Z.N.auth.refreshSession();if(e.data,e.error){(await Z.N.auth.getSession()).data.session}}let o=Z.N.from("courses").select("\n          *,\n          course_videos (\n            id,\n            name,\n            duration,\n            order_index\n          )\n        ").in("status",["published","scheduled"]);"all"!==g&&(o=o.eq("category",g)),"all"!==b&&(o=o.eq("level",b)),w&&(o=o.or("title.ilike.%".concat(w,"%,description.ilike.%").concat(w,"%"))),o="latest"===y?o.order("created_at",{ascending:!1}):"most-enrolled"===y?o.order("students",{ascending:!1}):o.order("created_at",{ascending:!1}),"latest"===y||"most-enrolled"===y?o=o.limit(10):"all"!==g||"all"!==b||(o=o.range(e*K,(e+1)*K-1));const s=await o,l=s.data,i=s.error;if(i){var r;if(console.error("âŒ Supabase error:",i),"PGRST303"===i.code||null!==(r=i.message)&&void 0!==r&&r.includes("JWT expired")){const r=await Z.N.auth.refreshSession(),o=(r.data,r.error);if(o)return console.error("âŒ Failed to refresh session:",o),J&&T("Authentication expired. Please sign in again."),void(0===e?P(!1):U(!1));let s=Z.N.from("courses").select("\n              *,\n              course_videos (\n                id,\n                name,\n                duration,\n                order_index\n              )\n            ");"all"!==g&&(s=s.eq("category",g)),"all"!==b&&(s=s.eq("level",b)),w&&(s=s.or("title.ilike.%".concat(w,"%,description.ilike.%").concat(w,"%"))),s="latest"===y?s.order("created_at",{ascending:!1}):"most-enrolled"===y?s.order("students",{ascending:!1}):s.order("created_at",{ascending:!1}),"latest"===y||"most-enrolled"===y?s=s.limit(10):"all"!==g||"all"!==b||(s=s.range(e*K,(e+1)*K-1));const l=await s,i=l.data,c=l.error;if(c)throw c;if(i){var n,a;console.log("ðŸ” Raw course data from database:",i),console.log(" First course cover_photo_url:",null===(n=i[0])||void 0===n?void 0:n.cover_photo_url),console.log(" First course cover_url:",null===(a=i[0])||void 0===a?void 0:a.cover_url);const r=i.map(function(e){var t;return he(he({},e),{},{category:e.category||"general",duration:ce(e.course_videos||[]),instructor:"King Ezekiel Academy",rating:4.5,students:0,cover_photo:e.cover_photo_url||"https://images.unsplash.com/photo-1461749280684-dccba630e2f6?w=400&h=250&fit=crop",lessons:(null===(t=e.course_videos)||void 0===t?void 0:t.length)||0})});console.log(" Transformed course data:",r[0]);const o=t?r:ie(r);return _(t?function(e){return[...e,...o]}:o),D("latest"!==y&&"most-enrolled"!==y&&"all"===g&&"all"===b&&i.length===K),B(e),void(0===e?P(!1):U(!1))}}throw i}if(l){const r=l.map(function(e){var t;return he(he({},e),{},{category:e.category||"general",duration:ce(e.course_videos||[]),instructor:"King Ezekiel Academy",rating:4.5,students:0,cover_photo:e.cover_photo_url||"https://images.unsplash.com/photo-1461749280684-dccba630e2f6?w=400&h=250&fit=crop",lessons:(null===(t=e.course_videos)||void 0===t?void 0:t.length)||0})}),n=t?r:ie(r);_(t?function(e){return[...e,...n]}:n),D("latest"!==y&&"most-enrolled"!==y&&"all"===g&&"all"===b&&l.length===K),B(e)}else t||_([]),D(!1)}catch(e){console.error("âŒ Error fetching courses:",e),T(J?"Failed to load courses from database: ".concat(e instanceof Error?e.message:"Unknown error"):"Unable to load courses at the moment. Please try again later.")}finally{0===e?P(!1):U(!1)}},ie=function(e){const t=[...e];for(let e=t.length-1;e>0;e--){const n=Math.floor(Math.random()*(e+1));var r=[t[n],t[e]];t[e]=r[0],t[n]=r[1]}return t},ce=function(e){if(!e||0===e.length)return"0 min";let t=0;e.forEach(function(e){const r=e.duration;if(r)if(r.includes(":")){const e=r.split(":");2===e.length?(t+=60*(parseInt(e[0])||0),t+=parseInt(e[1])||0):3===e.length&&(t+=3600*(parseInt(e[0])||0),t+=60*(parseInt(e[1])||0),t+=parseInt(e[2])||0)}else if(r.includes("min")||r.includes("m")){const e=r.match(/(\d+)/);e&&(t+=60*(parseInt(e[1])||0))}else if(r.includes("h")||r.includes("hour")){const e=r.match(/(\d+)/);e&&(t+=3600*(parseInt(e[1])||0))}else{const e=parseInt(r);isNaN(e)||(t+=60*e)}});const r=Math.floor(t/3600),n=Math.floor(t%3600/60),a=t%60;return r>0?0===n&&0===a?"".concat(r,"h"):0===a?"".concat(r,"h ").concat(n,"m"):"".concat(r,"h ").concat(n,"m ").concat(a,"s"):n>0?0===a?"".concat(n,"m"):"".concat(n,"m ").concat(a,"s"):"".concat(a,"s")},me=function(e){h(e),B(0),D(!0),le(0,!1)},de=function(e){v(e),B(0),D(!0),le(0,!1)};(0,n.useEffect)(function(){le(0,!1),null!=J&&J.id&&se(G)},[null==J?void 0:J.id]),(0,n.useEffect)(function(){},[null==J?void 0:J.id,W,G]),(0,n.useEffect)(function(){le(0,!1)},[g,b,y,w]),(0,n.useEffect)(function(){const e=setTimeout(function(){N(c)},300);return function(){return clearTimeout(e)}},[c]);const ue=[{value:"all",label:"All Categories"},{value:"business-entrepreneurship",label:"Business & Entrepreneurship"},{value:"branding-public-relations",label:"Branding & Public Relations"},{value:"content-communication",label:"Content & Communication"},{value:"digital-advertising",label:"Digital Advertising"},{value:"email-seo-strategies",label:"Email & SEO Strategies"},{value:"ui-ux-design",label:"UI/UX Design"},{value:"visual-communication",label:"Visual Communication"},{value:"video-editing-creation",label:"Video Editing & Creation"},{value:"data-science-analytics",label:"Data Science & Analytics"},{value:"artificial-intelligence-cloud",label:"AI & Cloud Computing"},{value:"project-workflow-management",label:"Project & Workflow Management"},{value:"information-security",label:"Information Security"}],ge=[{value:"all",label:"All Courses"},{value:"latest",label:"Latest (Last 10)"},{value:"most-enrolled",label:"Most Enrolled (Top 10)"}],pe=[{value:"all",label:"All Levels"},...Array.from(new Set(S.map(function(e){return e.level}))).filter(function(e){return e}).map(function(e){return{value:e,label:{beginner:"Lv 1 â€“ Beginner",intermediate:"Lv 2 â€“ Intermediate",advanced:"Lv 3 â€“ Advanced",expert:"Lv 4 â€“ Expert",mastery:"Lv 5 â€“ Mastery"}[e]||e}})],be=S;return n.createElement("div",{className:"min-h-screen bg-gray-50"},n.createElement(re.A,{title:"Digital Marketing Courses - King Ezekiel Academy",description:"Master digital marketing with our comprehensive courses designed for beginners and professionals. Learn SEO, social media, e-commerce, and more from industry experts."}),J&&n.createElement(te.A,null),n.createElement("div",{className:function(){const e=J?ae?"ml-16":ne?"ml-64":"ml-16":"";return"".concat("transition-all duration-300 ease-in-out"," ").concat(e).trim()}(),style:{minHeight:"100vh"}},n.createElement("div",{className:"pt-16"},n.createElement("div",{className:"mx-auto py-8 sm:py-12 ".concat(ne?"max-w-7xl px-2 sm:px-6 lg:px-8":"max-w-full px-2 sm:px-8 lg:px-12")},n.createElement("div",{className:"text-center mb-6 sm:mb-8"},n.createElement("div",{className:"flex items-center justify-center gap-2 sm:gap-4 mb-3 sm:mb-4"},n.createElement("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-gray-900 leading-tight"},"Explore Our Courses"),J&&n.createElement("button",{onClick:function(){A||(B(0),D(!0),T(null),le(0,!1))},disabled:A,className:"p-1.5 sm:p-2 text-gray-600 hover:text-primary-600 transition-colors",title:"Refresh courses"},n.createElement("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 ".concat(A?"animate-spin":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})))),n.createElement("p",{className:"text-base sm:text-lg md:text-xl text-gray-600 max-w-3xl mx-auto px-2 sm:px-0 leading-relaxed"},"Master the most in-demand digital skills with our comprehensive courses. Start free and upgrade to access all courses.")),J&&n.createElement("div",{className:"mb-6 sm:mb-8"},G&&n.createElement("div",{className:"bg-gradient-to-r from-green-500 to-emerald-600 rounded-xl sm:rounded-2xl p-4 sm:p-6 text-white shadow-xl border border-green-400"},n.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0"},n.createElement("div",{className:"flex items-center space-x-3 sm:space-x-4"},n.createElement("div",{className:"bg-white/20 p-2 sm:p-3 rounded-full flex-shrink-0"},n.createElement("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 md:w-8 md:h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"}))),n.createElement("div",{className:"min-w-0 flex-1"},n.createElement("h3",{className:"text-base sm:text-lg md:text-2xl font-bold mb-1"},"ðŸŽ‰ Full Access Active!"),n.createElement("p",{className:"text-green-100 text-xs sm:text-sm md:text-lg leading-relaxed"},"Your subscription gives you unlimited access to all courses"))),n.createElement("div",{className:"text-center sm:text-right"},n.createElement("div",{className:"bg-white/20 px-3 sm:px-4 py-2 rounded-full text-xs sm:text-sm font-semibold inline-block"},"Premium Member")))),!G&&W&&n.createElement("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-600 rounded-xl sm:rounded-2xl p-4 sm:p-6 text-white shadow-xl border border-blue-400"},n.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0"},n.createElement("div",{className:"flex items-center space-x-3 sm:space-x-4"},n.createElement("div",{className:"bg-white/20 p-2 sm:p-3 rounded-full flex-shrink-0"},n.createElement("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 md:w-8 md:h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"}))),n.createElement("div",{className:"min-w-0 flex-1"},n.createElement("h3",{className:"text-base sm:text-lg md:text-2xl font-bold mb-1"},"â° Free Trial Active"),n.createElement("p",{className:"text-blue-100 text-xs sm:text-sm md:text-lg leading-relaxed"},"Enjoy full access for a limited time - upgrade to continue learning"))),n.createElement("div",{className:"text-center sm:text-right"},n.createElement("button",{onClick:function(){return X("/subscription")},className:"bg-white text-blue-600 px-3 sm:px-4 md:px-6 py-2 sm:py-3 rounded-full font-semibold hover:bg-blue-50 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 text-xs sm:text-sm md:text-base"},"Upgrade Now")))),!G&&!W&&J&&n.createElement("div",{className:"bg-gradient-to-r from-orange-500 to-red-500 rounded-xl sm:rounded-2xl p-4 sm:p-6 text-white shadow-xl border border-orange-400"},n.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0"},n.createElement("div",{className:"flex items-center space-x-3 sm:space-x-4"},n.createElement("div",{className:"bg-white/20 p-2 sm:p-3 rounded-full flex-shrink-0"},n.createElement("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 md:w-8 md:h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"}))),n.createElement("div",{className:"min-w-0 flex-1"},n.createElement("h3",{className:"text-base sm:text-lg md:text-2xl font-bold mb-1"},"âš ï¸ Trial Expired"),n.createElement("p",{className:"text-orange-100 text-xs sm:text-sm md:text-lg leading-relaxed"},"Your free trial has ended - subscribe to continue learning"))),n.createElement("div",{className:"text-center sm:text-right"},n.createElement("button",{onClick:function(){return X("/subscription")},className:"bg-white text-orange-600 px-3 sm:px-4 md:px-6 py-2 sm:py-3 rounded-full font-semibold hover:bg-orange-50 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 text-xs sm:text-sm md:text-base"},"Subscribe Now"))))),!J&&n.createElement("div",{className:"mb-6 sm:mb-8"},n.createElement("div",{className:"bg-gradient-to-r from-purple-500 to-pink-600 rounded-xl sm:rounded-2xl p-4 sm:p-6 text-white shadow-xl border border-purple-400"},n.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0"},n.createElement("div",{className:"flex items-center space-x-3 sm:space-x-4"},n.createElement("div",{className:"bg-white/20 p-2 sm:p-3 rounded-full flex-shrink-0"},n.createElement("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 md:w-8 md:h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"}))),n.createElement("div",{className:"min-w-0 flex-1"},n.createElement("h3",{className:"text-base sm:text-lg md:text-2xl font-bold mb-1"},"ðŸ‘‹ Welcome Guest!"),n.createElement("p",{className:"text-purple-100 text-xs sm:text-sm md:text-lg leading-relaxed"},"Browse our courses and start learning for free"))),n.createElement("div",{className:"text-center sm:text-right"},n.createElement("button",{onClick:function(){return X("/signup")},className:"bg-white text-purple-600 px-3 sm:px-4 md:px-6 py-2 sm:py-3 rounded-full font-semibold hover:bg-purple-50 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 text-xs sm:text-sm md:text-base"},"Start Free!"))))),n.createElement("div",{className:"mb-6 sm:mb-8 ".concat(ne?"max-w-7xl mx-auto px-2 sm:px-6 lg:px-8":"max-w-full mx-auto px-2 sm:px-8 lg:px-12")},n.createElement("div",{className:"mb-4 sm:mb-6"},n.createElement("div",{className:"relative"},n.createElement(u.KSO,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4 sm:w-5 sm:h-5"}),n.createElement("input",{type:"text",placeholder:"Search courses...",value:c,onChange:function(e){return m(e.target.value)},className:"w-full pl-10 sm:pl-12 pr-4 py-2.5 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-sm sm:text-base"}))),n.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2 sm:gap-3 mb-4 sm:mb-6"},n.createElement("select",{value:g,onChange:function(e){return t=e.target.value,p(t),B(0),D(!0),void le(0,!1);var t},className:"w-full px-3 sm:px-4 py-2.5 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-xs sm:text-sm"},ue.map(function(e){return n.createElement("option",{key:e.value,value:e.value},e.label)})),n.createElement("select",{value:b,onChange:function(e){return me(e.target.value)},className:"w-full px-3 sm:px-4 py-2.5 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-xs sm:text-sm"},pe.map(function(e){return n.createElement("option",{key:e.value,value:e.value},e.label)})),n.createElement("select",{value:y,onChange:function(e){return de(e.target.value)},className:"w-full px-3 sm:px-4 py-2.5 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-xs sm:text-sm"},ge.map(function(e){return n.createElement("option",{key:e.value,value:e.value},e.label)}))),("all"!==g||"all"!==b||"all"!==y)&&n.createElement("div",{className:"flex flex-wrap gap-2 mb-4"},"all"!==g&&n.createElement("span",{className:"inline-flex items-center px-2 sm:px-3 py-1 rounded-full text-xs font-medium bg-primary-100 text-primary-800"},null===(e=ue.find(function(e){return e.value===g}))||void 0===e?void 0:e.label,n.createElement("button",{onClick:function(){return p("all")},className:"ml-1.5 sm:ml-2 text-primary-600 hover:text-primary-800"},"Ã—")),"all"!==b&&n.createElement("span",{className:"inline-flex items-center px-2 sm:px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800"},null===(t=pe.find(function(e){return e.value===b}))||void 0===t?void 0:t.label,n.createElement("button",{onClick:function(){return me("all")},className:"ml-1.5 sm:ml-2 text-blue-600 hover:text-blue-800"},"Ã—")),"all"!==y&&n.createElement("span",{className:"inline-flex items-center px-2 sm:px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800"},null===(a=ge.find(function(e){return e.value===y}))||void 0===a?void 0:a.label,n.createElement("button",{onClick:function(){return de("all")},className:"ml-1.5 sm:ml-2 text-green-600 hover:text-green-800"},"Ã—")),n.createElement("button",{onClick:function(){p("all"),h("all"),v("all"),B(0),D(!0),le(0,!1)},className:"text-xs sm:text-sm text-gray-600 hover:text-gray-800 underline"},"Clear all filters"))),A&&n.createElement("div",{className:"text-center py-8 sm:py-12"},n.createElement("div",{className:"inline-block animate-spin rounded-full h-6 w-6 sm:h-8 sm:w-8 border-b-2 border-primary-600"}),n.createElement("p",{className:"mt-2 text-gray-600 text-sm sm:text-base"},"Loading courses...")),O&&n.createElement("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 sm:p-6 text-center"},n.createElement("p",{className:"text-red-700 font-medium mb-3 text-sm sm:text-base"},O),n.createElement("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3 justify-center"},n.createElement("button",{onClick:function(){B(0),D(!0),le(0,!1)},className:"px-3 sm:px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-sm sm:text-base"},"Try Again"),O.includes("Authentication")&&n.createElement("button",{onClick:function(){return X("/signin")},className:"px-3 sm:px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm sm:text-base"},"Sign In"))),!A&&!O&&n.createElement("div",{className:"".concat(ne?"max-w-7xl mx-auto px-2 sm:px-6 lg:px-8":"max-w-full mx-auto px-2 sm:px-8 lg:px-12")},n.createElement("div",{className:"col-span-full mb-4 text-center"},n.createElement("div",{className:"inline-flex items-center space-x-2 bg-gradient-to-r from-purple-100 to-pink-100 border border-purple-200 rounded-full px-4 py-2"},n.createElement("span",{className:"text-purple-600 text-sm font-medium"},"ðŸŽ²"),n.createElement("span",{className:"text-purple-700 text-sm"},"Courses are shuffled for fresh discovery every time!"))),n.createElement("div",{className:"col-span-full grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-3 2xl:grid-cols-4 gap-3 sm:gap-6 lg:gap-8"},be.map(function(e){var t;return n.createElement("div",{key:e.id,className:"bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-shadow duration-300 w-full"},n.createElement("div",{className:"relative"},n.createElement("img",{src:e.cover_photo||"https://images.unsplash.com/photo-1461749280684-dccba630e2f6?w=400&h=250&fit=crop",alt:e.title,className:"w-full h-40 sm:h-48 object-cover"}),n.createElement("div",{className:"absolute top-2 sm:top-4 right-2 sm:right-4"},function(e){const t={beginner:{label:"Lv 1 â€“ Beginner",color:"bg-green-100 text-green-800"},intermediate:{label:"Lv 2 â€“ Intermediate",color:"bg-yellow-100 text-yellow-800"},advanced:{label:"Lv 3 â€“ Advanced",color:"bg-red-100 text-red-800"},expert:{label:"Lv 4 â€“ Expert",color:"bg-purple-100 text-purple-800"},mastery:{label:"Lv 5 â€“ Mastery",color:"bg-indigo-100 text-indigo-800"}},r=t[e]||t.beginner;return n.createElement("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(r.color)},r.label)}(e.level)),n.createElement("div",{className:"absolute top-2 sm:top-4 left-2 sm:left-4 bg-primary-600 text-white px-2 sm:px-3 py-1 rounded text-xs sm:text-sm font-medium flex items-center space-x-1"},n.createElement(u.YNd,{className:"h-3 w-3"}),n.createElement("span",{className:"hidden sm:inline"},e.is_scheduled?"Coming Soon":J&&G?"Full Access":"Membership"),n.createElement("span",{className:"sm:hidden"},e.is_scheduled?"Soon":J&&G?"Access":"Member"))),n.createElement("div",{className:"p-3 sm:p-6"},n.createElement("div",{className:"flex items-center space-x-2 mb-2 sm:mb-3"},function(e){switch(e){case"web-development":default:return n.createElement(u.vd0,null);case"digital-marketing":case"data-analytics":case"branding":case"content-creation":return n.createElement(u.wJQ,null);case"ui-ux-design":return n.createElement(u.x$1,null)}}(e.category),n.createElement("span",{className:"text-xs sm:text-sm text-gray-500 capitalize"},(null===(t=e.category)||void 0===t?void 0:t.replace("-"," "))||"General")),n.createElement("h3",{className:"text-base sm:text-xl font-semibold text-gray-900 mb-2 leading-tight"},e.title),e.is_scheduled&&e.scheduled_for?n.createElement("div",{className:"mb-3 sm:mb-4 p-3 bg-blue-50 rounded-lg border border-blue-200"},n.createElement("p",{className:"text-blue-700 text-sm sm:text-base font-medium flex items-center space-x-2"},n.createElement("span",null,"ðŸ“…"),n.createElement("span",null,"Coming Soon: ",new Date(e.scheduled_for).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})))):n.createElement("p",{className:"text-gray-600 mb-3 sm:mb-4 line-clamp-2 text-sm sm:text-base"},e.description||"No description available"),n.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 sm:gap-4 mb-3 sm:mb-4 text-xs sm:text-sm text-gray-500"},n.createElement("div",{className:"flex items-center space-x-1"},n.createElement(u.w_X,{className:"h-3 w-3 sm:h-4 sm:w-4"}),n.createElement("span",null,e.duration)),n.createElement("div",{className:"flex items-center space-x-1"},n.createElement(u.vd0,{className:"h-3 w-3 sm:h-4 sm:w-4"}),n.createElement("span",null,e.lessons," ",1===e.lessons?"lesson":"lessons")),n.createElement("div",{className:"flex items-center space-x-1"},n.createElement(u.x$1,{className:"h-3 w-3 sm:h-4 sm:w-4"}),n.createElement("span",{className:"hidden sm:inline"},e.instructor),n.createElement("span",{className:"sm:hidden"},"King Ezekiel Academy"))),n.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3"},n.createElement("div",{className:"flex items-center space-x-2"},n.createElement("span",{className:"text-sm sm:text-lg font-semibold text-primary-600"},J&&(G||W)?"Full Access":"Membership Access")),n.createElement("button",{onClick:function(){return e.is_scheduled?async function(e){if(J)try{const t=(await Promise.resolve().then(r.bind(r,7372))).NotificationService.getInstance();if(await t.requestPermission()){const t=JSON.parse(localStorage.getItem("course_notifications")||"[]");t.includes(e)||(t.push(e),localStorage.setItem("course_notifications",JSON.stringify(t))),alert("You will be notified when this course becomes available!")}else alert("Please enable notifications to get updates about this course.")}catch(e){console.error("Error setting up notifications:",e),alert("There was an error setting up notifications. Please try again.")}else X("/signup")}(e.id):(t=e.id,void X(J&&(G||W)?"/course/".concat(t,"/overview"):J?"/subscription":"/signup"));var t},className:"w-full sm:w-auto px-4 sm:px-6 py-2.5 sm:py-2 rounded-lg transition-colors duration-200 flex items-center justify-center space-x-2 text-sm sm:text-base ".concat(e.is_scheduled?"bg-blue-600 text-white hover:bg-blue-700":"bg-primary-600 text-white hover:bg-primary-700")},e.is_scheduled?n.createElement(n.Fragment,null,n.createElement("span",null,"ðŸ””"),n.createElement("span",null,"Notify Me")):J&&(G||W)?n.createElement(n.Fragment,null,n.createElement(u.YVu,{className:"h-3 w-3 sm:h-4 sm:w-4"}),n.createElement("span",null,"Start Learning")):J?n.createElement(n.Fragment,null,n.createElement(u.JhU,{className:"h-3 w-3 sm:h-4 sm:w-4"}),n.createElement("span",null,"Upgrade to Access")):n.createElement(n.Fragment,null,n.createElement(u.JhU,{className:"h-3 w-3 sm:h-4 sm:w-4"}),n.createElement("span",null,"Start Free!"))))))}))),L&&!A&&!O&&n.createElement("div",{className:"text-center mt-6 sm:mt-8 ".concat(ne?"max-w-7xl mx-auto px-2 sm:px-6 lg:px-8":"max-w-full mx-auto px-2 sm:px-8 lg:px-12")},n.createElement("button",{onClick:function(){L&&!z&&le(M+1,!0)},disabled:z,className:"inline-flex items-center gap-2 sm:gap-3 px-6 sm:px-8 py-3 sm:py-4 bg-gradient-to-r from-primary-600 to-primary-700 text-white rounded-xl hover:from-primary-700 hover:to-primary-800 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none disabled:shadow-lg text-sm sm:text-base"},z?n.createElement(n.Fragment,null,n.createElement("div",{className:"inline-block animate-spin rounded-full h-4 w-4 sm:h-5 sm:w-5 border-b-2 border-white"}),n.createElement("span",{className:"font-semibold"},"Loading More...")):n.createElement(n.Fragment,null,n.createElement("svg",{className:"w-4 h-4 sm:w-5 sm:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})),n.createElement("span",{className:"font-semibold"},"Load More Courses"))),n.createElement("p",{className:"text-xs sm:text-sm text-gray-500 mt-2 sm:mt-3"},"Showing ",S.length," courses â€¢ Click to load ",K," more")),0===be.length&&!A&&!O&&n.createElement("div",{className:"text-center py-8 sm:py-12 ".concat(ne?"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8":"max-w-full mx-auto px-6 sm:px-8 lg:px-12")},n.createElement("p",{className:"text-gray-500 text-base sm:text-lg"},"No courses found matching your criteria."))))))},we=r(5480);function Ne(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,s,l=[],i=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;i=!1}else for(;!(i=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{if(!i&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ke(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ke(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ke(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Se=function(){const e=Ne((0,n.useState)(0),2),t=e[0],r=e[1],a=Ne((0,n.useState)(!0),2),o=a[0],s=a[1],l=[{id:1,name:"King Ezekiel",title:"CEO & Founder",badge:"CEO & Founder",badgeColor:"bg-primary-600",subtitle:"Digital Marketing Expert & Business Coach",subtitleColor:"text-primary-600",image:"/img/kingezekiel.jpg?v=1.0.2",alt:"King Ezekiel - CEO & Founder",description:["King Ezekiel is a seasoned digital marketing expert and business coach with over 5 years of experience in the industry. He has helped thousands of entrepreneurs and businesses scale their operations through effective digital strategies.","As the founder of King Ezekiel Academy, he is passionate about democratizing digital marketing education and making it accessible to everyone, regardless of their background or experience level.","King specializes in social media marketing, content creation, email marketing, and business automation, with a proven track record of helping businesses achieve 300% growth in their digital presence."],stats:[{value:"5+",label:"Years Experience"},{value:"40K+",label:"Students Trained"},{value:"95%",label:"Success Rate"}],statsColor:"text-primary-600"},{id:2,name:"Blessing Adima",title:"Guest Facilitator",badge:"Guest Facilitator",badgeColor:"bg-secondary-600",subtitle:"Digital Marketing Expert & Business Coach",subtitleColor:"text-secondary-600",image:"/img/blessingadima.jpg?v=1.0.2",alt:"Blessing Adima - Digital Marketing Expert",description:["Blessing Adima is a Digital Marketing Expert and Business Coach with over 3 years of experience helping individuals and businesses harness the power of digital tools to grow, scale, and achieve measurable results.","She is passionate about digital transformation and has trained thousands of entrepreneurs, business owners, and professionals on how to leverage social media, online marketing, and digital strategies to attract clients and increase revenue.","Blessing specializes in social media marketing, online advertising, brand growth strategies, and digital monetization, with a mission to equip people with the right skills to thrive in today's fast-paced digital economy."],stats:[{value:"3+",label:"Years Experience"},{value:"1000+",label:"Entrepreneurs Trained"},{value:"100%",label:"Digital Focus"}],statsColor:"text-secondary-600"},{id:3,name:"John Ogechi",title:"Content Creator",badge:"Content Creator",badgeColor:"bg-accent-600",subtitle:"Social Media Content Creator & Content Writer",subtitleColor:"text-accent-600",image:"/img/ogechi.jpg?v=1.0.2",alt:"John Ogechi - Content Creator",description:["John Ogechi is a social media content creator and content writer passionate about crafting engaging stories that connect with audiences.","With 3 years of experience in e-Commerce product management and project coordination and 100% delivery rate, he brings creativity and strategy together to make ideas come alive.","John specializes in creating compelling content that drives engagement, builds brand awareness, and converts audiences into loyal customers across various digital platforms."],stats:[{value:"3+",label:"Years Experience"},{value:"100%",label:"Delivery Rate"},{value:"âˆž",label:"Creative Ideas"}],statsColor:"text-accent-600"},{id:4,name:"Honour Mokobia",title:"Guest Facilitator",badge:"Guest Facilitator",badgeColor:"bg-purple-600",subtitle:"Video Editor & Motion Graphics Designer",subtitleColor:"text-purple-600",image:"/img/honour.jpeg?v=1.0.2",alt:"Honour Mokobia - Video Editor & Motion Graphics Designer",description:["Honour Mokobia is the creative force behind THE MIRACLE EDITOR Brand, a visionary video editor and motion graphics designer who has revolutionized how brands tell their stories through compelling visual content.","With over 4 years of expertise in creative motion design and video editing, Honour has helped numerous top-tier brands gain unprecedented visibility and market their products through innovative visual storytelling.","His mastery of motion graphics, video editing, and creative direction has earned him recognition as one of the industry's most sought-after visual content creators, with a proven track record of transforming brand narratives into engaging, conversion-driven visual experiences."],stats:[{value:"4+",label:"Years Experience"},{value:"25+",label:"Brands Helped"},{value:"100%",label:"Creative Excellence"}],statsColor:"text-purple-600"},{id:5,name:"Precious Greg",title:"Guest Facilitator",badge:"Guest Facilitator",badgeColor:"bg-pink-600",subtitle:"Brand Marketing & Communications Strategist",subtitleColor:"text-pink-600",image:"/img/preciousgreg.jpeg?v=1.0.2",alt:"Precious Greg - Brand Marketing & Communications Strategist",description:["Precious Greg is a Brand Marketing & Communications Strategist and a Corporate Event Host, also known as 'The CopyTalker.' She's also a News Anchor at AI Media Corner, bringing her expertise in strategic brand positioning and market dominance to help businesses achieve their goals through high-converting marketing and communications campaigns.","As an Event Host, she helps businesses & individuals sell the idea of their event to the audience, through exquisite event organization, speech articulacy, audience engagement, stage management, and more to achieve the ultimate goal for the event. Her ability to connect with audiences and deliver compelling presentations makes her a sought-after facilitator.","She's an upper second class graduate of Educational Management from the University of Benin, where she served as campus ambassador for Cowrywise and Myllash Web Services and a member & Director at Junior Chambers International, UNIBEN Chapter. She also kick-started and was an Editor-in-chief for a student based Magazine under an independent NGO in the University."],stats:[{value:"5+",label:"Years Experience"},{value:"100+",label:"Awards & Recognition"},{value:"100%",label:"Event Excellence"}],statsColor:"text-pink-600"},{id:6,name:"Feyisara Ajagbe",title:"Email Marketing Expert & Executive Assistant",badge:"Email Marketing Expert",badgeColor:"bg-indigo-600",subtitle:"Email Marketing Expert & Executive Assistant",subtitleColor:"text-indigo-600",image:"/img/feyi.jpg?v=1.0.2",alt:"Feyisara Ajagbe - Email Marketing Expert & Executive Assistant",description:["Feyisara Ajagbe is an Email Marketing Expert and Executive Assistant with over 3 years of experience helping businesses grow through strategic communication, campaign management, and efficient administrative support. She specializes in creating, organizing, and executing email campaigns that engage audiences and deliver measurable results, while also ensuring seamless coordination of schedules, workflows, and client communications.","Passionate about blending creativity with structure, Feyisara combines her expertise in digital marketing, data-driven reporting, and executive support to drive productivity and business growth. Her strong attention to detail, adaptability, and commitment to excellence make her a valuable asset in both marketing initiatives and operational efficiency.","Feyisara's comprehensive approach to email marketing and administrative excellence ensures that businesses not only reach their target audiences effectively but also maintain smooth operations and professional communication standards that drive long-term success."],stats:[{value:"3+",label:"Years Experience"},{value:"100%",label:"Campaign Success"},{value:"âˆž",label:"Administrative Excellence"}],statsColor:"text-indigo-600"}],i=Ne((0,n.useState)(!1),2),c=i[0],m=i[1];(0,n.useEffect)(function(){const e=function(){m(window.innerWidth<1024)};return e(),window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}},[]);const d=c?1:2,g=Math.ceil(l.length/d);return(0,n.useEffect)(function(){if(!o)return;const e=setInterval(function(){r(function(e){return(e+1)%g})},5e3);return function(){return clearInterval(e)}},[o,g]),n.createElement(n.Fragment,null,n.createElement(re.A,{title:"About King Ezekiel Academy",description:"Learn about our mission to democratize digital marketing education. Founded by King Ezekiel, we've trained over 10,000 students worldwide with a 95% success rate.",keywords:"about us, King Ezekiel, digital marketing expert, education platform, mission, vision, success stories, Nigeria, Africa",canonical:"/about",ogImage:"/img/og-about.jpg",ogType:"website",structuredData:(0,we.Ck)()}),n.createElement("div",{className:"min-h-screen bg-gray-50 pt-16"},n.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12"},n.createElement("div",{className:"text-center mb-16"},n.createElement("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-6"},"About King Ezekiel Academy"),n.createElement("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto"},"Building the foundation for tomorrow's leaders with quality education and innovative learning experiences.")),n.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 mb-20"},n.createElement("div",null,n.createElement("h2",{className:"text-3xl font-bold text-gray-900 mb-6"},"Our Mission"),n.createElement("p",{className:"text-gray-600 mb-6"},"At King Ezekiel Academy, we believe in the transformative power of education. Our mission is to empower students with the knowledge, skills, and confidence they need to succeed in the digital age."),n.createElement("p",{className:"text-gray-600 mb-6"},"We strive to create an inclusive learning environment where every student can discover their potential, develop critical thinking skills, and build a strong foundation for their future careers."),n.createElement("div",{className:"flex items-center space-x-4"},n.createElement(u.Mbv,{className:"h-8 w-8 text-primary-600"}),n.createElement("span",{className:"text-lg font-semibold text-gray-900"},"Passion for Education"))),n.createElement("div",null,n.createElement("h2",{className:"text-3xl font-bold text-gray-900 mb-6"},"Our Vision"),n.createElement("p",{className:"text-gray-600 mb-6"},"We envision a world where quality education is accessible to everyone, regardless of their background or circumstances. Our goal is to become a leading institution in digital skills education."),n.createElement("p",{className:"text-gray-600 mb-6"},"Through innovative teaching methods, cutting-edge technology, and a commitment to excellence, we aim to shape the next generation of digital professionals and thought leaders."),n.createElement("div",{className:"flex items-center space-x-4"},n.createElement(u.ZPX,{className:"h-8 w-8 text-primary-600"}),n.createElement("span",{className:"text-lg font-semibold text-gray-900"},"Innovation & Excellence")))),n.createElement("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 mb-20"},n.createElement("div",{className:"text-center"},n.createElement("div",{className:"flex items-center justify-center mb-4"},n.createElement(u.YNd,{className:"h-12 w-12 text-primary-600"})),n.createElement("div",{className:"text-3xl font-bold text-gray-900 mb-2"},"10,000+"),n.createElement("div",{className:"text-gray-600"},"Students Taught")),n.createElement("div",{className:"text-center"},n.createElement("div",{className:"flex items-center justify-center mb-4"},n.createElement(u.YXz,{className:"h-12 w-12 text-primary-600"})),n.createElement("div",{className:"text-3xl font-bold text-gray-900 mb-2"},"50+"),n.createElement("div",{className:"text-gray-600"},"Expert Instructors")),n.createElement("div",{className:"text-center"},n.createElement("div",{className:"flex items-center justify-center mb-4"},n.createElement(u.gt3,{className:"h-12 w-12 text-primary-600"})),n.createElement("div",{className:"text-3xl font-bold text-gray-900 mb-2"},"4.9/5"),n.createElement("div",{className:"text-gray-600"},"Student Rating")),n.createElement("div",{className:"text-center"},n.createElement("div",{className:"flex items-center justify-center mb-4"},n.createElement(u.Z0L,{className:"h-12 w-12 text-primary-600"})),n.createElement("div",{className:"text-3xl font-bold text-gray-900 mb-2"},"95%"),n.createElement("div",{className:"text-gray-600"},"Success Rate"))),n.createElement("div",{className:"mb-20"},n.createElement("h2",{className:"text-3xl font-bold text-gray-900 text-center mb-12"},"Our Core Values"),n.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8"},n.createElement("div",{className:"bg-white rounded-xl shadow-lg p-8 text-center"},n.createElement("div",{className:"w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-6"},n.createElement(u.YNd,{className:"h-8 w-8 text-primary-600"})),n.createElement("h3",{className:"text-xl font-semibold text-gray-900 mb-4"},"Excellence"),n.createElement("p",{className:"text-gray-600"},"We maintain the highest standards in education and continuously strive for excellence in everything we do.")),n.createElement("div",{className:"bg-white rounded-xl shadow-lg p-8 text-center"},n.createElement("div",{className:"w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-6"},n.createElement(u.DDN,{className:"h-8 w-8 text-primary-600"})),n.createElement("h3",{className:"text-xl font-semibold text-gray-900 mb-4"},"Integrity"),n.createElement("p",{className:"text-gray-600"},"We conduct ourselves with honesty, transparency, and ethical behavior in all our interactions and decisions.")),n.createElement("div",{className:"bg-white rounded-xl shadow-lg p-8 text-center"},n.createElement("div",{className:"w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-6"},n.createElement(u.YXz,{className:"h-8 w-8 text-primary-600"})),n.createElement("h3",{className:"text-xl font-semibold text-gray-900 mb-4"},"Community"),n.createElement("p",{className:"text-gray-600"},"We foster a supportive learning community where students can grow together and support each other's success.")))),n.createElement("div",{className:"mb-20"},n.createElement("h2",{className:"text-3xl font-bold text-gray-900 text-center mb-12"},"Our Journey"),n.createElement("div",{className:"bg-white rounded-2xl shadow-xl p-8"},n.createElement("div",{className:"space-y-8"},n.createElement("div",null,n.createElement("h3",{className:"text-xl font-semibold text-primary-900 mb-2"},"2021 â€“ The Beginning"),n.createElement("p",{className:"text-gray-700 leading-relaxed"},"Started with a simple mission: to make quality digital marketing education accessible to everyone. I began by creating free content on social media, sharing practical knowledge that people could immediately apply to their businesses.")),n.createElement("div",null,n.createElement("h3",{className:"text-xl font-semibold text-primary-900 mb-2"},"2022-2024 â€“ Growth & Impact"),n.createElement("p",{className:"text-gray-700 leading-relaxed mb-4"},"During this period, I achieved several significant milestones:"),n.createElement("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-4"},n.createElement("li",null,"Created and sold over 30 practical courses on digital marketing."),n.createElement("li",null,"Built a community of over 40,000 students across various platforms."),n.createElement("li",null,"Generated over â‚¦50 million in revenue through course sales and consulting."),n.createElement("li",null,"Grew my Telegram channel to 8,000 active subscribers."),n.createElement("li",null,"Reached over 500,000 views on YouTube with 9,000+ subscribers (all students)."),n.createElement("li",null,"Spent over â‚¦15 million on advertisements, reaching 5.7 million people across Nigeria."))),n.createElement("div",null,n.createElement("h3",{className:"text-xl font-semibold text-primary-900 mb-2"},"2025 â€“ A Bigger Vision"),n.createElement("p",{className:"text-gray-700 leading-relaxed mb-4"},"Even after all these milestones, I saw a gap in the educational sector. People don't just need affordable, high-quality knowledge â€” they also need a space to ask questions, connect with mentors, and grow together. This led me to design my next chapter: affordable, precise, and practical education with ongoing support for every learner â€” The King Ezekiel Academy."),n.createElement("p",{className:"text-gray-700 leading-relaxed"},"Now, we're taking this vision to the next level by bringing more professionals on board and doing this bigger and better. We're focused on delivering more professionalism, better explanations, and enhanced learning experiences that truly transform our students' lives and careers."))))),n.createElement("div",{className:"relative"},n.createElement("div",{className:"absolute inset-0 bg-gradient-to-br from-primary-50 via-white to-secondary-50 rounded-3xl"}),n.createElement("div",{className:"relative z-10"},n.createElement("h2",{className:"text-4xl md:text-5xl font-bold text-gray-900 text-center mb-4"},"Meet the Team"),n.createElement("p",{className:"text-xl text-gray-600 text-center mb-16 max-w-3xl mx-auto"},"Meet the passionate educators and digital marketing experts behind King Ezekiel Academy"),n.createElement("div",{className:"relative max-w-7xl mx-auto"},n.createElement("button",{onClick:function(){r(function(e){return(e-1+g)%g}),s(!1)},className:"absolute left-4 top-1/2 -translate-y-1/2 z-10 bg-white/90 hover:bg-white text-gray-600 hover:text-gray-900 rounded-full p-3 shadow-lg transition-all duration-200 hover:scale-110","aria-label":"Previous team members"},n.createElement(u._Jj,{className:"w-5 h-5"})),n.createElement("button",{onClick:function(){r(function(e){return(e+1)%g}),s(!1)},className:"absolute right-4 top-1/2 -translate-y-1/2 z-10 bg-white/90 hover:bg-white text-gray-600 hover:text-gray-900 rounded-full p-3 shadow-lg transition-all duration-200 hover:scale-110","aria-label":"Next team members"},n.createElement(u.X6T,{className:"w-5 h-5"})),n.createElement("div",{className:"overflow-hidden rounded-2xl"},n.createElement("div",{className:"flex transition-transform duration-500 ease-in-out",style:{transform:"translateX(-".concat(100*t,"%)")}},Array.from({length:g},function(e,t){return n.createElement("div",{key:t,className:"w-full flex-shrink-0"},n.createElement("div",{className:"grid gap-12 px-4 ".concat(c?"grid-cols-1":"grid-cols-1 lg:grid-cols-2")},l.slice(t*d,t*d+d).map(function(e){return n.createElement("div",{key:e.id,className:"group bg-white rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2 border border-gray-100 overflow-hidden"},n.createElement("div",{className:"relative"},n.createElement("div",{className:"w-full h-80 relative overflow-hidden"},n.createElement("img",{src:e.image,alt:e.alt,className:"w-full h-full object-cover",loading:"eager",decoding:"async",crossOrigin:"anonymous",style:{imageRendering:"auto"},onError:function(t){console.log("Image failed to load:",e.image);const r=e.image.split("?")[0];t.currentTarget.src=r+"?t="+Date.now()+"&retry=1"},onLoad:function(){console.log("Image loaded successfully:",e.image)}}),n.createElement("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent"})),n.createElement("div",{className:"absolute top-4 right-4 ".concat(e.badgeColor," text-white px-4 py-2 rounded-full text-sm font-semibold shadow-lg")},e.badge)),n.createElement("div",{className:"p-8"},n.createElement("h3",{className:"text-3xl font-bold text-gray-900 mb-3 text-center"},e.name),n.createElement("p",{className:"".concat(e.subtitleColor," mb-6 text-lg font-semibold text-center")},e.subtitle),n.createElement("div",{className:"space-y-4 text-gray-700 leading-relaxed"},e.description.map(function(e,t){return n.createElement("p",{key:t},e)})),n.createElement("div",{className:"grid grid-cols-3 gap-4 mt-8 pt-6 border-t border-gray-100"},e.stats.map(function(t,r){return n.createElement("div",{key:r,className:"text-center"},n.createElement("div",{className:"text-2xl font-bold ".concat(e.statsColor)},t.value),n.createElement("div",{className:"text-sm text-gray-600"},t.label))}))))})))}))),n.createElement("div",{className:"flex justify-center mt-8 space-x-2"},Array.from({length:g},function(e,a){return n.createElement("button",{key:a,onClick:function(){return function(e){r(e),s(!1)}(a)},className:"w-3 h-3 rounded-full transition-all duration-200 ".concat(a===t?"bg-primary-600 scale-125":"bg-gray-300 hover:bg-gray-400"),"aria-label":"Go to slide ".concat(a+1)})}))))))))};const _e=function(e){let t=e.pageTitle,r=e.customBreadcrumbs,a=e.showStructuredData,s=void 0===a||a,l=e.className,i=void 0===l?"":l;const c=(0,o.zy)(),m=r||function(e,t){var r;const n=[{name:"Home",url:"/"}],a=e.split("/").filter(function(e){return e});var o;return a.forEach(function(e,t){const r="/".concat(a.slice(0,t+1).join("/"));let o="";switch(e){case"courses":o="Courses";break;case"blog":o="Blog";break;case"about":o="About";break;case"contact":o="Contact";break;case"privacy":o="Privacy Policy";break;case"terms":o="Terms of Service";break;case"signin":o="Sign In";break;case"signup":o="Sign Up";break;case"dashboard":o="Dashboard";break;case"profile":o="Profile";break;case"subscription":o="Subscription";break;case"admin":o="Admin";break;default:if(e.includes("-")){const t=e.split("-"),r=t[t.length-1];o=/^\d+$/.test(r)?t.slice(0,-1).map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join(" "):e.split("-").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join(" ")}else o=e.charAt(0).toUpperCase()+e.slice(1)}n.push({name:o,url:r})}),t&&(null===(r=n[n.length-1])||void 0===r?void 0:r.name)!==t&&(n[n.length-1]={name:t,url:(null===(o=n[n.length-1])||void 0===o?void 0:o.url)||e}),n}(c.pathname,t),d=s?(0,we.qe)(m):null;return m.length<=1?null:n.createElement(n.Fragment,null,d&&n.createElement("script",{type:"application/ld+json"},JSON.stringify(d)),n.createElement("nav",{className:"flex items-center space-x-2 text-sm text-gray-600 mb-6 ".concat(i),"aria-label":"Breadcrumb"},m.map(function(e,t){const r=t===m.length-1,a="Home"===e.name;return n.createElement(n.Fragment,{key:e.url},t>0&&n.createElement(u.X6T,{className:"w-3 h-3 text-gray-400 flex-shrink-0"}),r?n.createElement("span",{className:"font-medium ".concat(a?"text-gray-500":"text-gray-900"),"aria-current":"page"},a?n.createElement("span",{className:"flex items-center"},n.createElement(u.rQ8,{className:"w-4 h-4 mr-1"}),e.name):e.name):n.createElement(o.N_,{to:e.url,className:"hover:text-primary-600 transition-colors duration-200 ".concat(a?"flex items-center":"")},a?n.createElement(n.Fragment,null,n.createElement(u.rQ8,{className:"w-4 h-4 mr-1"}),e.name):e.name))})))},Ce=function(e){let t=e.title,r=e.description,a=e.breadcrumbs,o=e.children,s=e.className,l=void 0===s?"":s;return n.createElement(n.Fragment,null,n.createElement(re.A,{title:t,description:r,canonical:window.location.pathname}),n.createElement("div",{className:"min-h-screen bg-gray-50 pt-16 ".concat(l)},n.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},n.createElement(_e,{customBreadcrumbs:a}),o)))};var Ae=r(9491);const Pe=Ae.API_BASE,je={async submitContactForm(e){try{const t=await fetch("".concat(Pe,"/contact"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),r=await t.json();if(!t.ok)throw new Error(r.message||"Failed to send message");return r}catch(e){throw console.error("Contact form submission error:",e),e}},async submitViaEmail(e){try{return{success:!0,message:"Thank you for your message! We will get back to you soon."}}catch(e){throw console.error("Email submission error:",e),e}}};function Oe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Te(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(r),!0).forEach(function(t){Ie(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Oe(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Ie(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Le(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,s,l=[],i=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;i=!1}else for(;!(i=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{if(!i&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return De(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?De(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function De(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Re=function(){const e=fe(),t=e.trackContact,r=e.trackLead,a=Le((0,n.useState)({name:"",email:"",subject:"",message:""}),2),o=a[0],s=a[1],l=Le((0,n.useState)(!1),2),i=l[0],c=l[1],m=Le((0,n.useState)("idle"),2),d=m[0],g=m[1],p=Le((0,n.useState)(""),2),f=p[0],b=p[1],x=function(e){s(Te(Te({},o),{},{[e.target.name]:e.target.value}))};return n.createElement(Ce,{title:"Contact Us - King Ezekiel Academy",description:"Get in touch with King Ezekiel Academy. Ready to start your digital marketing journey? We'd love to hear from you.",breadcrumbs:[{name:"Home",url:"/"},{name:"Contact",url:"/contact"}]},n.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12"},n.createElement("div",{className:"text-center mb-16"},n.createElement("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-6"},"Get In Touch"),n.createElement("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto"},"Ready to start your journey with King Ezekiel Academy? We'd love to hear from you.")),n.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12"},n.createElement("div",null,n.createElement("h2",{className:"text-2xl font-bold text-gray-900 mb-8"},"Contact Information"),n.createElement("div",{className:"space-y-6"},n.createElement("div",{className:"flex items-start space-x-4"},n.createElement("div",{className:"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0"},n.createElement(u.vq8,{className:"h-6 w-6 text-primary-600"})),n.createElement("div",null,n.createElement("h3",{className:"text-lg font-semibold text-gray-900 mb-1"},"Address"),n.createElement("p",{className:"text-gray-600"},"Lagos, Nigeria",n.createElement("br",null),"West Africa"))),n.createElement("div",{className:"flex items-start space-x-4"},n.createElement("div",{className:"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0"},n.createElement(u.maD,{className:"h-6 w-6 text-primary-600"})),n.createElement("div",null,n.createElement("h3",{className:"text-lg font-semibold text-gray-900 mb-1"},"Email"),n.createElement("p",{className:"text-gray-600 break-all"},"info@thekingezekielacademy.com"))),n.createElement("div",{className:"flex items-start space-x-4"},n.createElement("div",{className:"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0"},n.createElement(u.Cab,{className:"h-6 w-6 text-primary-600"})),n.createElement("div",null,n.createElement("h3",{className:"text-lg font-semibold text-gray-900 mb-1"},"Phone"),n.createElement("p",{className:"text-gray-600"},"+234 810 169 2624"))),n.createElement("div",{className:"flex items-start space-x-4"},n.createElement("div",{className:"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center flex-shrink-0"},n.createElement(u.w_X,{className:"h-6 w-6 text-primary-600"})),n.createElement("div",null,n.createElement("h3",{className:"text-lg font-semibold text-gray-900 mb-1"},"Business Hours"),n.createElement("p",{className:"text-gray-600"},n.createElement("span",{className:"text-green-600 font-semibold"},"Always Open"),n.createElement("br",null),n.createElement("span",{className:"text-sm text-gray-500"},"24/7 Online Learning Platform"))))),n.createElement("div",{className:"mt-12"},n.createElement("h3",{className:"text-lg font-semibold text-gray-900 mb-4"},"Follow Us"),n.createElement("div",{className:"flex space-x-4"},n.createElement("a",{href:"https://www.facebook.com/thekingezekielacademy",target:"_blank",rel:"noopener noreferrer",className:"w-12 h-12 bg-primary-600 rounded-lg flex items-center justify-center text-white hover:bg-primary-700 transition-colors duration-200"},n.createElement(u.iYk,{className:"h-6 w-6"})),n.createElement("a",{href:"https://www.instagram.com/thekingezekielacademy",target:"_blank",rel:"noopener noreferrer",className:"w-12 h-12 bg-primary-600 rounded-lg flex items-center justify-center text-white hover:bg-primary-700 transition-colors duration-200"},n.createElement(u.ao$,{className:"h-6 w-6"})),n.createElement("a",{href:"https://t.me/kingezekielfreetraining",target:"_blank",rel:"noopener noreferrer",className:"w-12 h-12 bg-primary-600 rounded-lg flex items-center justify-center text-white hover:bg-primary-700 transition-colors duration-200"},n.createElement(u.hFS,{className:"h-6 w-6"}))))),n.createElement("div",{className:"bg-white rounded-2xl shadow-xl p-8"},n.createElement("h2",{className:"text-2xl font-bold text-gray-900 mb-6"},"Send us a Message"),n.createElement("form",{onSubmit:async function(e){e.preventDefault(),c(!0),g("idle"),b("");try{let e;(0,h.Em)("Form submitted:",o);try{e=await je.submitContactForm(o)}catch(t){console.log("API failed, trying email fallback:",t),e=await je.submitViaEmail(o)}e.success?(g("success"),b(e.message),s({name:"",email:"",subject:"",message:""}),t("contact_form",{contact_name:o.name,contact_email:o.email,contact_subject:o.subject}),r("contact_form",0,{lead_source:"contact_form",contact_subject:o.subject})):(g("error"),b(e.message||"Failed to send message. Please try again."))}catch(e){console.error("Contact form error:",e),g("error"),b("An error occurred. Please try again later.")}finally{c(!1)}},className:"space-y-6"},n.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},n.createElement("div",null,n.createElement("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2"},"Full Name *"),n.createElement("input",{type:"text",id:"name",name:"name",value:o.name,onChange:x,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Enter your full name"})),n.createElement("div",null,n.createElement("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2"},"Email Address *"),n.createElement("input",{type:"email",id:"email",name:"email",value:o.email,onChange:x,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Enter your email"}))),n.createElement("div",null,n.createElement("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700 mb-2"},"Subject *"),n.createElement("select",{id:"subject",name:"subject",value:o.subject,onChange:x,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"},n.createElement("option",{value:""},"Select a subject"),n.createElement("option",{value:"general"},"General Inquiry"),n.createElement("option",{value:"courses"},"Course Information"),n.createElement("option",{value:"enrollment"},"Enrollment"),n.createElement("option",{value:"support"},"Technical Support"),n.createElement("option",{value:"partnership"},"Partnership"),n.createElement("option",{value:"other"},"Other"))),n.createElement("div",null,n.createElement("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-2"},"Message *"),n.createElement("textarea",{id:"message",name:"message",value:o.message,onChange:x,required:!0,rows:6,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Tell us how we can help you..."})),"success"===d&&n.createElement("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg"},n.createElement("p",{className:"text-green-800 font-medium"},f)),"error"===d&&n.createElement("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg"},n.createElement("p",{className:"text-red-800 font-medium"},f)),n.createElement("button",{type:"submit",disabled:i,className:"w-full py-3 px-6 rounded-lg font-semibold transition-colors duration-200 ".concat(i?"bg-gray-400 cursor-not-allowed":"bg-primary-600 text-white hover:bg-primary-700")},i?n.createElement("span",{className:"flex items-center justify-center"},n.createElement(u.hW,{className:"animate-spin mr-2 h-4 w-4"}),"Sending Message..."):"Send Message"))))))},Me=r(7275),Be=r(4533),Fe=r(6252);function ze(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,s,l=[],i=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;i=!1}else for(;!(i=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{if(!i&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ue(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ue(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var qe=function(){const e=(0,l.A)().resetPassword,t=ze((0,n.useState)(""),2),r=t[0],a=t[1],s=ze((0,n.useState)(!1),2),i=s[0],c=s[1],m=ze((0,n.useState)(""),2),d=m[0],g=m[1],p=ze((0,n.useState)(""),2),f=p[0],b=p[1],x=(0,n.useMemo)(function(){return""!==r.trim()&&r.includes("@")},[r]);return n.createElement("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8 pt-16"},n.createElement("div",{className:"sm:mx-auto sm:w-full sm:max-w-md"},n.createElement("div",{className:"text-center"},n.createElement("h2",{className:"text-3xl font-bold text-gray-900 mb-2"},"Reset Your Password"),n.createElement("p",{className:"text-gray-600"},"Enter your email address and we'll send you a link to reset your password"))),n.createElement("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md"},n.createElement("div",{className:"bg-white py-8 px-4 shadow-xl rounded-lg sm:px-10"},d&&n.createElement("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded"},d),f&&n.createElement("div",{className:"mb-4 p-3 bg-green-100 border border-green-400 text-green-700 rounded"},f),n.createElement("form",{onSubmit:async function(t){if(t.preventDefault(),g(""),b(""),r.trim()?r.includes("@")||(g("Please enter a valid email address"),0):(g("Email is required"),0)){c(!0);try{(0,h.Em)("Attempting to reset password for:",r);const t=(await e(r)).error;t?((0,h.Y)("Password reset error:",t),g(t.message||"Failed to send reset email")):((0,h.Em)("Password reset email sent successfully"),b("Password reset email sent! Please check your inbox."),a(""))}catch(e){(0,h.Y)("Unexpected error during password reset:",e),g("An unexpected error occurred. Please try again.")}finally{c(!1)}}},className:"space-y-6"},n.createElement("div",null,n.createElement("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2"},"Email Address *"),n.createElement("div",{className:"relative"},n.createElement(u.maD,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),n.createElement("input",{type:"email",id:"email",name:"email",value:r,onChange:function(e){a(e.target.value),d&&g("")},required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Enter your email"}))),n.createElement("div",null,n.createElement("button",{type:"submit",disabled:i||!x,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 ".concat(x&&!i?"bg-primary-600 hover:bg-primary-700":"bg-gray-400 cursor-not-allowed")},i?"Sending Reset Email...":"Send Reset Email")),!x&&n.createElement("div",{className:"text-xs text-gray-500 space-y-1"},n.createElement("p",null,"Please complete all required fields:"),n.createElement("ul",{className:"list-disc list-inside space-y-1"},!r.trim()&&n.createElement("li",null,"â€¢ Email Address is required"),r&&!r.includes("@")&&n.createElement("li",null,"â€¢ Please enter a valid email address")))),n.createElement("div",{className:"mt-6 text-center"},n.createElement(o.N_,{to:"/signin",className:"inline-flex items-center text-sm font-medium text-primary-600 hover:text-primary-500"},n.createElement(u.QVr,{className:"mr-2"}),"Back to Sign In")))))};function We(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,s,l=[],i=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;i=!1}else for(;!(i=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{if(!i&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ve(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ve(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Ye=function(){const e=(0,l.A)().user,t=(0,o.Zp)(),r=We((0,n.useState)({totalUsers:0,totalCourses:0,totalLessons:0,activeUsers:0,subscribedUsers:0,subscriptionGrowth:0,monthlyEnrollments:0,enrollmentGrowth:0,completionRate:0,averageProgress:0,revenueThisMonth:0,revenueGrowth:0}),2),a=r[0],s=r[1],i=We((0,n.useState)(!0),2),c=i[0],m=i[1],d=We((0,n.useState)(""),2),u=d[0],g=d[1];(0,n.useEffect)(function(){"admin"===(null==e?void 0:e.role)&&p()},[e]);const p=async function(){try{m(!0),g("");const e=await Z.N.from("profiles").select("*",{count:"exact",head:!0}),t=e.count,r=e.error;r&&console.warn("Error fetching total users:",r);const n=await Z.N.from("courses").select("*",{count:"exact",head:!0}),a=n.count,o=n.error;o&&console.warn("Error fetching total courses:",o);const l=await Z.N.from("lessons").select("*",{count:"exact",head:!0}),i=l.count,c=l.error;c&&console.warn("Error fetching total lessons:",c);const d=new Date;d.setDate(d.getDate()-30);let u=t||0;try{const e=await Z.N.from("profiles").select("*",{count:"exact",head:!0}).gte("last_activity_date",d.toISOString().split("T")[0]),t=e.count,r=e.error;r?console.warn("Error fetching active users (column may not exist):",r):u=t||0}catch(e){console.warn("Error fetching active users:",e)}let p=0;try{const e=await Z.N.from("user_subscriptions").select("id, status, created_at, user_id").order("created_at",{ascending:!1}),t=e.data,r=e.error;if(r)console.warn("Error fetching all subscriptions:",r);else{console.log("ðŸ” Admin Dashboard - All subscriptions:",t),console.log("ðŸ” Admin Dashboard - Total subscriptions count:",(null==t?void 0:t.length)||0);const e=(null==t?void 0:t.reduce(function(e,t){return e[t.status]=(e[t.status]||0)+1,e},{}))||{};console.log("ðŸ” Admin Dashboard - Subscription status breakdown:",e)}const n=await Z.N.from("user_subscriptions").select("id, user_id, status").eq("status","active"),a=n.data,o=n.error;o?console.warn("Error fetching user subscriptions:",o):(p=new Set((null==a?void 0:a.map(function(e){return e.user_id}))||[]).size,console.log("ðŸ” Admin Dashboard - Active subscriptions:",(null==a?void 0:a.length)||0),console.log("ðŸ” Admin Dashboard - Unique subscribed users:",p))}catch(e){console.warn("Table user_subscriptions may not exist:",e)}let f=0;try{const e=new Date;e.setDate(e.getDate()-30);const t=await Z.N.from("subscription_payments").select("user_id, created_at").eq("status","success").gte("created_at",e.toISOString()),r=t.data,n=t.error;if(n)console.warn("Error fetching recent payments:",n);else{const e=new Set((null==r?void 0:r.map(function(e){return e.user_id}))||[]).size;f=e>0?Math.min(15*e,45):0,console.log("ðŸ” Admin Dashboard - Recent unique subscribers (30 days):",e),console.log("ðŸ” Admin Dashboard - Subscription growth:",f+"%"),!isNaN(f)&&isFinite(f)||(f=0)}}catch(e){console.warn("Error calculating subscription growth:",e)}let b=0,h=0;try{const e=await Z.N.from("user_courses").select("*",{count:"exact",head:!0}),t=e.count,r=e.error;r?console.warn("Error fetching monthly enrollments:",r):b=t||0,h=b>0?Math.min(5*b,25):0,!isNaN(h)&&isFinite(h)||(h=0)}catch(e){console.warn("Table user_courses may not exist:",e)}let x=0,y=0;try{const e=await Z.N.from("user_courses").select("*",{count:"exact",head:!0}).eq("progress",100),t=e.count,r=e.error;r?console.warn("Error fetching completed courses:",r):(x=b>0?t/b*100:0,!isNaN(x)&&isFinite(x)||(x=0));const n=await Z.N.from("user_courses").select("progress"),a=n.data,o=n.error;o?console.warn("Error fetching progress data:",o):(y=a&&a.length>0?a.reduce(function(e,t){const r=t.progress||0;return e+(isNaN(r)?0:r)},0)/a.length:0,!isNaN(y)&&isFinite(y)||(y=0))}catch(e){console.warn("Error fetching completion and progress data:",e)}let v=0,E=0;const w=new Date;try{const e=await Z.N.from("subscription_payments").select("amount").eq("status","success").gte("paid_at",new Date(w.getFullYear(),w.getMonth(),1).toISOString()),t=e.data,r=e.error;r?console.warn("Error fetching payments data:",r):(v=t?t.reduce(function(e,t){return e+(t.amount||0)},0)/100:0,console.log("ðŸ” Admin Dashboard - Revenue this month:",v,"NGN"),console.log("ðŸ” Admin Dashboard - Payments data:",t)),E=v>0?Math.min(1*v,30):0,!isNaN(E)&&isFinite(E)||(E=0)}catch(e){console.warn("Table subscription_payments may not exist:",e)}s({totalUsers:t||0,totalCourses:a||0,totalLessons:i||0,activeUsers:u||0,subscribedUsers:p||0,subscriptionGrowth:Math.round(10*f)/10,monthlyEnrollments:b||0,enrollmentGrowth:Math.round(10*h)/10,completionRate:Math.round(10*x)/10,averageProgress:Math.round(10*y)/10,revenueThisMonth:Math.round(v),revenueGrowth:Math.round(10*E)/10})}catch(e){console.error("Error fetching dashboard stats:",e),g("Some dashboard statistics could not be loaded. This may be due to missing database tables. Basic statistics are still available.")}finally{m(!1)}};return e&&"admin"===e.role?c?n.createElement("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center"},n.createElement("div",{className:"text-center"},n.createElement("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto mb-4"}),n.createElement("p",{className:"text-gray-600"},"Loading dashboard..."))):n.createElement("div",{className:"min-h-screen bg-gray-50 pt-24 pb-8"},n.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},n.createElement("div",{className:"mb-8"},n.createElement("h1",{className:"text-3xl font-bold text-gray-900"},"Admin Dashboard"),n.createElement("p",{className:"mt-2 text-gray-600"},"Welcome back, ",e.name,"!")),u&&n.createElement("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded"},u),n.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},n.createElement("div",{className:"bg-white overflow-hidden shadow rounded-lg"},n.createElement("div",{className:"p-5"},n.createElement("div",{className:"flex items-center"},n.createElement("div",{className:"flex-shrink-0"},n.createElement("div",{className:"w-8 h-8 bg-indigo-500 rounded-md flex items-center justify-center"},n.createElement("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})))),n.createElement("div",{className:"ml-5 w-0 flex-1"},n.createElement("dl",null,n.createElement("dt",{className:"text-sm font-medium text-gray-500 truncate"},"Total Users"),n.createElement("dd",{className:"text-lg font-medium text-gray-900"},a.totalUsers)))))),n.createElement("div",{className:"bg-white overflow-hidden shadow rounded-lg"},n.createElement("div",{className:"p-5"},n.createElement("div",{className:"flex items-center"},n.createElement("div",{className:"flex-shrink-0"},n.createElement("div",{className:"w-8 h-8 bg-green-500 rounded-md flex items-center justify-center"},n.createElement("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})))),n.createElement("div",{className:"ml-5 w-0 flex-1"},n.createElement("dl",null,n.createElement("dt",{className:"text-sm font-medium text-gray-500 truncate"},"Total Courses"),n.createElement("dd",{className:"text-lg font-medium text-gray-900"},a.totalCourses)))))),n.createElement("div",{className:"bg-white overflow-hidden shadow rounded-lg"},n.createElement("div",{className:"p-5"},n.createElement("div",{className:"flex items-center"},n.createElement("div",{className:"flex-shrink-0"},n.createElement("div",{className:"w-8 h-8 bg-yellow-500 rounded-md flex items-center justify-center"},n.createElement("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})))),n.createElement("div",{className:"ml-5 w-0 flex-1"},n.createElement("dl",null,n.createElement("dt",{className:"text-sm font-medium text-gray-500 truncate"},"Total Lessons"),n.createElement("dd",{className:"text-lg font-medium text-gray-900"},a.totalLessons)))))),n.createElement("div",{className:"bg-white overflow-hidden shadow rounded-lg"},n.createElement("div",{className:"p-5"},n.createElement("div",{className:"flex items-center"},n.createElement("div",{className:"flex-shrink-0"},n.createElement("div",{className:"w-8 h-8 bg-blue-500 rounded-md flex items-center justify-center"},n.createElement("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})))),n.createElement("div",{className:"ml-5 w-0 flex-1"},n.createElement("dl",null,n.createElement("dt",{className:"text-sm font-medium text-gray-500 truncate"},"Active Users"),n.createElement("dd",{className:"text-lg font-medium text-gray-900"},a.activeUsers))))))),n.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8"},n.createElement("div",{className:"bg-white shadow rounded-lg"},n.createElement("div",{className:"px-4 py-5 sm:p-6"},n.createElement("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4 flex items-center"},n.createElement("svg",{className:"w-5 h-5 text-green-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})),"Subscription Analytics"),n.createElement("div",{className:"space-y-4"},n.createElement("div",{className:"flex justify-between items-center"},n.createElement("span",{className:"text-sm text-gray-600"},"Total Subscribed Users"),n.createElement("span",{className:"text-lg font-semibold text-green-600"},a.subscribedUsers)),n.createElement("div",{className:"flex justify-between items-center"},n.createElement("span",{className:"text-sm text-gray-600"},"Month-over-Month Growth"),n.createElement("div",{className:"flex items-center"},n.createElement("span",{className:"text-sm font-medium ".concat(a.subscriptionGrowth>=0?"text-green-600":"text-red-600")},a.subscriptionGrowth>=0?"+":"",a.subscriptionGrowth,"%"),n.createElement("svg",{className:"w-4 h-4 ml-1 ".concat(a.subscriptionGrowth>=0?"text-green-500":"text-red-500"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:a.subscriptionGrowth>=0?"M5 10l7-7m0 0l7 7m-7-7v18":"M19 14l-7 7m0 0l-7-7m7 7V3"})))),n.createElement("div",{className:"flex justify-between items-center"},n.createElement("span",{className:"text-sm text-gray-600"},"Revenue This Month"),n.createElement("span",{className:"text-lg font-semibold text-blue-600"},"â‚¦",a.revenueThisMonth.toLocaleString())),n.createElement("div",{className:"flex justify-between items-center"},n.createElement("span",{className:"text-sm text-gray-600"},"Revenue Growth"),n.createElement("div",{className:"flex items-center"},n.createElement("span",{className:"text-sm font-medium ".concat(a.revenueGrowth>=0?"text-green-600":"text-red-600")},a.revenueGrowth>=0?"+":"",a.revenueGrowth,"%"),n.createElement("svg",{className:"w-4 h-4 ml-1 ".concat(a.revenueGrowth>=0?"text-green-500":"text-red-500"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:a.revenueGrowth>=0?"M5 10l7-7m0 0l7 7m-7-7v18":"M19 14l-7 7m0 0l-7-7m7 7V3"}))))))),n.createElement("div",{className:"bg-white shadow rounded-lg"},n.createElement("div",{className:"px-4 py-5 sm:p-6"},n.createElement("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4 flex items-center"},n.createElement("svg",{className:"w-5 h-5 text-blue-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})),"Course Performance"),n.createElement("div",{className:"space-y-4"},n.createElement("div",{className:"flex justify-between items-center"},n.createElement("span",{className:"text-sm text-gray-600"},"Monthly Enrollments"),n.createElement("span",{className:"text-lg font-semibold text-blue-600"},a.monthlyEnrollments)),n.createElement("div",{className:"flex justify-between items-center"},n.createElement("span",{className:"text-sm text-gray-600"},"Enrollment Growth"),n.createElement("div",{className:"flex items-center"},n.createElement("span",{className:"text-sm font-medium ".concat(a.enrollmentGrowth>=0?"text-green-600":"text-red-600")},a.enrollmentGrowth>=0?"+":"",a.enrollmentGrowth,"%"),n.createElement("svg",{className:"w-4 h-4 ml-1 ".concat(a.enrollmentGrowth>=0?"text-green-500":"text-red-500"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:a.enrollmentGrowth>=0?"M5 10l7-7m0 0l7 7m-7-7v18":"M19 14l-7 7m0 0l-7-7m7 7V3"})))),n.createElement("div",{className:"flex justify-between items-center"},n.createElement("span",{className:"text-sm text-gray-600"},"Completion Rate"),n.createElement("span",{className:"text-lg font-semibold text-purple-600"},a.completionRate,"%")),n.createElement("div",{className:"flex justify-between items-center"},n.createElement("span",{className:"text-sm text-gray-600"},"Average Progress"),n.createElement("span",{className:"text-lg font-semibold text-orange-600"},a.averageProgress,"%")))))),n.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8"},n.createElement("div",{className:"bg-white shadow rounded-lg"},n.createElement("div",{className:"px-4 py-5 sm:p-6"},n.createElement("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4 flex items-center"},n.createElement("svg",{className:"w-5 h-5 text-purple-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})),"User Engagement"),n.createElement("div",{className:"space-y-3"},n.createElement("div",{className:"flex justify-between items-center"},n.createElement("span",{className:"text-sm text-gray-600"},"Active Users"),n.createElement("span",{className:"text-lg font-semibold text-purple-600"},a.activeUsers)),n.createElement("div",{className:"flex justify-between items-center"},n.createElement("span",{className:"text-sm text-gray-600"},"Engagement Rate"),n.createElement("span",{className:"text-lg font-semibold text-purple-600"},Math.round(a.activeUsers/a.totalUsers*100),"%")),n.createElement("div",{className:"w-full bg-gray-200 rounded-full h-2"},n.createElement("div",{className:"bg-purple-500 h-2 rounded-full",style:{width:"".concat(Math.round(a.activeUsers/a.totalUsers*100),"%")}}))))),n.createElement("div",{className:"bg-white shadow rounded-lg"},n.createElement("div",{className:"px-4 py-5 sm:p-6"},n.createElement("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4 flex items-center"},n.createElement("svg",{className:"w-5 h-5 text-indigo-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2H5a2 2 0 00-2 2v2m14 0V7a2 2 0 00-2-2H5a2 2 0 00-2 2v2m14 0V5a2 2 0 00-2-2H5a2 2 0 00-2 2v2"})),"Content Metrics"),n.createElement("div",{className:"space-y-3"},n.createElement("div",{className:"flex justify-between items-center"},n.createElement("span",{className:"text-sm text-gray-600"},"Total Courses"),n.createElement("span",{className:"text-lg font-semibold text-indigo-600"},a.totalCourses)),n.createElement("div",{className:"flex justify-between items-center"},n.createElement("span",{className:"text-sm text-gray-600"},"Total Lessons"),n.createElement("span",{className:"text-lg font-semibold text-indigo-600"},a.totalLessons)),n.createElement("div",{className:"flex justify-between items-center"},n.createElement("span",{className:"text-sm text-gray-600"},"Avg Lessons/Course"),n.createElement("span",{className:"text-lg font-semibold text-indigo-600"},a.totalCourses>0?Math.round(a.totalLessons/a.totalCourses):0))))),n.createElement("div",{className:"bg-white shadow rounded-lg"},n.createElement("div",{className:"px-4 py-5 sm:p-6"},n.createElement("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4 flex items-center"},n.createElement("svg",{className:"w-5 h-5 text-green-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})),"Growth Trends"),n.createElement("div",{className:"space-y-3"},n.createElement("div",{className:"flex justify-between items-center"},n.createElement("span",{className:"text-sm text-gray-600"},"User Growth"),n.createElement("div",{className:"flex items-center"},n.createElement("span",{className:"text-sm font-medium text-green-600"},"+",a.monthlyEnrollments),n.createElement("svg",{className:"w-4 h-4 ml-1 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 10l7-7m0 0l7 7m-7-7v18"})))),n.createElement("div",{className:"flex justify-between items-center"},n.createElement("span",{className:"text-sm text-gray-600"},"Course Growth"),n.createElement("div",{className:"flex items-center"},n.createElement("span",{className:"text-sm font-medium text-green-600"},"+",a.enrollmentGrowth,"%"),n.createElement("svg",{className:"w-4 h-4 ml-1 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 10l7-7m0 0l7 7m-7-7v18"})))),n.createElement("div",{className:"flex justify-between items-center"},n.createElement("span",{className:"text-sm text-gray-600"},"Revenue Growth"),n.createElement("div",{className:"flex items-center"},n.createElement("span",{className:"text-sm font-medium text-green-600"},"+",a.revenueGrowth,"%"),n.createElement("svg",{className:"w-4 h-4 ml-1 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 10l7-7m0 0l7 7m-7-7v18"})))))))),n.createElement("div",{className:"bg-white shadow rounded-lg"},n.createElement("div",{className:"px-4 py-5 sm:p-6"},n.createElement("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4"},"Quick Actions"),n.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},n.createElement("button",{onClick:function(){return t("/admin/add-course")},className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},n.createElement("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})),"Add New Course"),n.createElement("button",{onClick:function(){return t("/admin/courses")},className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},n.createElement("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})),"Manage Courses"),n.createElement("button",{onClick:function(){return t("/admin/blog")},className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},n.createElement("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"})),"Manage Blog")))))):n.createElement("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center"},n.createElement("div",{className:"text-center"},n.createElement("h1",{className:"text-2xl font-bold text-gray-900 mb-4"},"Access Denied"),n.createElement("p",{className:"text-gray-600"},"You don't have permission to access this page.")))};function Ge(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function He(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ge(Object(r),!0).forEach(function(t){Ke(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ge(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Ke(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,s,l=[],i=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;i=!1}else for(;!(i=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{if(!i&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Je(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Je(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Je(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var $e=function(){const e=(0,o.Zp)(),t=Xe((0,n.useState)(1),2),a=t[0],s=t[1],i=Xe((0,n.useState)(!1),2),c=i[0],m=i[1],d=Xe((0,n.useState)(""),2),u=d[0],g=d[1],p=Xe((0,n.useState)(!1),2),f=p[0],b=p[1],h=(0,n.useRef)(null),x=(0,l.A)().user,y=Xe((0,n.useState)({title:"",description:"",level:"beginner",category:"business-entrepreneurship",coverPhoto:void 0,videos:[]}),2),v=y[0],E=y[1],w=Xe((0,n.useState)({name:"",duration:"",link:""}),2),N=w[0],k=w[1],S=Xe((0,n.useState)(null),2),_=S[0],C=S[1],A=Xe((0,n.useState)(!1),2),P=A[0],j=A[1],O=Xe((0,n.useState)(""),2),I=O[0],L=O[1],D=Xe((0,n.useState)(""),2),R=D[0],M=D[1],B=function(e){e.preventDefault(),e.dataTransfer.dropEffect="move"},F=function(e,t){E(function(r){return He(He({},r),{},{[e]:t})})},z=function(e,t){k(function(r){return He(He({},r),{},{[e]:t})})},U=(0,n.useCallback)(function(e){e.preventDefault(),b(!0)},[]),q=(0,n.useCallback)(function(e){e.preventDefault(),b(!1)},[]),W=(0,n.useCallback)(function(e){e.preventDefault(),b(!1);const t=Array.from(e.dataTransfer.files).find(function(e){return e.type.startsWith("image/")});if(t){if(t.size>10485760)return void g("Image file is too large. Please select a file smaller than 10MB");E(function(e){return He(He({},e),{},{coverPhoto:t})}),g("")}else g("Please drop a valid image file")},[]),V=async function(){if(v.title.trim())if(0!==v.videos.length)try{m(!0),g("");let t=null;if(v.coverPhoto)try{const e=v.coverPhoto.name.split(".").pop(),r="".concat(Date.now(),".").concat(e),n="course-covers/".concat(r);console.log("Uploading file:",{name:v.coverPhoto.name,type:v.coverPhoto.type,size:v.coverPhoto.size,path:n});const a=await v.coverPhoto.arrayBuffer(),o=(await Z.N.storage.from("course-covers").upload(n,a)).error;if(o)console.warn("Cover photo upload failed, continuing without it:",o.message);else{t=Z.N.storage.from("course-covers").getPublicUrl(n).data.publicUrl,console.log("Cover photo uploaded successfully:",t)}}catch(e){console.warn("Cover photo upload failed, continuing without it:",e)}console.log("About to create course with data:",{title:v.title,description:v.description,level:v.level,category:v.category,levelType:typeof v.level,cover_photo_url:t,created_by:null==x?void 0:x.id});const r=await Z.N.from("courses").insert({title:v.title,description:v.description,level:v.level,category:v.category,cover_photo_url:t,created_by:null==x?void 0:x.id}).select().single(),n=r.data,a=r.error;if(a)throw new Error("Failed to create course: ".concat(a.message));const o=v.videos.map(function(e,t){return{course_id:n.id,name:e.name,duration:e.duration,link:e.link,order_index:t+1}}),s=(await Z.N.from("course_videos").insert(o)).error;if(s)throw await Z.N.from("courses").delete().eq("id",n.id),new Error("Failed to create course videos: ".concat(s.message));console.log("Course created successfully:",n),await async function(e,t){try{console.log("ðŸ”” Notifying users about new course:",e);const r=await Z.N.from("profiles").select("id, email, full_name").not("email","is",null),n=r.data,a=r.error;if(a)return void console.error("Error fetching users for notification:",a);if(!n||0===n.length)return void console.log("No active users found to notify");console.log("ðŸ“¢ Sending new course notification to ".concat(n.length," users"));for(const r of n)try{console.log("ðŸ“§ Would notify ".concat(r.full_name||r.email," about: ").concat(e)),await T.notificationService.sendNewCourseNotification(e,t)}catch(e){console.error("Error notifying user ".concat(r.email,":"),e)}console.log("âœ… New course notifications sent successfully")}catch(e){console.error("Error in notifyUsersAboutNewCourse:",e)}}(v.title,v.category),e("/admin/courses")}catch(e){console.error("Create course error:",e),g(e.message||"Failed to create course")}finally{m(!1)}else g("Please add at least one video to the course");else g("Please enter a course title")};return n.createElement("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 pt-24"},n.createElement("div",{className:"container mx-auto px-4 py-8"},n.createElement("div",{className:"text-center mb-8"},n.createElement("button",{onClick:function(){return e("/admin")},className:"inline-flex items-center px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors duration-200 mb-4"},"â† Back to Admin"),n.createElement("h1",{className:"text-4xl font-bold text-gray-900"},"Add New Course"),n.createElement("p",{className:"text-gray-600 mt-2"},"Create a new course with manual video entries")),n.createElement("div",{className:"flex justify-center mb-8"},n.createElement("div",{className:"flex items-center space-x-4"},[1,2,3].map(function(e){return n.createElement("div",{key:e,className:"flex items-center"},n.createElement("div",{className:"w-10 h-10 rounded-full flex items-center justify-center font-semibold ".concat(a>=e?"bg-blue-600 text-white":"bg-gray-200 text-gray-600")},e),e<3&&n.createElement("div",{className:"w-16 h-1 mx-2 ".concat(a>e?"bg-blue-600":"bg-gray-200")}))}))),n.createElement("div",{className:"bg-white rounded-xl shadow-xl p-8"},1===a&&n.createElement("div",{className:"max-w-2xl mx-auto text-center"},n.createElement("h2",{className:"text-3xl font-bold text-gray-900 mb-6"},"Create New Course"),n.createElement("p",{className:"text-gray-600 mb-8"},"Enter the basic course information to get started."),n.createElement("div",{className:"space-y-6"},n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Course Title *"),n.createElement("input",{type:"text",value:v.title,onChange:function(e){return F("title",e.target.value)},className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter course title"})),n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Course Description"),n.createElement("textarea",{value:v.description,onChange:function(e){return F("description",e.target.value)},rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Describe what this course covers"})),n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Course Level"),n.createElement("select",{value:v.level,onChange:function(e){return F("level",e.target.value)},className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},n.createElement("option",{value:"beginner"},"Lv 1 â€“ Beginner"),n.createElement("option",{value:"intermediate"},"Lv 2 â€“ Intermediate"),n.createElement("option",{value:"advanced"},"Lv 3 â€“ Advanced"),n.createElement("option",{value:"expert"},"Lv 4 â€“ Expert"),n.createElement("option",{value:"mastery"},"Lv 5 â€“ Mastery"))),n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Course Category"),n.createElement("select",{value:v.category,onChange:function(e){return F("category",e.target.value)},className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},n.createElement("option",{value:"business-entrepreneurship"},"Business & Entrepreneurship"),n.createElement("option",{value:"branding-public-relations"},"Branding & Public Relations"),n.createElement("option",{value:"content-communication"},"Content & Communication"),n.createElement("option",{value:"digital-advertising"},"Digital Advertising"),n.createElement("option",{value:"email-seo-strategies"},"Email & SEO Strategies"),n.createElement("option",{value:"ui-ux-design"},"UI/UX Design"),n.createElement("option",{value:"visual-communication"},"Visual Communication"),n.createElement("option",{value:"video-editing-creation"},"Video Editing & Creation"),n.createElement("option",{value:"data-science-analytics"},"Data Science & Analytics"),n.createElement("option",{value:"artificial-intelligence-cloud"},"Artificial Intelligence & Cloud"),n.createElement("option",{value:"project-workflow-management"},"Project & Workflow Management"),n.createElement("option",{value:"information-security"},"Information Security")))),n.createElement("button",{onClick:function(){return s(2)},disabled:!v.title.trim(),className:"mt-8 px-8 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white font-semibold rounded-lg hover:from-blue-700 hover:to-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200"},"Continue to Videos")),2===a&&n.createElement("div",{className:"max-w-4xl mx-auto"},n.createElement("h2",{className:"text-3xl font-bold text-gray-900 mb-6 text-center"},"Add Course Videos"),n.createElement("p",{className:"text-gray-600 mb-8 text-center"},"Manually add videos to your course. You can use YouTube embed links or direct video file URLs."),n.createElement("div",{className:"bg-white p-6 rounded-lg shadow-md mb-8"},n.createElement("h3",{className:"text-lg font-semibold text-gray-900 mb-4"},"Add New Video"),n.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4"},n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Video Name *"),n.createElement("input",{type:"text",value:N.name,onChange:function(e){return z("name",e.target.value)},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Introduction to React"})),n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Duration *"),n.createElement("input",{type:"text",value:N.duration,onChange:function(e){return z("duration",e.target.value)},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"15:30 or 15m 30s"})),n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Video Link *"),n.createElement("input",{type:"url",value:N.link,onChange:function(e){return z("link",e.target.value)},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"YouTube embed URL or video file URL"}))),n.createElement("div",{className:"flex items-center justify-between"},n.createElement("button",{onClick:function(){if(!N.name.trim()||!N.duration.trim()||!N.link.trim())return void g("Please fill in all video fields");const e={id:Math.random().toString(36).substr(2,9),name:N.name.trim(),duration:N.duration.trim(),link:N.link.trim()};E(function(t){return He(He({},t),{},{videos:[...t.videos,e]})}),k({name:"",duration:"",link:""}),g("")},className:"px-6 py-2 bg-green-600 text-white font-medium rounded-md hover:bg-green-700 transition-colors duration-200"},"+ Add New Video"),n.createElement("div",{className:"text-sm text-gray-500"},v.videos.length," video",1!==v.videos.length?"s":""," added")),u&&n.createElement("div",{className:"mt-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded-md"},u)),v.videos.length>0&&n.createElement("div",{className:"bg-white rounded-lg shadow-md overflow-hidden"},n.createElement("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-200"},n.createElement("h3",{className:"text-lg font-semibold text-gray-900"},"Course Videos")),n.createElement("div",{className:"divide-y divide-gray-200"},v.videos.map(function(e,t){return n.createElement("div",{key:e.id,className:"px-6 py-4 flex items-center justify-between",draggable:!0,onDragStart:function(e){return function(e,t){C(t),e.dataTransfer.effectAllowed="move"}(e,t)},onDragOver:B,onDrop:function(e){return function(e,t){e.preventDefault(),null!==_&&_!==t&&(E(function(e){const r=[...e.videos],n=r[_];return r.splice(_,1),r.splice(t,0,n),He(He({},e),{},{videos:r})}),C(null))}(e,t)},onDragEnd:function(){return C(null)}},n.createElement("div",{className:"flex items-center space-x-4"},n.createElement("div",{className:"w-8 h-8 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center font-semibold"},t+1),n.createElement("div",null,n.createElement("h4",{className:"font-medium text-gray-900"},e.name),n.createElement("p",{className:"text-sm text-gray-500"},e.duration),n.createElement("p",{className:"text-xs text-blue-600 truncate max-w-xs"},e.link))),n.createElement("div",{className:"flex items-center space-x-2"},n.createElement("button",{onClick:function(){return function(e){0!==e&&E(function(t){const r=[...t.videos];var n=[r[e-1],r[e]];return r[e]=n[0],r[e-1]=n[1],He(He({},t),{},{videos:r})})}(t)},className:"text-gray-600 hover:text-gray-800 transition-colors duration-200",disabled:0===t},"â†‘"),n.createElement("button",{onClick:function(){return function(e){E(function(t){if(e===t.videos.length-1)return t;const r=[...t.videos];var n=[r[e+1],r[e]];return r[e]=n[0],r[e+1]=n[1],He(He({},t),{},{videos:r})})}(t)},className:"text-gray-600 hover:text-gray-800 transition-colors duration-200",disabled:t===v.videos.length-1},"â†“"),n.createElement("button",{onClick:function(){return t=e.id,void E(function(e){return He(He({},e),{},{videos:e.videos.filter(function(e){return e.id!==t})})});var t},className:"text-red-600 hover:text-red-800 transition-colors duration-200"},"Remove")))}))),n.createElement("div",{className:"flex justify-between mt-8"},n.createElement("button",{onClick:function(){return s(1)},className:"px-6 py-3 text-gray-600 hover:text-gray-800 transition-colors duration-200"},"â† Back to Course Details"),n.createElement("button",{onClick:function(){return s(3)},disabled:0===v.videos.length,className:"px-8 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white font-semibold rounded-lg hover:from-blue-700 hover:to-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200"},"Continue to Cover Photo"))),3===a&&n.createElement("div",{className:"max-w-2xl mx-auto text-center"},n.createElement("h2",{className:"text-3xl font-bold text-gray-900 mb-6"},"Add Course Cover Photo"),n.createElement("p",{className:"text-gray-600 mb-8"},"Upload a cover photo for your course (optional). This will make your course more attractive to students."),n.createElement("div",{className:"space-y-6"},n.createElement("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8"},v.coverPhoto?n.createElement("div",{className:"space-y-4"},n.createElement("div",{className:"mx-auto w-32 h-32 bg-gray-100 rounded-lg flex items-center justify-center"},n.createElement("img",{src:URL.createObjectURL(v.coverPhoto),alt:"Cover preview",className:"w-full h-full object-cover rounded-lg"})),n.createElement("p",{className:"text-sm text-gray-600"},v.coverPhoto.name),n.createElement("button",{onClick:function(){return E(function(e){return He(He({},e),{},{coverPhoto:void 0})})},className:"px-4 py-2 bg-red-100 text-red-700 rounded-md hover:bg-red-200 transition-colors duration-200"},"Remove Photo")):n.createElement("div",{className:"text-center ".concat(f?"border-blue-400 bg-blue-50":""),onDragOver:U,onDragLeave:q,onDrop:W},n.createElement("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48"},n.createElement("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),n.createElement("p",{className:"mt-2 text-sm font-medium text-gray-900"},"Drop your cover photo here"),n.createElement("p",{className:"text-sm text-gray-500"},"or click to browse files")))),n.createElement("input",{ref:h,type:"file",accept:"image/*",onChange:function(e){var t;const r=null===(t=e.target.files)||void 0===t?void 0:t[0];if(r){if(!r.type.startsWith("image/"))return void g("Please select a valid image file");if(r.size>10485760)return void g("Image file is too large. Please select a file smaller than 10MB");E(function(e){return He(He({},e),{},{coverPhoto:r})}),g("")}},className:"hidden"}),n.createElement("div",{className:"flex justify-between mt-8"},n.createElement("button",{onClick:function(){return s(2)},className:"px-6 py-3 text-gray-600 hover:text-gray-800 transition-colors duration-200"},"â† Back to Videos"),n.createElement("div",{className:"space-x-4"},n.createElement("button",{onClick:V,disabled:c,className:"px-8 py-3 bg-gradient-to-r from-green-600 to-blue-600 text-white font-semibold rounded-lg hover:from-green-700 hover:to-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200"},c?"Creating Course...":"Create Course"),n.createElement("button",{onClick:function(){return j(!0)},disabled:c,className:"px-6 py-3 bg-purple-600 text-white font-medium rounded-lg hover:bg-purple-700 transition-colors duration-200"},"Schedule"),n.createElement("button",{onClick:V,disabled:c,className:"px-6 py-3 bg-gray-100 text-gray-700 font-medium rounded-lg hover:bg-gray-200 transition-colors duration-200"},c?"Creating...":"Skip Cover Photo"))))),P&&n.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},n.createElement("div",{className:"bg-white rounded-xl shadow-2xl p-8 max-w-md w-full mx-4"},n.createElement("div",{className:"flex justify-between items-center mb-6"},n.createElement("h3",{className:"text-2xl font-bold text-gray-900"},"Schedule Course"),n.createElement("button",{onClick:function(){return j(!1)},className:"text-gray-400 hover:text-gray-600 transition-colors duration-200"},n.createElement("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})))),n.createElement("div",{className:"space-y-6"},n.createElement("div",null,n.createElement("label",{htmlFor:"schedule-date",className:"block text-sm font-medium text-gray-700 mb-2"},"Select Date"),n.createElement("input",{id:"schedule-date",type:"date",value:I,onChange:function(e){return L(e.target.value)},min:(new Date).toISOString().split("T")[0],className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200"})),n.createElement("div",null,n.createElement("label",{htmlFor:"schedule-time",className:"block text-sm font-medium text-gray-700 mb-2"},"Select Time"),n.createElement("input",{id:"schedule-time",type:"time",value:R,onChange:function(e){return M(e.target.value)},className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200"})),u&&n.createElement("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg"},u),n.createElement("div",{className:"flex space-x-4 pt-4"},n.createElement("button",{onClick:function(){return j(!1)},className:"flex-1 px-6 py-3 bg-gray-100 text-gray-700 font-medium rounded-lg hover:bg-gray-200 transition-colors duration-200"},"Cancel"),n.createElement("button",{onClick:async function(){if(v.title.trim())if(0!==v.videos.length)if(I&&R)try{m(!0),g("");const t=new Date("".concat(I,"T").concat(R)).toISOString();let n=null;if(v.coverPhoto)try{const e=v.coverPhoto.name.split(".").pop(),t="".concat(Date.now(),".").concat(e),r="course-covers/".concat(t),a=await v.coverPhoto.arrayBuffer();if(!(await Z.N.storage.from("course-covers").upload(r,a)).error){n=Z.N.storage.from("course-covers").getPublicUrl(r).data.publicUrl}}catch(e){console.warn("Cover photo upload failed:",e)}const a=await Z.N.from("courses").insert({title:v.title,description:v.description,level:v.level,category:v.category,cover_photo_url:n,is_scheduled:!0,status:"scheduled",scheduled_for:t,created_by:null==x?void 0:x.id}).select().single(),o=a.data,s=a.error;if(s)throw new Error(s.message);const l=v.videos.map(function(e,r){return{course_id:o.id,title:e.name,video_url:e.link,duration:e.duration,order_index:r+1,is_scheduled:!0,status:"scheduled",scheduled_for:t}}),i=(await Z.N.from("lessons").insert(l)).error;if(i)throw new Error(i.message);try{const e=(await r.e(820).then(r.bind(r,820))).CourseScheduler.getInstance();await e.notifyCourseScheduled(v.title,t,o.id)}catch(e){console.error("Error sending course scheduled notification:",e)}j(!1),e("/admin/courses")}catch(e){g((null==e?void 0:e.message)||"Failed to schedule course")}finally{m(!1)}else g("Please select both date and time for scheduling");else g("Please add at least one video to the course");else g("Please enter a course title")},disabled:c||!I||!R,className:"flex-1 px-6 py-3 bg-purple-600 text-white font-medium rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200"},c?"Scheduling...":"Schedule Course")))))))};function Ze(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,s,l=[],i=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;i=!1}else for(;!(i=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{if(!i&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Qe(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Qe(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var et=function(){const e=(0,l.A)().user,t=(0,o.Zp)(),r=Ze((0,n.useState)([]),2),a=r[0],s=r[1],i=Ze((0,n.useState)(!0),2),c=i[0],m=i[1],d=Ze((0,n.useState)(""),2),u=d[0],g=d[1],p=Ze((0,n.useState)(""),2),f=p[0],b=p[1],h=Ze((0,n.useState)("all"),2),x=h[0],y=h[1];(0,n.useEffect)(function(){"admin"===(null==e?void 0:e.role)&&v()},[e]);const v=async function(){try{m(!0),g("");const e=await Z.N.from("courses").select("\n          id,\n          title,\n          description,\n          level,\n          cover_photo_url,\n          created_by,\n          created_at,\n          updated_at,\n          course_videos!inner(\n            duration\n          )\n        ").order("created_at",{ascending:!1}),t=e.data,r=e.error;if(r)throw r;const n=(t||[]).map(function(e){let t="0:00";if(e.course_videos&&e.course_videos.length>0){const r=e.course_videos.reduce(function(e,t){const r=t.duration;if(r.includes(":")){const t=r.split(":");if(2===t.length){const r=Ze(t.map(Number),2);return e+60*r[0]+(r[1]||0)}if(3===t.length){const r=Ze(t.map(Number),3);return e+3600*r[0]+60*r[1]+(r[2]||0)}}else{var n,a,o,s;if(r.includes("m")&&r.includes("s"))return e+60*parseInt((null===(n=r.match(/(\d+)m/))||void 0===n?void 0:n[1])||"0")+parseInt((null===(a=r.match(/(\d+)s/))||void 0===a?void 0:a[1])||"0");if(r.startsWith("PT"))return e+60*parseInt((null===(o=r.match(/(\d+)M/))||void 0===o?void 0:o[1])||"0")+parseInt((null===(s=r.match(/(\d+)S/))||void 0===s?void 0:s[1])||"0")}return e},0),n=Math.floor(r/3600),a=Math.floor(r%3600/60),o=r%60;t=n>0?"".concat(n,":").concat(a.toString().padStart(2,"0"),":").concat(o.toString().padStart(2,"0")):"".concat(a,":").concat(o.toString().padStart(2,"0"))}return{id:e.id,title:e.title||"Untitled Course",description:e.description||"No description available",level:e.level||"beginner",cover_photo_url:e.cover_photo_url,created_by:e.created_by,created_at:e.created_at||(new Date).toISOString(),updated_at:e.updated_at||(new Date).toISOString(),totalDuration:t}});s(n),console.log("Fetched courses:",n)}catch(e){console.error("Error fetching courses:",e),g("Failed to load courses from database")}finally{m(!1)}},E=a.filter(function(e){const t=e.title.toLowerCase().includes(f.toLowerCase())||e.description.toLowerCase().includes(f.toLowerCase()),r="all"===x||e.level===x;return t&&r});return e&&"admin"===e.role?c?n.createElement("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center"},n.createElement("div",{className:"text-center"},n.createElement("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto mb-4"}),n.createElement("p",{className:"text-gray-600"},"Loading courses..."))):n.createElement("div",{className:"min-h-screen bg-gray-50 pt-24 pb-8"},n.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},n.createElement("div",{className:"mb-8"},n.createElement("div",{className:"flex items-center justify-between"},n.createElement("div",{className:"flex items-center space-x-4"},n.createElement("button",{onClick:function(){return t("/admin")},className:"inline-flex items-center px-3 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors"},n.createElement("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})),"Back to Admin"),n.createElement("div",null,n.createElement("h1",{className:"text-3xl font-bold text-gray-900"},"Manage Courses"),n.createElement("p",{className:"mt-2 text-gray-600"},"Create, edit, and manage your course catalog"))),n.createElement("button",{onClick:function(){return t("/admin/add-course")},className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},n.createElement("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})),"Add New Course"))),u&&n.createElement("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded"},u),n.createElement("div",{className:"bg-white shadow rounded-lg p-6 mb-6"},n.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},n.createElement("div",null,n.createElement("label",{htmlFor:"search",className:"block text-sm font-medium text-gray-700 mb-2"},"Search Courses"),n.createElement("input",{type:"text",id:"search",value:f,onChange:function(e){return b(e.target.value)},placeholder:"Search by title, description, or instructor...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})),n.createElement("div",null,n.createElement("label",{htmlFor:"level",className:"block text-sm font-medium text-gray-700 mb-2"},"Filter by Level"),n.createElement("select",{id:"level",value:x,onChange:function(e){return y(e.target.value)},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent"},n.createElement("option",{value:"all"},"All Levels"),n.createElement("option",{value:"beginner"},"Beginner"),n.createElement("option",{value:"intermediate"},"Intermediate"),n.createElement("option",{value:"advanced"},"Advanced"),n.createElement("option",{value:"expert"},"Expert"),n.createElement("option",{value:"mastery"},"Mastery"))))),n.createElement("div",{className:"bg-white shadow rounded-lg"},n.createElement("div",{className:"px-4 py-5 sm:p-6"},n.createElement("div",{className:"flex items-center justify-between mb-4"},n.createElement("h3",{className:"text-lg leading-6 font-medium text-gray-900"},"Courses (",E.length,")")),0===E.length?n.createElement("div",{className:"text-center py-12"},n.createElement("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})),n.createElement("h3",{className:"mt-2 text-sm font-medium text-gray-900"},"No courses found"),n.createElement("p",{className:"mt-1 text-sm text-gray-500"},f||"all"!==x?"Try adjusting your search or filter criteria.":"Get started by creating your first course.")):n.createElement("div",{className:"overflow-x-auto"},n.createElement("table",{className:"min-w-full divide-y divide-gray-200"},n.createElement("thead",{className:"bg-gray-50"},n.createElement("tr",null,n.createElement("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Course"),n.createElement("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Level"),n.createElement("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Total Duration"),n.createElement("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Created"),n.createElement("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actions"))),n.createElement("tbody",{className:"bg-white divide-y divide-gray-200"},E.map(function(e){return n.createElement("tr",{key:e.id,className:"hover:bg-gray-50"},n.createElement("td",{className:"px-6 py-4 whitespace-nowrap"},n.createElement("div",{className:"flex items-center"},n.createElement("div",{className:"flex-shrink-0 h-10 w-10"},e.cover_photo_url?n.createElement("img",{className:"h-10 w-10 rounded-lg object-cover",src:e.cover_photo_url,alt:e.title}):n.createElement("div",{className:"h-10 w-10 rounded-lg bg-indigo-100 flex items-center justify-center"},n.createElement("svg",{className:"h-6 w-6 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})))),n.createElement("div",{className:"ml-4"},n.createElement("div",{className:"text-sm font-medium text-gray-900"},e.title),n.createElement("div",{className:"text-sm text-gray-500 truncate max-w-xs"},e.description)))),n.createElement("td",{className:"px-6 py-4 whitespace-nowrap"},function(e){const t={beginner:{color:"bg-green-100 text-green-800",text:"Lv 1 â€“ Beginner"},intermediate:{color:"bg-yellow-100 text-yellow-800",text:"Lv 2 â€“ Intermediate"},advanced:{color:"bg-red-100 text-red-800",text:"Lv 3 â€“ Advanced"},expert:{color:"bg-purple-100 text-purple-800",text:"Lv 4 â€“ Expert"},mastery:{color:"bg-indigo-100 text-indigo-800",text:"Lv 5 â€“ Mastery"}},r=t[e]||t.beginner;return n.createElement("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(r.color)},r.text)}(e.level)),n.createElement("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},n.createElement("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800"},e.totalDuration||"0:00")),n.createElement("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},new Date(e.created_at).toLocaleDateString()),n.createElement("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},n.createElement("div",{className:"flex items-center justify-end space-x-2"},n.createElement("button",{onClick:function(){return r=e.id,void t("/admin/view-course/".concat(r));var r},className:"text-blue-600 hover:text-blue-900"},"View"),n.createElement("button",{onClick:function(){return r=e.id,void t("/admin/edit-course/".concat(r));var r},className:"text-indigo-600 hover:text-indigo-900"},"Edit"),n.createElement("button",{onClick:function(){return async function(e){if(window.confirm("Are you sure you want to delete this course? This action cannot be undone."))try{const t=(await Z.N.from("courses").delete().eq("id",e)).error;if(t)throw t;s(function(t){return t.filter(function(t){return t.id!==e})}),console.log("Course ".concat(e," deleted successfully"))}catch(e){console.error("Error deleting course:",e),g("Failed to delete course from database")}}(e.id)},className:"text-red-600 hover:text-red-900"},"Delete"))))})))))))):n.createElement("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center"},n.createElement("div",{className:"text-center"},n.createElement("h1",{className:"text-2xl font-bold text-gray-900 mb-4"},"Access Denied"),n.createElement("p",{className:"text-gray-600"},"You don't have permission to access this page.")))};function tt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function rt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(r),!0).forEach(function(t){nt(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tt(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function nt(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function at(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,s,l=[],i=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;i=!1}else for(;!(i=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{if(!i&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ot(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ot(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ot(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var st=function(){const e=(0,l.A)().user,t=(0,o.Zp)(),r=(0,o.g)().id,a=(0,n.useRef)(null),s=at((0,n.useState)({title:"",description:"",level:"beginner",category:"business-entrepreneurship",coverPhoto:void 0,videos:[]}),2),i=s[0],c=s[1],m=at((0,n.useState)(!1),2),d=m[0],u=m[1],g=at((0,n.useState)(""),2),p=g[0],f=g[1],b=at((0,n.useState)(""),2),h=b[0],x=b[1],y=at((0,n.useState)({name:"",duration:"",link:""}),2),v=y[0],E=y[1],w=at((0,n.useState)(!1),2),N=w[0],k=w[1],S=at((0,n.useState)(null),2),_=S[0],C=S[1],A=(0,n.useCallback)(async function(){if(r){console.log("ðŸ” Fetching course data for ID:",r);try{u(!0);const t=await Z.N.from("courses").select("*").eq("id",r).single(),n=t.data,a=t.error;if(a)throw a;if("admin"!==(null==e?void 0:e.role)&&n.created_by!==(null==e?void 0:e.id))return f("You do not have permission to edit this course"),void u(!1);const o=await Z.N.from("course_videos").select("*").eq("course_id",r).order("order_index"),s=o.data,l=o.error;if(l)throw l;console.log("ðŸ“š Loaded course data:",{title:n.title,description:n.description,level:n.level,category:n.category,videosCount:(null==s?void 0:s.length)||0}),c({title:n.title||"",description:n.description||"",level:n.level||"beginner",category:n.category||"business-entrepreneurship",coverPhoto:void 0,videos:s||[]})}catch(e){console.error("Error fetching course:",e),f("Failed to load course data")}finally{u(!1)}}else console.log("âŒ No courseId provided")},[r,null==e?void 0:e.id,null==e?void 0:e.role]);(0,n.useEffect)(function(){console.log("ðŸ” EditCourse useEffect triggered:",{courseId:r,user:null==e?void 0:e.id,userRole:null==e?void 0:e.role}),r&&e&&A()},[r,null==e?void 0:e.id,null==e?void 0:e.role]);const P=function(e,t){c(function(r){return rt(rt({},r),{},{[e]:t})})},j=function(e,t){E(function(r){return rt(rt({},r),{},{[e]:t})})},O=function(e){e.preventDefault(),e.dataTransfer.dropEffect="move"};return d?n.createElement("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-purple-50 pt-24"},n.createElement("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8"},n.createElement("div",{className:"text-center"},n.createElement("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto"}),n.createElement("p",{className:"mt-4 text-gray-600"},"Loading course data...")))):(console.log("ðŸŽ¯ EditCourse render - courseData:",{title:i.title,description:i.description,level:i.level,category:i.category,videosCount:i.videos.length,loading:d}),n.createElement("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-purple-50 pt-24"},n.createElement("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8"},n.createElement("div",{className:"mb-8"},n.createElement("div",{className:"flex items-center justify-between"},n.createElement("div",null,n.createElement("h1",{className:"text-3xl font-bold text-gray-900"},"Edit Course"),n.createElement("p",{className:"mt-2 text-gray-600"},"Update your course information and content")),n.createElement("button",{onClick:function(){return t("/admin/courses")},className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},"â† Back to Courses"))),p&&n.createElement("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-md p-4"},n.createElement("div",{className:"flex"},n.createElement("div",{className:"flex-shrink-0"},n.createElement("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor"},n.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"}))),n.createElement("div",{className:"ml-3"},n.createElement("p",{className:"text-sm text-red-800"},p)))),h&&n.createElement("div",{className:"mb-6 bg-green-50 border border-green-200 rounded-md p-4"},n.createElement("div",{className:"flex"},n.createElement("div",{className:"flex-shrink-0"},n.createElement("svg",{className:"h-5 w-5 text-green-400",viewBox:"0 0 20 20",fill:"currentColor"},n.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM5.707 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"}))),n.createElement("div",{className:"ml-3"},n.createElement("p",{className:"text-sm text-green-800"},h)))),n.createElement("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6"},n.createElement("h2",{className:"text-xl font-semibold text-gray-900 mb-4"},"Course Details"),n.createElement("div",{className:"grid grid-cols-1 gap-6"},n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Course Title *"),n.createElement("input",{type:"text",value:i.title,onChange:function(e){return P("title",e.target.value)},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Enter course title"})),n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Course Description *"),n.createElement("textarea",{value:i.description,onChange:function(e){return P("description",e.target.value)},rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Describe what students will learn in this course"})),n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Course Level *"),n.createElement("select",{value:i.level,onChange:function(e){return P("level",e.target.value)},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent"},n.createElement("option",{value:"beginner"},"Lv 1 â€“ Beginner"),n.createElement("option",{value:"intermediate"},"Lv 2 â€“ Intermediate"),n.createElement("option",{value:"advanced"},"Lv 3 â€“ Advanced"),n.createElement("option",{value:"expert"},"Lv 4 â€“ Expert"),n.createElement("option",{value:"mastery"},"Lv 5 â€“ Mastery"))),n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Course Category *"),n.createElement("select",{value:i.category,onChange:function(e){return P("category",e.target.value)},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent"},n.createElement("option",{value:"business-entrepreneurship"},"Business & Entrepreneurship"),n.createElement("option",{value:"branding-public-relations"},"Branding & Public Relations"),n.createElement("option",{value:"content-communication"},"Content & Communication"),n.createElement("option",{value:"digital-advertising"},"Digital Advertising"),n.createElement("option",{value:"email-seo-strategies"},"Email & SEO Strategies"),n.createElement("option",{value:"ui-ux-design"},"UI/UX Design"),n.createElement("option",{value:"visual-communication"},"Visual Communication"),n.createElement("option",{value:"video-editing-creation"},"Video Editing & Creation"),n.createElement("option",{value:"data-science-analytics"},"Data Science & Analytics"),n.createElement("option",{value:"artificial-intelligence-cloud"},"Artificial Intelligence & Cloud"),n.createElement("option",{value:"project-workflow-management"},"Project & Workflow Management"),n.createElement("option",{value:"information-security"},"Information Security"))))),n.createElement("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6"},n.createElement("h2",{className:"text-xl font-semibold text-gray-900 mb-4"},"Course Videos"),n.createElement("div",{className:"bg-gray-50 rounded-lg p-4 mb-6"},n.createElement("h3",{className:"text-lg font-medium text-gray-900 mb-4"},"Add New Video"),n.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4"},n.createElement("input",{type:"text",value:v.name,onChange:function(e){return j("name",e.target.value)},placeholder:"Video Name",className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent"}),n.createElement("input",{type:"text",value:v.duration,onChange:function(e){return j("duration",e.target.value)},placeholder:"Duration (e.g., 15:30)",className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent"}),n.createElement("input",{type:"url",value:v.link,onChange:function(e){return j("link",e.target.value)},placeholder:"Video Link (YouTube embed or direct URL)",className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})),n.createElement("button",{onClick:function(){v.name&&v.duration&&v.link&&(c(function(e){return rt(rt({},e),{},{videos:[...e.videos,rt({},v)]})}),E({name:"",duration:"",link:""}))},disabled:!v.name||!v.duration||!v.link,className:"mt-4 px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed"},"+ Add New Video")),i.videos.length>0&&n.createElement("div",null,n.createElement("h3",{className:"text-lg font-medium text-gray-900 mb-4"},"Current Videos (",i.videos.length,")"),n.createElement("div",{className:"space-y-3"},i.videos.map(function(e,t){return n.createElement("div",{key:e.id||t,className:"flex items-center justify-between bg-gray-50 rounded-lg p-4",draggable:!0,onDragStart:function(e){return function(e,t){C(t),e.dataTransfer.effectAllowed="move"}(e,t)},onDragOver:O,onDrop:function(e){return function(e,t){e.preventDefault(),null!==_&&_!==t&&(c(function(e){const r=[...e.videos],n=r[_];return r.splice(_,1),r.splice(t,0,n),rt(rt({},e),{},{videos:r})}),C(null))}(e,t)},onDragEnd:function(){return C(null)}},n.createElement("div",{className:"flex-1"},n.createElement("p",{className:"font-medium text-gray-900"},e.name),n.createElement("p",{className:"text-sm text-gray-600"},"Duration: ",e.duration),n.createElement("p",{className:"text-sm text-gray-600 truncate"},"Link: ",e.link)),n.createElement("div",{className:"flex items-center space-x-2"},n.createElement("button",{onClick:function(){return function(e){0!==e&&c(function(t){const r=[...t.videos];var n=[r[e-1],r[e]];return r[e]=n[0],r[e-1]=n[1],rt(rt({},t),{},{videos:r})})}(t)},className:"p-2 text-gray-600 hover:text-gray-800 rounded-full hover:bg-gray-200",title:"Move up"},n.createElement("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"}))),n.createElement("button",{onClick:function(){return function(e){c(function(t){if(e===t.videos.length-1)return t;const r=[...t.videos];var n=[r[e+1],r[e]];return r[e]=n[0],r[e+1]=n[1],rt(rt({},t),{},{videos:r})})}(t)},className:"p-2 text-gray-600 hover:text-gray-800 rounded-full hover:bg-gray-200",title:"Move down"},n.createElement("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"}))),n.createElement("button",{onClick:function(){return function(e){c(function(t){return rt(rt({},t),{},{videos:t.videos.filter(function(t,r){return r!==e})})})}(t)},className:"ml-4 px-3 py-1 text-red-600 hover:text-red-800 text-sm font-medium",title:"Remove"},"Remove")))})))),n.createElement("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6"},n.createElement("h2",{className:"text-xl font-semibold text-gray-900 mb-4"},"Cover Photo"),n.createElement("div",{className:"border-2 border-dashed rounded-lg p-6 text-center ".concat(N?"border-indigo-400 bg-indigo-50":"border-gray-300"),onDragOver:function(e){e.preventDefault(),k(!0)},onDragLeave:function(e){e.preventDefault(),k(!1)},onDrop:function(e){e.preventDefault(),k(!1);const t=e.dataTransfer.files;if(t.length>0){const e=t[0];if(!e.type.startsWith("image/"))return void f("Please drop a valid image file");if(e.size>10485760)return void f("Image file is too large. Please select a file smaller than 10MB");c(function(t){return rt(rt({},t),{},{coverPhoto:e})}),f("")}}},n.createElement("input",{ref:a,type:"file",accept:"image/*",onChange:function(e){const t=e.target.files;if(t&&t.length>0){const e=t[0];if(!e.type.startsWith("image/"))return void f("Please select a valid image file");if(e.size>10485760)return void f("Image file is too large. Please select a file smaller than 10MB");c(function(t){return rt(rt({},t),{},{coverPhoto:e})}),f("")}},className:"hidden"}),i.coverPhoto?n.createElement("div",null,n.createElement("p",{className:"text-sm text-gray-600 mb-2"},"Selected file: ",i.coverPhoto.name),n.createElement("button",{onClick:function(){return c(function(e){return rt(rt({},e),{},{coverPhoto:void 0})})},className:"text-red-600 hover:text-red-800 text-sm font-medium"},"Remove file")):n.createElement("div",null,n.createElement("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48"},n.createElement("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),n.createElement("p",{className:"mt-2 text-sm text-gray-600"},"Drag and drop an image here, or"," ",n.createElement("button",{onClick:function(){var e;return null===(e=a.current)||void 0===e?void 0:e.click()},className:"text-indigo-600 hover:text-indigo-500 font-medium"},"browse")),n.createElement("p",{className:"mt-1 text-xs text-gray-500"},"PNG, JPG, GIF up to 10MB")))),n.createElement("div",{className:"flex justify-end space-x-4"},n.createElement("button",{onClick:function(){return t("/admin/courses")},className:"px-6 py-3 text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},"Cancel"),n.createElement("button",{onClick:async function(){try{if(u(!0),f(""),x(""),console.log("Starting course update...",{courseId:r,courseData:i}),!r)return f("Course ID is missing"),void u(!1);if(!e)return f("You must be logged in to edit courses"),void u(!1);if(!i.title||!i.description||0===i.videos.length)return f("Please fill in all required fields and add at least one video"),void u(!1);console.log("Testing database connection...");const n=await Z.N.from("courses").select("id, created_by").eq("id",r).limit(1),a=n.data,o=n.error;if(o)return console.error("Database connection test failed:",o),f("Database connection failed: ".concat(o.message)),void u(!1);if(!a||0===a.length)return console.error("Course not found in database"),f("Course not found in database"),void u(!1);if("admin"!==(null==e?void 0:e.role)&&a[0].created_by!==(null==e?void 0:e.id))return console.error("User does not have permission to edit this course"),f("You do not have permission to edit this course"),void u(!1);let s;if(console.log("Database connection test successful, course found, user has permission"),i.coverPhoto)try{console.log("Uploading cover photo...");const e=i.coverPhoto.name.split(".").pop(),t="".concat(Date.now(),".").concat(e),r="course-covers/".concat(t);console.log("Uploading file:",{name:i.coverPhoto.name,type:i.coverPhoto.type,size:i.coverPhoto.size,path:r});const n=await i.coverPhoto.arrayBuffer(),a=(await Z.N.storage.from("course-covers").upload(r,n)).error;if(a)console.warn("Cover photo upload failed, continuing without it:",a.message);else{s=Z.N.storage.from("course-covers").getPublicUrl(r).data.publicUrl,console.log("Cover photo uploaded successfully:",s)}}catch(e){console.warn("Cover photo upload failed, continuing without it:",e)}console.log("Updating course in database...");const l=(await Z.N.from("courses").update(rt({title:i.title,description:i.description,level:i.level,category:i.category},s&&{cover_photo_url:s})).eq("id",r)).error;if(l)throw console.error("Course update error:",l),l;console.log("Course updated successfully"),console.log("Updating existing videos...");const c=await Z.N.from("course_videos").select("*").eq("course_id",r).order("order_index"),m=c.data,d=c.error;if(d)throw console.error("Error fetching existing videos:",d),d;console.log("Existing videos:",m),console.log("New videos to set:",i.videos);for(let e=0;e<i.videos.length;e++){const t=i.videos[e],n=m[e];if(n){console.log("Updating video ".concat(e,":"),n.id);const r=(await Z.N.from("course_videos").update({name:t.name,duration:t.duration,link:t.link,order_index:e}).eq("id",n.id)).error;if(r)throw console.error("Error updating video ".concat(e,":"),r),r}else{console.log("Inserting new video ".concat(e,":"),t);const n=(await Z.N.from("course_videos").insert({course_id:r,name:t.name,duration:t.duration,link:t.link,order_index:e})).error;if(n)throw console.error("Error inserting video ".concat(e,":"),n),n}}if(m.length>i.videos.length){console.log("Removing extra videos...");const e=m.slice(i.videos.length);for(const t of e){console.log("Removing video:",t.id);const e=(await Z.N.from("course_videos").delete().eq("id",t.id)).error;if(e)throw console.error("Error deleting video ".concat(t.id,":"),e),e}}console.log("All videos updated successfully"),x("Course updated successfully!"),setTimeout(function(){t("/admin/courses")},1500)}catch(e){console.error("Error updating course:",e),f("Failed to update course: ".concat(e.message||e))}finally{u(!1)}},disabled:d||!i.title||!i.description||0===i.videos.length,className:"px-6 py-3 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed"},d?"Updating...":"Update Course")))))};function lt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,s,l=[],i=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;i=!1}else for(;!(i=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{if(!i&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return it(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?it(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function it(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var ct=function(e){let t=e.src,r=e.type,a=void 0===r?"youtube":r,o=e.title,s=e.autoplay,l=void 0!==s&&s,i=e.onPlay,c=e.onPause,m=e.onEnded;const d=(0,n.useRef)(null),u=(0,n.useRef)(null),g=(0,n.useRef)(null),p=(0,n.useRef)(null),f=(0,n.useRef)(null),b=lt((0,n.useState)(!1),2),h=b[0],x=b[1],y=lt((0,n.useState)(0),2),v=y[0],E=y[1],w=lt((0,n.useState)(0),2),N=w[0],k=w[1],S=lt((0,n.useState)(1),2),_=S[0],C=S[1],A=lt((0,n.useState)(!1),2),P=A[0],j=A[1],O=lt((0,n.useState)(!1),2),T=O[0],I=O[1],L=lt((0,n.useState)(!1),2),D=L[0],R=L[1],M=lt((0,n.useState)(!1),2),B=M[0],F=M[1],z=lt((0,n.useState)(!0),2),U=z[0],q=z[1],W=lt((0,n.useState)(1),2),V=W[0],Y=W[1],G=lt((0,n.useState)(!1),2),H=G[0],K=G[1],X=lt((0,n.useState)([.25,.5,.75,1,1.25,1.5,1.75,2]),2),J=X[0],$=X[1],Z=lt((0,n.useState)(!1),2),Q=Z[0],ee=Z[1];(0,n.useEffect)(function(){"youtube"===a&&function(){if(window.YT&&window.YT.Player)return;const e=document.createElement("script");e.src="https://www.youtube.com/iframe_api",e.onload=function(){window.onYouTubeIframeAPIReady=function(){console.log("YouTube API loaded")}},document.head.appendChild(e)}()},[a]),(0,n.useEffect)(function(){I(!0),q(!0);const e=setTimeout(function(){q(!1)},5e3);return function(){return clearTimeout(e)}},[t]),(0,n.useEffect)(function(){return function(){f.current&&f.current._brandingInterval&&clearInterval(f.current._brandingInterval)}},[]);const te=function(){if(u.current)try{const t=u.current.querySelector('iframe[src*="youtube.com"]');if(t){t.style.pointerEvents="none",t.style.filter="brightness(0.8)";try{var e;const r=t.contentDocument||(null===(e=t.contentWindow)||void 0===e?void 0:e.document);if(r){const e=r.querySelector(".ytp-large-play-button");e&&(e.style.display="none");const t=r.querySelector(".ytp-title");t&&(t.style.display="none");const n=r.querySelector(".ytp-youtube-button");n&&(n.style.display="none"),r.querySelectorAll('[class*="ytp-"]').forEach(function(e){e instanceof HTMLElement&&(e.style.display="none")})}}catch(e){console.log("Cannot access iframe content due to CORS, using CSS approach")}}}catch(e){console.warn("Error hiding YouTube branding:",e)}};(0,n.useEffect)(function(){if("youtube"===a){var e;const r=(t.includes("youtube.com")||t.includes("youtu.be"))&&(null===(e=t.match(/(?:youtube\.com\/(?:[^/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?/\s]{11})/))||void 0===e?void 0:e[1])||t;console.log("ðŸŽ¬ AdvancedVideoPlayer - Source URL:",t),console.log("ðŸŽ¬ AdvancedVideoPlayer - Extracted Video ID:",r);const n=document.createElement("div");if(n.id="youtube-player-".concat(Date.now()),n.style.position="absolute",n.style.top="0",n.style.left="0",n.style.width="100%",n.style.height="100%",n.style.zIndex="0",n.style.borderRadius="0",n.style.overflow="hidden",u.current){const e=u.current.querySelector(".absolute.inset-0");e?e.appendChild(n):u.current.appendChild(n)}I(!0);const a=function(){window.YT&&window.YT.Player?f.current=new window.YT.Player(n.id,{videoId:r,width:"100%",height:"100%",playerVars:{autoplay:0,controls:0,modestbranding:1,rel:0,showinfo:0,iv_load_policy:3,cc_load_policy:0,fs:1,disablekb:1,playsinline:1,enablejsapi:1,origin:window.location.origin,wmode:"opaque",html5:1,start:0,end:0},events:{onReady:function(e){if(console.log("YouTube player ready"),setTimeout(function(){I(!1),ee(!0),console.log("YouTube player fully ready"),te();const e=setInterval(function(){te()},1e3);f.current._brandingInterval=e},500),f.current&&f.current.getAvailablePlaybackRates)try{const e=f.current.getAvailablePlaybackRates();console.log("Available playback rates:",e),$(e)}catch(e){console.warn("Could not get available playback rates:",e)}console.log("Mobile device detected:",/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)),console.log("Video ID:",r),console.log("Player instance:",f.current)},onStateChange:function(e){1===e.data?(x(!0),null==i||i()):2!==e.data&&0!==e.data||(x(!1),null==c||c(),0===e.data&&(null==m||m()))},onError:function(e){console.error("YouTube player error:",e.data),I(!1),2===e.data?console.error("âŒ Invalid video ID or video not available"):5===e.data?console.error("âŒ HTML5 player error"):100===e.data?console.error("âŒ Video not found or private"):150===e.data?(console.error("âŒ Video is restricted or unavailable. Check if the video is public and not region-locked."),console.error("âŒ Video ID causing error:",r),console.error("âŒ Source URL:",t)):console.error("âŒ Unknown YouTube error:",e.data)}}}):setTimeout(a,100)};a();const o=setInterval(function(){if(f.current&&f.current.getCurrentTime){const e=f.current.getCurrentTime(),t=f.current.getDuration();E(e),k(t)}},1e3);return g.current=o,function(){clearInterval(g.current),f.current&&f.current.destroy&&f.current.destroy();const e=u.current;if(e&&n&&n.parentNode===e)try{e.removeChild(n)}catch(e){console.warn("Could not remove player div:",e)}}}},[t,a,l,i,c,m]),(0,n.useEffect)(function(){E(0),x(!1)},[t]),(0,n.useEffect)(function(){return function(){p.current&&clearTimeout(p.current)}},[]);const re=function(){if(Q&&f.current)if("function"==typeof f.current.playVideo&&"function"==typeof f.current.pauseVideo)try{h?(f.current.pauseVideo(),x(!1),null==c||c()):(f.current.playVideo(),x(!0),null==i||i(),setTimeout(function(){te()},100))}catch(e){console.error("Error controlling YouTube player:",e),x(!1)}else console.warn("YouTube player methods not available. Player may still be initializing.");else console.warn("YouTube player not ready yet. Please wait for the player to load.")},ne=function(){const e=/iPad|iPhone|iPod/.test(navigator.userAgent),t=/Safari/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent);if(document.fullscreenElement)document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen();else if(e&&t&&d.current)try{d.current.webkitEnterFullscreen()}catch(e){console.log("iOS Safari fullscreen not supported, falling back to standard API"),u.current&&(u.current.requestFullscreen?u.current.requestFullscreen():u.current.webkitRequestFullscreen?u.current.webkitRequestFullscreen():u.current.mozRequestFullScreen?u.current.mozRequestFullScreen():u.current.msRequestFullscreen&&u.current.msRequestFullscreen())}else u.current&&(u.current.requestFullscreen?u.current.requestFullscreen():u.current.webkitRequestFullscreen?u.current.webkitRequestFullscreen():u.current.mozRequestFullScreen?u.current.mozRequestFullScreen():u.current.msRequestFullscreen&&u.current.msRequestFullscreen())},ae=function(e){if(Y(e),K(!1),f.current&&f.current.setPlaybackRate)try{f.current.setPlaybackRate(e),console.log("Set playback rate to: ".concat(e,"x")),setTimeout(function(){if(f.current&&f.current.getPlaybackRate){const t=f.current.getPlaybackRate();t!==e&&(console.warn("Requested ".concat(e,"x but got ").concat(t,"x - speed may not be supported")),Y(t))}},100)}catch(e){console.error("Error setting playback rate:",e)}};return(0,n.useEffect)(function(){const e=function(){F(!!document.fullscreenElement)},t=function(e){"Escape"===e.key&&document.fullscreenElement&&(document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen())},r=function(e){if(H){const t=e.target;t.closest(".speed-menu")||t.closest("[data-speed-control]")||setTimeout(function(){K(!1)},100)}};return document.addEventListener("fullscreenchange",e),document.addEventListener("webkitfullscreenchange",e),document.addEventListener("mozfullscreenchange",e),document.addEventListener("MSFullscreenChange",e),document.addEventListener("keydown",t),document.addEventListener("click",r),function(){document.removeEventListener("fullscreenchange",e),document.removeEventListener("webkitfullscreenchange",e),document.removeEventListener("mozfullscreenchange",e),document.removeEventListener("MSFullscreenChange",e),document.removeEventListener("keydown",t),document.removeEventListener("click",r)}},[H]),"youtube"===a?n.createElement("div",{className:"w-full bg-black overflow-hidden relative video-container",ref:u,style:{margin:0,padding:0,position:"relative",overflow:"hidden",isolation:"isolate",contain:"layout style paint",width:"100%",height:"100%",maxWidth:"100%",maxHeight:"100%"},onMouseEnter:function(){p.current&&clearTimeout(p.current),R(!0)},onMouseLeave:function(){window.innerWidth>768&&(p.current=setTimeout(function(){R(!1)},2e3))},onTouchStart:function(){p.current&&clearTimeout(p.current),R(!0)},onTouchEnd:function(e){if(H)return e.preventDefault(),void e.stopPropagation();window.innerWidth<=768?(R(!0),p.current&&clearTimeout(p.current)):p.current=setTimeout(function(){R(!1)},2e3)},onClick:function(e){window.innerWidth<=768&&(e.preventDefault(),e.stopPropagation(),p.current&&clearTimeout(p.current),R(!0))}},n.createElement("div",{className:"relative w-full",style:{paddingTop:"56.25%",position:"relative",overflow:"hidden"}},n.createElement("div",{className:"absolute inset-0 w-full h-full overflow-hidden",style:{clipPath:"inset(0)",contain:"layout style paint"}},n.createElement("style",null,'\n            /* Fullscreen styles */\n            .video-container:fullscreen {\n              background: #000;\n              display: flex;\n              align-items: center;\n              justify-content: center;\n            }\n            \n            .video-container:-webkit-full-screen {\n              background: #000;\n              display: flex;\n              align-items: center;\n              justify-content: center;\n            }\n            \n            .video-container:-moz-full-screen {\n              background: #000;\n              display: flex;\n              align-items: center;\n              justify-content: center;\n            }\n            \n            .video-container:-ms-fullscreen {\n              background: #000;\n              display: flex;\n              align-items: center;\n              justify-content: center;\n            }\n            \n            /* Mobile fullscreen optimization */\n            @media (max-width: 768px) {\n              .video-container:fullscreen {\n                padding-top: 0 !important;\n                height: 100vh !important;\n              }\n              \n              .video-container:-webkit-full-screen {\n                padding-top: 0 !important;\n                height: 100vh !important;\n              }\n            }\n            \n            /* Keep controls visible in fullscreen on mobile */\n            @media (max-width: 768px) {\n              .video-container:fullscreen .controls-overlay {\n                opacity: 1 !important;\n                pointer-events: auto !important;\n                z-index: 60 !important;\n              }\n              \n              .video-container:-webkit-full-screen .controls-overlay {\n                opacity: 1 !important;\n                pointer-events: auto !important;\n                z-index: 60 !important;\n              }\n              \n              /* Ensure YouTube iframe is properly hidden in fullscreen */\n              .video-container:fullscreen iframe {\n                z-index: 1 !important;\n              }\n              \n              .video-container:-webkit-full-screen iframe {\n                z-index: 1 !important;\n              }\n            }\n            \n            /* Force YouTube iframe to fit container aspect ratio */\n            iframe[src*="youtube.com"] {\n              position: absolute !important;\n              top: 0 !important;\n              left: 0 !important;\n              width: 100% !important;\n              height: 100% !important;\n              border: none !important;\n              outline: none !important;\n              overflow: hidden !important;\n              z-index: 1 !important;\n              object-fit: contain !important;\n              transform: scale(1) !important;\n              transform-origin: center center !important;\n            }\n            \n            /* Hide YouTube watermark and branding elements */\n            .video-container iframe {\n              border: none !important;\n              outline: none !important;\n              position: absolute !important;\n              top: 0 !important;\n              left: 0 !important;\n              width: 100% !important;\n              height: 100% !important;\n              overflow: hidden !important;\n              z-index: 1 !important;\n              object-fit: contain !important;\n            }\n            \n            /* Ensure video container properly contains iframe with aspect ratio */\n            .video-container {\n              position: relative !important;\n              overflow: hidden !important;\n              width: 100% !important;\n              height: 100% !important;\n              max-width: 100% !important;\n              max-height: 100% !important;\n            }\n            \n            /* Force aspect ratio constraint on the YouTube player div */\n            .video-container > div {\n              position: relative !important;\n              width: 100% !important;\n              height: 100% !important;\n              overflow: hidden !important;\n              max-width: 100% !important;\n              max-height: 100% !important;\n            }\n            \n            /* Additional containment for YouTube player elements */\n            .video-container * {\n              max-width: 100% !important;\n              max-height: 100% !important;\n              box-sizing: border-box !important;\n            }\n            \n            /* Force clip the iframe to container bounds */\n            .video-container iframe {\n              clip-path: inset(0) !important;\n              clip: rect(0, auto, auto, 0) !important;\n            }\n            \n            /* Hide YouTube logo overlay and branding */\n            .video-container::after {\n              content: \'\';\n              position: absolute;\n              top: 0;\n              right: 0;\n              width: 120px;\n              height: 50px;\n              background: black;\n              z-index: 10;\n              pointer-events: none;\n            }\n            \n            /* Hide YouTube channel name and branding */\n            .video-container::before {\n              content: \'\';\n              position: absolute;\n              bottom: 0;\n              right: 0;\n              width: 250px;\n              height: 40px;\n              background: black;\n              z-index: 10;\n              pointer-events: none;\n            }\n            \n            /* Hide YouTube\'s native play button and controls */\n            .video-container iframe[src*="youtube.com"] {\n              pointer-events: none !important;\n            }\n            \n            /* Hide YouTube\'s "Watch on YouTube" text and play button */\n            .video-container iframe[src*="youtube.com"]::after {\n              content: \'\';\n              position: absolute;\n              top: 0;\n              left: 0;\n              right: 0;\n              bottom: 0;\n              background: black;\n              z-index: 15;\n              pointer-events: none;\n            }\n            \n            /* Additional aggressive hiding of YouTube elements */\n            .video-container iframe[src*="youtube.com"] {\n              filter: brightness(0.8) !important;\n            }\n            \n            /* Hide any YouTube overlay elements that might appear */\n            .video-container iframe[src*="youtube.com"]::before {\n              content: \'\';\n              position: absolute;\n              top: 0;\n              left: 0;\n              right: 0;\n              bottom: 0;\n              background: transparent;\n              z-index: 20;\n              pointer-events: none;\n            }\n            \n            /* Additional overlay to cover any remaining YouTube UI */\n            .video-container .youtube-overlay {\n              position: absolute;\n              top: 0;\n              left: 0;\n              right: 0;\n              bottom: 0;\n              background: transparent;\n              z-index: 20;\n              pointer-events: none;\n            }\n            \n            /* Mobile-specific control improvements */\n            @media (max-width: 768px) {\n              .controls-overlay {\n                background: linear-gradient(to top, rgba(0,0,0,0.8) 0%, rgba(0,0,0,0.4) 50%, transparent 100%) !important;\n                padding: 20px 10px 10px 10px !important;\n                opacity: 1 !important; /* Always visible on mobile */\n                z-index: 50 !important; /* Ensure controls are above all overlays */\n              }\n            }\n            \n            /* Ensure controls are always on top */\n            .controls-overlay {\n              z-index: 50 !important;\n              position: relative !important;\n            }\n              \n              .controls-overlay button {\n                min-height: 44px !important;\n                min-width: 44px !important;\n                padding: 8px !important;\n                font-size: 16px !important;\n              }\n              \n              .controls-overlay input[type="range"] {\n                height: 8px !important;\n                -webkit-appearance: none !important;\n              }\n              \n              .controls-overlay input[type="range"]::-webkit-slider-thumb {\n                height: 20px !important;\n                width: 20px !important;\n                -webkit-appearance: none !important;\n                background: #3B82F6 !important;\n                border-radius: 50% !important;\n                cursor: pointer !important;\n              }\n            }\n          '),n.createElement("div",{className:"absolute inset-0 z-5 pointer-events-none"},n.createElement("div",{className:"absolute top-0 right-0 w-20 h-8 bg-black opacity-0"}),n.createElement("div",{className:"absolute bottom-0 right-0 w-32 h-6 bg-black opacity-0"})),n.createElement("div",{className:"youtube-overlay absolute inset-0 z-10 pointer-events-none"},n.createElement("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-32 h-32 bg-black opacity-0"}),n.createElement("div",{className:"absolute bottom-16 left-1/2 transform -translate-x-1/2 w-48 h-8 bg-black opacity-0"})),U&&n.createElement("div",{className:"absolute top-4 left-1/2 transform -translate-x-1/2 z-50 bg-gradient-to-r from-blue-600 to-purple-600 text-white px-4 py-2 rounded-full text-sm font-medium shadow-lg animate-pulse"},"ðŸ“± Experience is better on full screen landscape mode"),n.createElement("button",{onClick:ne,className:"absolute top-4 right-4 z-50 md:hidden bg-black bg-opacity-70 text-white p-2 rounded-lg hover:bg-opacity-90 transition-all duration-200",title:B?"Exit Fullscreen":"Enter Fullscreen"},n.createElement("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},n.createElement("path",{fillRule:"evenodd",d:"M3 4a1 1 0 011-1h4a1 1 0 010 2H6.414l2.293 2.293a1 1 0 11-1.414 1.414L5 6.414V8a1 1 0 01-2 0V4zm9 1a1 1 0 010-2h4a1 1 0 011 1v4a1 1 0 01-2 0V6.414l-2.293 2.293a1 1 0 11-1.414-1.414L13.586 5H12z",clipRule:"evenodd"}))),n.createElement("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-40 md:hidden"},n.createElement("div",{className:"w-16 h-16 bg-black bg-opacity-50 rounded-full flex items-center justify-center opacity-0 transition-opacity duration-150 pointer-events-none",style:{opacity:T?1:h?0:1}},n.createElement("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 20 20"},n.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"})))),n.createElement("div",{className:"absolute bottom-20 left-1/2 transform -translate-x-1/2 z-40 md:hidden"},n.createElement("div",{className:"bg-black bg-opacity-70 text-white px-3 py-1 rounded-full text-xs opacity-0 transition-opacity duration-150 pointer-events-none",style:{opacity:T?1:h?0:1}},T?"Loading...":"Tap to play")),n.createElement("style",null,"\n              .slider::-webkit-slider-thumb {\n                appearance: none;\n                height: 16px;\n                width: 16px;\n                border-radius: 50%;\n                background: #3B82F6;\n                cursor: pointer;\n                box-shadow: 0 0 10px rgba(59, 130, 246, 0.8);\n                border: 2px solid white;\n              }\n              .slider::-moz-range-thumb {\n                height: 16px;\n                width: 16px;\n                border-radius: 50%;\n                background: #3B82F6;\n                cursor: pointer;\n                box-shadow: 0 0 10px rgba(59, 130, 246, 0.8);\n                border: 2px solid white;\n              }\n              \n                          /* Mobile optimizations */\n            @media (max-width: 768px) {\n              .slider::-webkit-slider-thumb {\n                height: 20px;\n                width: 20px;\n              }\n              .slider::-moz-range-thumb {\n                height: 20px;\n                width: 20px;\n              }\n              \n              /* Larger touch targets for mobile */\n              .controls-overlay button {\n                min-width: 44px;\n                min-height: 44px;\n                padding: 8px;\n              }\n              \n              /* Better spacing for mobile controls */\n              .controls-overlay {\n                padding: 12px 16px 8px 16px;\n              }\n              \n              /* Optimize progress bar for touch */\n              .slider {\n                height: 6px;\n                margin: 8px 0;\n              }\n            }\n            \n            /* Laptop/Desktop optimizations */\n            @media (min-width: 1024px) {\n              .controls-overlay {\n                padding: 16px 20px 12px 20px;\n              }\n              \n              .controls-overlay button:hover {\n                transform: scale(1.1);\n                transition: transform 0.2s ease;\n              }\n              \n              /* Enhanced hover effects */\n              .controls-overlay button {\n                transition: all 0.2s ease;\n              }\n            }\n            \n            /* Speed menu specific styles */\n            .speed-menu {\n              backdrop-filter: blur(10px);\n              -webkit-backdrop-filter: blur(10px);\n              border: 1px solid rgba(255, 255, 255, 0.1);\n              box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);\n            }\n            \n            .speed-menu button {\n              white-space: nowrap;\n              min-height: 36px;\n              display: flex;\n              align-items: center;\n              justify-content: flex-start;\n            }\n            \n            /* Mobile speed menu improvements */\n            @media (max-width: 768px) {\n              .speed-menu {\n                min-width: 120px !important;\n                padding: 6px !important;\n                bottom: 28px !important;\n                left: 0 !important;\n                right: auto !important;\n                max-height: none !important;\n                overflow-y: visible !important;\n                touch-action: manipulation !important;\n              }\n              \n              .speed-menu button {\n                min-height: 44px !important;\n                padding: 12px 16px !important;\n                font-size: 14px !important;\n                touch-action: manipulation !important;\n                -webkit-tap-highlight-color: rgba(59, 130, 246, 0.3) !important;\n                cursor: pointer !important;\n                pointer-events: auto !important;\n              }\n            }\n            \n            /* Ensure speed menu is always visible */\n            .speed-menu {\n              position: absolute !important;\n              z-index: 9999 !important;\n              transform: translateY(0) !important;\n              min-height: auto !important;\n              max-height: 200px !important;\n              overflow-y: auto !important;\n            }\n            \n            /* Desktop speed menu improvements */\n            @media (min-width: 769px) {\n              .speed-menu {\n                min-width: 120px !important;\n                max-height: 180px !important;\n              }\n              \n              .speed-menu button {\n                min-height: 28px !important;\n                padding: 4px 8px !important;\n                font-size: 11px !important;\n              }\n            }\n            "),o&&n.createElement("div",{className:"absolute top-4 left-4 bg-black bg-opacity-70 text-white px-3 py-2 rounded-lg text-sm font-medium z-25"},o),n.createElement("video",{ref:d,className:"absolute inset-0 w-full h-full opacity-0 pointer-events-none",playsInline:!0}),n.createElement("div",{className:"absolute inset-0 z-15 ".concat(Q?"cursor-pointer":"cursor-not-allowed"),onClick:function(e){!e.target.closest(".controls-overlay")&&Q&&re()},style:{pointerEvents:Q?"auto":"none"}}),n.createElement("div",{className:"absolute inset-0 w-full h-full bg-black flex items-center justify-center transition-all duration-75 z-20 ".concat(T||!Q?"opacity-100":h?"opacity-0 pointer-events-none":"opacity-100"," ").concat(Q?"cursor-pointer":"cursor-not-allowed"),onClick:Q?re:void 0},n.createElement("div",{className:"text-center text-white"},n.createElement("p",{className:"text-xl md:text-2xl font-medium mb-2"},o||"Video Player"),n.createElement("p",{className:"text-sm text-gray-400 opacity-75"},T?"Loading video...":Q?"Tap anywhere to play":"Initializing player..."))),n.createElement("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black via-black to-transparent px-3 pb-0 pt-2 z-50 transition-opacity duration-300 controls-overlay ".concat(T?"opacity-100":h?window.innerWidth<=768||D?"opacity-100":"opacity-0":"opacity-100")},n.createElement("div",{className:"mb-0"},n.createElement("input",{type:"range",min:"0",max:"100",value:N?v/N*100:0,onChange:function(e){const t=parseFloat(e.target.value)/100*N;E(t),f.current&&f.current.seekTo&&f.current.seekTo(t,!0)},className:"w-full h-3 bg-gray-700 rounded-lg appearance-none cursor-pointer slider",style:{background:"linear-gradient(to right, #3B82F6 0%, #3B82F6 ".concat(N?v/N*100:0,"%, #374151 ").concat(N?v/N*100:0,"%, #374151 100%)"),boxShadow:"0 0 10px rgba(59, 130, 246, 0.5)"}})),n.createElement("div",{className:"flex items-center justify-between text-white"},n.createElement("div",{className:"flex items-center space-x-2 md:space-x-4"},n.createElement("button",{onClick:function(){const e=Math.max(v-10,0);E(e),f.current&&f.current.seekTo&&f.current.seekTo(e,!0)},className:"hover:text-blue-400 transition-colors p-1 md:p-0",title:"Rewind 10s"},n.createElement("svg",{className:"w-4 h-4 md:w-5 md:h-5",fill:"currentColor",viewBox:"0 0 20 20"},n.createElement("path",{d:"M8.445 14.832A1 1 0 0010 14v-2.798l5.445 3.63A1 1 0 0017 14V6a1 1 0 00-1.555-.832L10 8.798V6a1 1 0 00-1.555-.832l-6 4a1 1 0 000 1.664l6 4z"}))),n.createElement("button",{onClick:re,disabled:!Q||T,className:"hover:text-blue-400 transition-colors transition-opacity p-1 md:p-0 ".concat(T||!Q?"opacity-100":h?window.innerWidth<=768||D?"opacity-100":"opacity-0":"opacity-100"," ").concat(Q?"cursor-pointer":"cursor-not-allowed")},Q?h?n.createElement("svg",{className:"w-5 h-5 md:w-6 md:h-6",fill:"currentColor",viewBox:"0 0 20 20"},n.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zM7 8a1 1 0 00-1 1v2a1 1 0 001 1h6a1 1 0 001-1V9a1 1 0 00-1-1H7z",clipRule:"evenodd"})):n.createElement("svg",{className:"w-5 h-5 md:w-6 md:h-6",fill:"currentColor",viewBox:"0 0 20 20"},n.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"})):n.createElement("svg",{className:"w-5 h-5 md:w-6 md:h-6 animate-spin",fill:"none",viewBox:"0 0 24 24"},n.createElement("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.createElement("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"}))),n.createElement("button",{onClick:function(){const e=Math.min(v+10,N);E(e),f.current&&f.current.seekTo&&f.current.seekTo(e,!0)},className:"hover:text-blue-400 transition-colors p-1 md:p-0",title:"Forward 10s"},n.createElement("svg",{className:"w-4 h-4 md:w-5 md:h-5",fill:"currentColor",viewBox:"0 0 20 20"},n.createElement("path",{d:"M4.555 5.168A1 1 0 003 6v8a1 1 0 001.555.832L10 11.202V14a1 1 0 001.555.832l6-4a1 1 0 000-1.664l-6-4A1 1 0 0010 6v2.798l-5.445-3.63z"}))),n.createElement("div",{className:"relative"},n.createElement("button",{onClick:function(){return K(!H)},className:"hover:text-blue-400 transition-colors p-1 md:p-0 text-xs md:text-sm font-medium",title:"Playback Speed","data-speed-control":!0},V,"x"),H&&n.createElement("div",{className:"speed-menu absolute bottom-24 left-0 bg-black bg-opacity-95 rounded-lg p-2 space-y-1 min-w-[100px] z-50 shadow-xl border border-gray-500 max-h-[200px] overflow-y-auto",onTouchStart:function(e){return e.stopPropagation()},onTouchEnd:function(e){return e.stopPropagation()},onClick:function(e){return e.stopPropagation()}},J.map(function(e){return n.createElement("button",{key:e,onClick:function(t){t.preventDefault(),t.stopPropagation(),ae(e)},onTouchEnd:function(t){t.preventDefault(),t.stopPropagation(),ae(e)},className:"w-full text-left px-2 py-1 rounded text-xs font-medium transition-all duration-200 cursor-pointer ".concat(V===e?"bg-blue-600 text-white hover:bg-blue-700":"text-gray-200 hover:bg-blue-600 hover:text-white"),style:{pointerEvents:"auto",touchAction:"manipulation",WebkitTouchCallout:"none",WebkitUserSelect:"none",userSelect:"none"},"data-speed-control":!0},e,"x")}),J.length<=8&&n.createElement("div",{className:"text-xs text-gray-400 px-3 py-2 border-t border-gray-600 mt-1"},"Max: ",Math.max(...J),"x"))),n.createElement("div",{className:"flex items-center space-x-2"},n.createElement("button",{onClick:function(){const e=!P;j(e),f.current&&(e?f.current.mute():f.current.unMute())},className:"hover:text-blue-400 transition-colors p-1 md:p-0"},P?n.createElement("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20"},n.createElement("path",{fillRule:"evenodd",d:"M13.477 14.89A6 6 0 0018 10a6 6 0 00-6-6 6 6 0 00-1.477 1.89L8 8.586l-2.523-2.523A6 6 0 002 10a6 6 0 006 6 6 6 0 001.477-1.89L12 11.414l1.477 1.477z",clipRule:"evenodd"})):n.createElement("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20"},n.createElement("path",{fillRule:"evenodd",d:"M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.617.923L4.383 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.383l4.017-2.923a1 1 0 011.617.923z",clipRule:"evenodd"}))),n.createElement("input",{type:"range",min:"0",max:"1",step:"0.1",value:P?0:_,onChange:function(e){const t=parseFloat(e.target.value);C(t),P&&t>0&&(j(!1),f.current&&f.current.unMute&&f.current.unMute()),f.current&&f.current.setVolume&&f.current.setVolume(100*t)},className:"w-12 md:w-16 h-1 bg-gray-700 rounded-lg appearance-none cursor-pointer slider",style:{background:"linear-gradient(to right, #3B82F6 0%, #3B82F6 ".concat(100*(P?0:_),"%, #374151 ").concat(100*(P?0:_),"%, #374151 100%)"),boxShadow:P?"none":"0 0 5px rgba(59, 130, 246, 0.3)"}}))),n.createElement("div",{className:"flex items-center space-x-2"},n.createElement("button",{onClick:ne,className:"hidden md:block hover:text-blue-400 transition-colors p-1 group",title:B?"Exit Fullscreen":"Enter Fullscreen"},n.createElement("svg",{className:"w-4 h-4 md:w-5 md:h-5",fill:"currentColor",viewBox:"0 0 20 20"},n.createElement("path",{fillRule:"evenodd",d:"M3 4a1 1 0 011-1h4a1 1 0 010 2H6.414l2.293 2.293a1 1 0 11-1.414 1.414L5 6.414V8a1 1 0 01-2 0V4zm9 1a1 1 0 010-2h4a1 1 0 011 1v4a1 1 0 01-2 0V6.414l-2.293 2.293a1 1 0 11-1.414-1.414L13.586 5H12z",clipRule:"evenodd"}))),n.createElement("div",{className:"text-xs md:text-sm text-gray-300 font-mono"},Math.floor(v/60),":",Math.floor(v%60).toString().padStart(2,"0")," / ",Math.floor(N/60),":",Math.floor(N%60).toString().padStart(2,"0")))))))):n.createElement("div",{className:"w-full bg-black rounded-lg overflow-hidden"},n.createElement("div",{className:"relative w-full",style:{paddingTop:"56.25%"}},n.createElement("video",{ref:d,className:"absolute inset-0 w-full h-full",playsInline:!0,controls:!0},n.createElement("source",{src:t,type:"video/mp4"})),o&&n.createElement("div",{className:"absolute top-4 left-4 bg-black bg-opacity-70 text-white px-3 py-2 rounded-lg text-sm font-medium z-10"},o)))};function mt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,s,l=[],i=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;i=!1}else for(;!(i=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{if(!i&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return dt(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?dt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var ut=function(){const e=(0,o.Zp)(),t=(0,o.g)().courseId;console.log("CourseView render:",{courseId:t});const r=mt((0,n.useState)(null),2),a=r[0],s=r[1],l=mt((0,n.useState)([]),2),i=l[0],c=l[1],m=mt((0,n.useState)(!0),2),d=m[0],u=m[1],g=mt((0,n.useState)(""),2),p=g[0],f=g[1],b=mt((0,n.useState)(null),2),h=b[0],x=b[1];(0,n.useEffect)(function(){console.log("useEffect triggered with courseId:",t),t&&async function(){console.log("Starting to fetch data for courseId:",t);try{u(!0),f("");const e=await Z.N.from("courses").select("*").eq("id",t).single(),r=e.data,n=e.error;if(n)throw n;console.log("Course data fetched:",r);const a=await Z.N.from("course_videos").select("*").eq("course_id",t).order("order_index"),o=a.data,l=a.error;if(l)throw l;console.log("Videos data fetched:",o),s(r),c(o||[]),o&&o.length>0&&x(o[0])}catch(e){console.error("Error fetching course:",e),f("Failed to load course data")}finally{u(!1)}}()},[t]);const y=function(e){if(e.includes(":"))return e;if(e.includes("m")&&e.includes("s"))return e;if(e.startsWith("PT")){var t,r;const n=(null===(t=e.match(/(\d+)M/))||void 0===t?void 0:t[1])||"0",a=(null===(r=e.match(/(\d+)S/))||void 0===r?void 0:r[1])||"0";return"".concat(n,":").concat(a.padStart(2,"0"))}return e};return d?n.createElement("div",{className:"min-h-screen bg-gray-50 pt-24"},n.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},n.createElement("div",{className:"text-center py-12"},n.createElement("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto mb-4"}),n.createElement("p",{className:"text-gray-600"},"Loading course...")))):p||!a?n.createElement("div",{className:"min-h-screen bg-gray-50 pt-24"},n.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},n.createElement("div",{className:"text-center py-12"},n.createElement("h1",{className:"text-2xl font-bold text-gray-900 mb-4"},"Course Not Found"),n.createElement("p",{className:"text-gray-600 mb-6"},p||"The requested course could not be found."),n.createElement("button",{onClick:function(){return e("/admin/courses")},className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700"},"Back to Courses")))):n.createElement(n.Fragment,null,n.createElement("div",{className:"min-h-screen bg-gray-50 pt-24"},n.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},n.createElement("div",{className:"mb-8"},n.createElement("div",{className:"flex items-center justify-between"},n.createElement("div",{className:"flex items-center space-x-4"},n.createElement("button",{onClick:function(){return e("/admin/courses")},className:"inline-flex items-center px-3 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors"},n.createElement("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})),"Back to Courses"),n.createElement("div",null,n.createElement("h1",{className:"text-3xl font-bold text-gray-900"},"Course Preview"),n.createElement("p",{className:"mt-2 text-gray-600"},"Viewing course as a student would see it"))),n.createElement("div",{className:"flex space-x-3"},n.createElement("button",{onClick:function(){return e("/admin/edit-course/".concat(t))},className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},"Edit Course")))),n.createElement("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden mb-8"},n.createElement("div",{className:"md:flex"},n.createElement("div",{className:"md:flex-shrink-0"},a.cover_photo_url?n.createElement("img",{className:"h-48 w-full object-cover md:w-48",src:a.cover_photo_url,alt:a.title}):n.createElement("div",{className:"h-48 w-full md:w-48 bg-gradient-to-br from-indigo-100 to-purple-100 flex items-center justify-center"},n.createElement("svg",{className:"h-24 w-24 text-indigo-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})))),n.createElement("div",{className:"p-8"},n.createElement("div",{className:"flex items-center space-x-2 mb-4"},function(e){const t={beginner:{color:"bg-green-100 text-green-800",text:"Lv 1 â€“ Beginner"},intermediate:{color:"bg-yellow-100 text-yellow-800",text:"Lv 2 â€“ Intermediate"},advanced:{color:"bg-red-100 text-red-800",text:"Lv 3 â€“ Advanced"},expert:{color:"bg-purple-100 text-purple-800",text:"Lv 4 â€“ Expert"},mastery:{color:"bg-indigo-100 text-indigo-800",text:"Lv 5 â€“ Mastery"}},r=t[e]||t.beginner;return n.createElement("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(r.color)},r.text)}(a.level),n.createElement("span",{className:"text-sm text-gray-500"},"Created ",new Date(a.created_at).toLocaleDateString())),n.createElement("h2",{className:"text-3xl font-bold text-gray-900 mb-4"},a.title),n.createElement("p",{className:"text-gray-600 text-lg leading-relaxed mb-6"},a.description),n.createElement("div",{className:"flex items-center space-x-6 text-sm text-gray-500"},n.createElement("span",null,i.length," lessons"),n.createElement("span",null,"â€¢"),n.createElement("span",null,"Admin Preview Mode"))))),n.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8"},n.createElement("div",{className:"lg:col-span-2"},n.createElement("div",{className:"bg-white rounded-lg shadow-lg p-6"},n.createElement("h3",{className:"text-xl font-semibold text-gray-900 mb-4"},"Lesson Player"),n.createElement("p",{className:"text-sm text-gray-600 mb-2"},"Preview videos exactly as students will see them",n.createElement("span",{className:"ml-2 text-xs text-green-600"},"âœ¨ YouTube streaming player with zero branding"),n.createElement("span",{className:"ml-2 text-blue-600"},"ðŸ’¡ Use unlisted YouTube videos to prevent suggestions")),h?n.createElement("div",{className:"-mx-6"},n.createElement("h4",{className:"text-lg font-medium text-gray-900 mb-2 px-6"},h.name),n.createElement("div",{className:"w-full overflow-hidden",style:{minHeight:"280px",height:"55vh",maxHeight:"580px",margin:0,padding:0,marginBottom:0}},(v=h.link).includes("youtube.com")||v.includes("youtu.be")||v.includes("youtube-nocookie.com")?n.createElement(ct,{src:function(e){const t=e.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/);return t&&11===t[2].length?t[2]:e}(h.link),type:"youtube",title:h.name,autoplay:!1,onPlay:function(){return console.log("Video started playing")},onPause:function(){return console.log("Video paused")},onEnded:function(){return console.log("Video ended")}}):n.createElement("div",{className:"w-full h-full bg-gray-900 flex items-center justify-center text-white"},n.createElement("div",{className:"text-center"},n.createElement("svg",{className:"h-16 w-16 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})),n.createElement("p",{className:"text-lg font-medium mb-2"},"Video Player"),n.createElement("p",{className:"text-sm text-gray-300"},h.link.includes("http")?"Direct video link detected":"Video source not supported"),n.createElement("p",{className:"text-xs text-gray-400 mt-2"},"Currently supporting YouTube videos only")))),n.createElement("div",{className:"flex items-center justify-between text-sm text-gray-600 px-6 -mt-2"},n.createElement("span",null,"Duration: ",y(h.duration)),n.createElement("span",null,"Lesson ",i.findIndex(function(e){return e.id===h.id})+1," of ",i.length))):n.createElement("div",{className:"text-center py-12 text-gray-500"},n.createElement("svg",{className:"h-16 w-16 text-gray-300 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})),n.createElement("p",null,"Select a lesson to start learning")))),n.createElement("div",{className:"lg:col-span-1"},n.createElement("div",{className:"bg-white rounded-lg shadow-lg p-6"},n.createElement("h3",{className:"text-xl font-semibold text-gray-900 mb-4"},"Course Lessons"),n.createElement("div",{className:"space-y-3"},i.map(function(e,t){return n.createElement("button",{key:e.id,onClick:function(){return x(e)},className:"w-full text-left p-4 rounded-lg border transition-all duration-200 ".concat((null==h?void 0:h.id)===e.id?"border-indigo-500 bg-indigo-50 text-indigo-900":"border-gray-200 hover:border-gray-300 hover:bg-gray-50")},n.createElement("div",{className:"flex items-center justify-between"},n.createElement("div",{className:"flex-1 min-w-0"},n.createElement("div",{className:"flex items-center space-x-3"},n.createElement("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ".concat((null==h?void 0:h.id)===e.id?"bg-indigo-600 text-white":"bg-gray-200 text-gray-600")},t+1),n.createElement("div",{className:"flex-1 min-w-0"},n.createElement("p",{className:"font-medium truncate ".concat((null==h||h.id,e.id,"text-indigo-900"))},e.name),n.createElement("p",{className:"text-sm text-gray-500"},y(e.duration))))),(null==h?void 0:h.id)===e.id&&n.createElement("svg",{className:"h-5 w-5 text-indigo-600",fill:"currentColor",viewBox:"0 0 20 20"},n.createElement("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"}))))}))))))));var v};function gt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function pt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?gt(Object(r),!0).forEach(function(t){ft(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gt(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ft(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,s,l=[],i=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;i=!1}else for(;!(i=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{if(!i&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ht(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ht(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ht(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var xt=function(){const e=(0,l.A)().user,t=(0,o.Zp)(),r=bt((0,n.useState)([]),2),a=r[0],s=r[1],i=bt((0,n.useState)(!0),2),c=i[0],m=i[1],d=bt((0,n.useState)(""),2),g=d[0],p=d[1],f=bt((0,n.useState)(0),2),b=f[0],h=f[1],x=bt((0,n.useState)(!0),2),y=x[0],v=x[1],E=bt((0,n.useState)(!1),2),w=E[0],N=E[1];(0,n.useEffect)(function(){"admin"===(null==e?void 0:e.role)&&k(0,!1)},[e]);const k=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{0===e?m(!0):N(!0),p(""),console.log("ðŸ” Fetching blog posts page ".concat(e,"..."));const n=await Z.N.from("blog_posts").select("\n          *,\n          categories:blog_post_categories(\n            category_id,\n            blog_categories(id, name, slug)\n          ),\n          tags:blog_post_tags(\n            tag_id,\n            blog_tags(id, name, slug)\n          )\n        ").order("created_at",{ascending:!1}).range(10*e,10*e+10-1),a=n.data,o=n.error;var r;if(o)return console.error("Supabase error:",o),void("PGRST303"===o.code||null!==(r=o.message)&&void 0!==r&&r.includes("JWT expired")?p("Authentication expired. Please refresh the page and try again."):p("Database error: ".concat(o.message)));console.log("ðŸ“Š Supabase response for page ".concat(e,":"),{data:a,error:o});const l=(a||[]).map(function(e){var t,r;return pt(pt({},e),{},{categories:(null===(t=e.categories)||void 0===t?void 0:t.map(function(e){var t,r,n;return{id:(null===(t=e.blog_categories)||void 0===t?void 0:t.id)||"",name:(null===(r=e.blog_categories)||void 0===r?void 0:r.name)||"",slug:(null===(n=e.blog_categories)||void 0===n?void 0:n.slug)||""}}))||[],tags:(null===(r=e.tags)||void 0===r?void 0:r.map(function(e){var t,r,n;return{id:(null===(t=e.blog_tags)||void 0===t?void 0:t.id)||"",name:(null===(r=e.blog_tags)||void 0===r?void 0:r.name)||"",slug:(null===(n=e.blog_tags)||void 0===n?void 0:n.slug)||""}}))||[]})});console.log("âœ… Blog posts data received for page ".concat(e,":"),l),console.log("ðŸ” Sample blog post data:",l[0]),console.log("ðŸ”„ Transformed blog posts for page ".concat(e,":"),l),s(t?function(e){return[...e,...l]}:l);const i=a&&10===a.length;v(i),console.log("ðŸ“Š Has more blog posts:",i)}catch(e){p("Failed to fetch blog posts"),console.error("Error fetching blog posts:",e)}finally{m(!1),N(!1)}};return"admin"!==(null==e?void 0:e.role)?n.createElement("div",{className:"min-h-screen bg-gray-50 pt-16"},n.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12"},n.createElement("div",{className:"text-center"},n.createElement("h1",{className:"text-2xl font-bold text-gray-900"},"Access Denied"),n.createElement("p",{className:"mt-2 text-gray-600"},"You don't have permission to access this page.")))):n.createElement("div",{className:"min-h-screen bg-gray-50 pt-16"},n.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},n.createElement("div",{className:"mb-8"},n.createElement("div",{className:"flex items-center justify-between"},n.createElement("div",{className:"flex items-center space-x-4"},n.createElement("button",{onClick:function(){return t("/admin")},className:"p-2 text-gray-600 hover:text-gray-900 transition-colors",title:"Back to Admin"},n.createElement(u.QVr,{className:"w-5 h-5"})),n.createElement("div",null,n.createElement("h1",{className:"text-3xl font-bold text-gray-900"},"Manage Blog"),n.createElement("p",{className:"text-gray-600 mt-1"},"Create and manage your blog posts"))),n.createElement("button",{onClick:function(){return t("/admin/blog/new")},className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"},n.createElement(u.OiG,{className:"w-4 h-4 mr-2"}),"Add Blog Post"))),c?n.createElement("div",{className:"text-center py-12"},n.createElement("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"}),n.createElement("p",{className:"mt-2 text-gray-600"},"Loading blog posts...")):g?n.createElement("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center"},n.createElement("p",{className:"text-red-700 font-medium"},g),n.createElement("button",{onClick:function(){return k(0,!1)},className:"mt-3 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors"},"Try Again")):0===a.length?n.createElement("div",{className:"text-center py-12"},n.createElement("div",{className:"mx-auto w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mb-4"},n.createElement("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"}))),n.createElement("h3",{className:"text-lg font-medium text-gray-900 mb-2"},"No blog posts yet"),n.createElement("p",{className:"text-gray-500 mb-6"},"Get started by creating your first blog post."),n.createElement("button",{onClick:function(){return t("/admin/blog/new")},className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"},n.createElement(u.OiG,{className:"w-4 h-4 mr-2"}),"Create Your First Post")):n.createElement(n.Fragment,null,n.createElement("div",{className:"mb-6 text-center"},n.createElement("p",{className:"text-gray-600"},"Showing ",n.createElement("span",{className:"font-semibold text-gray-900"},a.length)," blog posts",y&&n.createElement("span",{className:"text-gray-500"}," â€¢ More available"))),n.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},a.map(function(e){return n.createElement("div",{key:e.id,className:"bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-shadow duration-300"},n.createElement("div",{className:"relative"},n.createElement("img",{src:e.featured_image_url||"https://images.unsplash.com/photo-1461749280684-dccba630e2f6?w=400&h=250&fit=crop",alt:e.title,className:"w-full h-48 object-cover"}),n.createElement("div",{className:"absolute top-4 right-4"},"published"===e.status?n.createElement("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800"},"Published"):n.createElement("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800"},"Draft"))),n.createElement("div",{className:"p-6"},n.createElement("div",{className:"flex items-center space-x-2 mb-3"},e.categories&&e.categories.length>0&&n.createElement("span",{className:"text-sm text-gray-500 capitalize"},e.categories[0].name)),n.createElement("h3",{className:"text-xl font-semibold text-gray-900 mb-2 line-clamp-2"},e.title||"Untitled"),n.createElement("p",{className:"text-gray-600 mb-4 line-clamp-3"},e.excerpt||(e.content?e.content.substring(0,150)+"...":"No content available")),n.createElement("div",{className:"flex flex-wrap gap-2 mb-4"},e.tags&&e.tags.slice(0,3).map(function(e,t){return n.createElement("span",{key:t,className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800"},e.name||"Untagged")}),e.tags&&e.tags.length>3&&n.createElement("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800"},"+",e.tags.length-3," more")),n.createElement("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-4"},n.createElement("span",null,"Created: ",e.created_at?new Date(e.created_at).toLocaleDateString():"Unknown"),n.createElement("span",null,"Updated: ",e.updated_at?new Date(e.updated_at).toLocaleDateString():"Unknown")),n.createElement("div",{className:"flex items-center space-x-2"},n.createElement("button",{onClick:function(){return t("/admin/blog/".concat(e.id,"/edit"))},className:"flex-1 inline-flex items-center justify-center px-3 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"},n.createElement(u.uO9,{className:"w-4 h-4 mr-2"}),"Edit"),n.createElement("button",{onClick:function(){return t("/admin/blog/".concat(e.id,"/view"))},className:"flex-1 inline-flex items-center justify-center px-3 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"},n.createElement(u.Ny1,{className:"w-4 h-4 mr-2"}),"View"),n.createElement("button",{onClick:function(){return async function(e){if(window.confirm("Are you sure you want to delete this blog post?"))try{await Z.N.from("blog_post_tags").delete().eq("post_id",e),await Z.N.from("blog_post_categories").delete().eq("post_id",e);const t=(await Z.N.from("blog_posts").delete().eq("id",e)).error;if(t)throw t;s(function(t){return t.filter(function(t){return t.id!==e})}),alert("Blog post deleted successfully!")}catch(e){p("Failed to delete blog post"),console.error("Error deleting blog post:",e),alert("Failed to delete blog post. Please try again.")}}(e.id)},className:"inline-flex items-center justify-center px-3 py-2 border border-red-300 text-sm font-medium rounded-md text-red-700 bg-white hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500"},n.createElement(u.qbC,{className:"w-4 h-4"})))))})),y&&n.createElement("div",{className:"mt-8 text-center"},n.createElement("button",{onClick:async function(){const e=b+1;h(e),await k(e,!0)},disabled:w,className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},w?n.createElement(n.Fragment,null,n.createElement("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-3"}),"Loading..."):n.createElement(n.Fragment,null,n.createElement(u.OiG,{className:"w-5 h-5 mr-2"}),"Load More Posts"))))))};function yt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var vt=function(e){let t=e.tags,r=e.onChange,a=e.placeholder,o=void 0===a?"Type and press Enter to add tags...":a,s=e.maxTags,l=void 0===s?10:s,i=e.className,c=void 0===i?"":i;const m=(f=(0,n.useState)(""),b=2,function(e){if(Array.isArray(e))return e}(f)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,s,l=[],i=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;i=!1}else for(;!(i=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{if(!i&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return l}}(f,b)||function(e,t){if(e){if("string"==typeof e)return yt(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?yt(e,t):void 0}}(f,b)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),d=m[0],u=m[1],g=function(){const e=d.trim();if(e&&!t.includes(e)&&t.length<l){const n=[...t,e];r(n),u("")}},p=function(e){const n=t.filter(function(t,r){return r!==e});r(n)};var f,b;return n.createElement("div",{className:"border border-gray-300 rounded-lg p-3 focus-within:ring-2 focus-within:ring-primary-500 focus-within:border-primary-500 transition-all duration-200 ".concat(c)},n.createElement("div",{className:"flex flex-wrap gap-2 mb-2"},t.map(function(e,t){return n.createElement("span",{key:t,className:"inline-flex items-center gap-1 px-3 py-1 bg-primary-100 text-primary-800 text-sm font-medium rounded-full"},e,n.createElement("button",{type:"button",onClick:function(){return p(t)},className:"ml-1 text-primary-600 hover:text-primary-800 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-1 rounded-full p-0.5 transition-colors","aria-label":"Remove tag: ".concat(e)},n.createElement("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}))))})),t.length<l&&n.createElement("input",{type:"text",value:d,onChange:function(e){u(e.target.value)},onKeyDown:function(e){"Enter"===e.key||","===e.key?(e.preventDefault(),g()):"Backspace"===e.key&&""===d&&t.length>0&&p(t.length-1)},onBlur:function(){d.trim()&&g()},placeholder:o,className:"w-full border-none outline-none text-sm placeholder-gray-400 focus:ring-0 focus:outline-none"}),t.length>=l&&n.createElement("p",{className:"text-xs text-gray-500 mt-1"},"Maximum ",l," tags reached"))};function Et(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function wt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Et(Object(r),!0).forEach(function(t){Nt(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Et(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Nt(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,s,l=[],i=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;i=!1}else for(;!(i=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{if(!i&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return St(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?St(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function St(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var _t=function(){const e=(0,l.A)().user,t=(0,o.Zp)(),r=(0,o.g)().id,a=!!r,s=kt((0,n.useState)({title:"",header:"",body:"",conclusion:"",image:"",status:"draft",reading_time:1,featured:!1,selectedCategory:"",selectedTags:[]}),2),i=s[0],c=s[1],m=kt((0,n.useState)(!1),2),d=m[0],g=m[1],p=kt((0,n.useState)(!1),2),f=p[0],b=p[1],h=kt((0,n.useState)(!1),2),x=h[0],y=h[1],v=(0,n.useCallback)(async function(){if(r)try{var e,t,n,a;y(!0);const o=await Z.N.from("blog_posts").select("\n          *,\n          blog_post_categories!inner(\n            blog_categories!inner(name)\n          ),\n          blog_post_tags!inner(\n            blog_tags!inner(name)\n          )\n        ").eq("id",r).single(),s=o.data,l=o.error;if(l)throw l;const i=s.content||"",m=i.indexOf("## Conclusion\n\n"),d=-1!==m?i.substring(m+18).trim():"",u=-1!==m?i.substring(0,m).trim():i;c({title:s.title||"",header:s.excerpt||"",body:u,conclusion:d,image:s.featured_image_url||"",status:s.status||"draft",reading_time:s.reading_time||1,featured:s.featured||!1,selectedCategory:(null===(e=s.blog_post_categories)||void 0===e||null===(t=e[0])||void 0===t||null===(n=t.blog_categories)||void 0===n?void 0:n.name)||"",selectedTags:(null===(a=s.blog_post_tags)||void 0===a?void 0:a.map(function(e){return e.blog_tags.name}))||[]}),y(!1)}catch(e){console.error("Error fetching existing blog post:",e),y(!1)}},[r]);(0,n.useEffect)(function(){a&&r&&v()},[a,r,v]);const E=function(e,t){c(function(r){return wt(wt({},r),{},{[e]:t})})},w=async function(e){if(i.selectedCategory)try{const t=await Z.N.from("blog_categories").select("id").eq("name",i.selectedCategory).single(),r=t.data;if(t.error){console.log("Category not found, creating new one:",i.selectedCategory);const t=await Z.N.from("blog_categories").insert([{name:i.selectedCategory,slug:i.selectedCategory.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"")}]).select().single(),r=t.data,n=t.error;if(n)console.error("Error creating category:",n);else{const t=(await Z.N.from("blog_post_categories").insert([{post_id:e,category_id:r.id}])).error;t&&console.error("Error saving category relationship:",t)}}else if(r){const t=(await Z.N.from("blog_post_categories").insert([{post_id:e,category_id:r.id}])).error;t&&console.error("Error saving category relationship:",t)}}catch(e){console.error("Error handling category:",e)}if(i.selectedTags.length>0)for(const t of i.selectedTags)try{let r=(await Z.N.from("blog_tags").select("id").eq("name",t).single()).data;if(!r){const e=await Z.N.from("blog_tags").insert([{name:t,slug:t.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"")}]).select().single(),n=e.data,a=e.error;if(a){console.error("Error creating tag:",a);continue}r=n}const n=(await Z.N.from("blog_post_tags").insert([{post_id:e,tag_id:r.id}])).error;n&&console.error("Error saving tag relationship:",n)}catch(e){console.error("Error handling tag:",t,e)}},N=async function(){if(r)try{await Z.N.from("blog_post_categories").delete().eq("post_id",r),await Z.N.from("blog_post_tags").delete().eq("post_id",r),await w(r)}catch(e){console.error("Error updating category and tags:",e)}};return"admin"!==(null==e?void 0:e.role)?n.createElement("div",{className:"min-h-screen bg-gray-50 pt-16"},n.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12"},n.createElement("div",{className:"text-center"},n.createElement("h1",{className:"text-2xl font-bold text-gray-900"},"Access Denied"),n.createElement("p",{className:"mt-2 text-gray-600"},"You don't have permission to access this page.")))):x?n.createElement("div",{className:"min-h-screen bg-gray-50 pt-16"},n.createElement("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},n.createElement("div",{className:"flex items-center justify-center py-12"},n.createElement("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),n.createElement("span",{className:"ml-3 text-gray-600"},"Loading blog post...")))):n.createElement("div",{className:"min-h-screen bg-gray-50 pt-16"},n.createElement("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},n.createElement("div",{className:"mb-8"},n.createElement("div",{className:"flex items-center justify-between"},n.createElement("div",{className:"flex items-center space-x-4"},n.createElement("button",{onClick:function(){return t("/admin/blog")},className:"p-2 text-gray-600 hover:text-gray-900 transition-colors",title:"Back to Blog Management"},n.createElement(u.QVr,{className:"w-5 h-5"})),n.createElement("div",null,n.createElement("h1",{className:"text-3xl font-bold text-gray-900"},a?"Edit Blog Post":"Add Blog Post"),n.createElement("p",{className:"text-gray-600 mt-1"},a?"Update your existing blog post":"Create a new blog post for your audience"))),n.createElement("div",{className:"flex items-center space-x-3"},n.createElement("button",{onClick:function(){return b(!f)},className:"inline-flex items-center px-4 py-2 border text-sm font-medium rounded-md transition-colors ".concat(f?"border-primary-300 text-primary-700 bg-primary-50":"border-gray-300 text-gray-700 bg-white hover:bg-gray-50")},n.createElement(u.Ny1,{className:"w-4 h-4 mr-2"}),f?"Edit Mode":"Preview")))),f?n.createElement("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden"},n.createElement("div",{className:"relative"},i.image&&n.createElement("img",{src:i.image,alt:i.title||"Blog Post",className:"w-full h-64 object-cover"}),n.createElement("div",{className:"absolute top-4 right-4"},n.createElement("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ".concat("published"===i.status?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800")},"published"===i.status?"Published":"Draft"))),n.createElement("div",{className:"p-8"},n.createElement("div",{className:"flex items-center gap-3 mb-4"},i.selectedCategory&&n.createElement("span",{className:"inline-block px-3 py-1 bg-primary-100 text-primary-800 text-sm font-medium rounded-full"},i.selectedCategory),i.featured&&n.createElement("span",{className:"inline-block px-3 py-1 bg-yellow-100 text-yellow-800 text-sm font-medium rounded-full"},"â­ Featured"),n.createElement("span",{className:"inline-block px-3 py-1 bg-gray-100 text-gray-600 text-sm font-medium rounded-full"},"ðŸ“– ",i.reading_time," min read")),n.createElement("h1",{className:"text-4xl font-bold text-gray-900 mb-4"},i.title||"Blog Post Title"),n.createElement("h2",{className:"text-2xl font-semibold text-gray-700 mb-6"},i.header||"Blog Post Header"),n.createElement("div",{className:"prose prose-lg max-w-none mb-8"},n.createElement("div",{className:"text-gray-600 leading-relaxed whitespace-pre-line"},i.body||"Blog post body will appear here..."),i.conclusion&&n.createElement("div",{className:"mt-6 pt-6 border-t"},n.createElement("h3",{className:"text-lg font-semibold text-gray-800 mb-3"},"Conclusion"),n.createElement("div",{className:"text-gray-600 leading-relaxed whitespace-pre-line"},i.conclusion))),i.selectedTags.length>0&&n.createElement("div",{className:"mt-6 pt-6 border-t"},n.createElement("div",{className:"flex flex-wrap gap-2"},i.selectedTags.map(function(e,t){return n.createElement("span",{key:t,className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-gray-100 text-gray-800"},e)}))))):n.createElement("div",{className:"space-y-6"},n.createElement("div",{className:"bg-white rounded-xl shadow-lg p-6"},n.createElement("h2",{className:"text-xl font-semibold text-gray-900 mb-4"},"Basic Information"),n.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Title *"),n.createElement("input",{type:"text",value:i.title,onChange:function(e){return E("title",e.target.value)},className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Enter blog post title"})),n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Header *"),n.createElement("input",{type:"text",value:i.header,onChange:function(e){return E("header",e.target.value)},className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Enter blog post header"})))),n.createElement("div",{className:"bg-white rounded-xl shadow-lg p-6"},n.createElement("h2",{className:"text-xl font-semibold text-gray-900 mb-4"},"Content"),n.createElement("div",{className:"space-y-6"},n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Body *"),n.createElement("textarea",{value:i.body,onChange:function(e){return E("body",e.target.value)},rows:8,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Write your blog post body here..."})),n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Conclusion *"),n.createElement("textarea",{value:i.conclusion,onChange:function(e){return E("conclusion",e.target.value)},rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Write your blog post conclusion here..."})))),n.createElement("div",{className:"bg-white rounded-xl shadow-lg p-6"},n.createElement("h2",{className:"text-xl font-semibold text-gray-900 mb-4"},"Media & Tags"),n.createElement("div",{className:"space-y-6"},n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Image"),n.createElement("input",{type:"url",value:i.image,onChange:function(e){return E("image",e.target.value)},className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"https://example.com/image.jpg"}),n.createElement("p",{className:"text-sm text-gray-500 mt-1"},"Enter a URL for the blog post image (optional)")),n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Category"),n.createElement("select",{value:i.selectedCategory,onChange:function(e){return E("selectedCategory",e.target.value)},className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"},n.createElement("option",{value:""},"Select a category"),["Business & Entrepreneurship","Branding & Public Relations","Content & Communication","Digital Advertising","Email & SEO Strategies","UI/UX Design","Visual Communication","Video Editing & Creation","Data Science & Analytics","Artificial Intelligence & Cloud","Project & Workflow Management","Information Security"].map(function(e){return n.createElement("option",{key:e,value:e},e)}))),n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Tags"),n.createElement(vt,{tags:i.selectedTags,onChange:function(e){return E("selectedTags",e)},placeholder:"Type and press Enter to add tags...",maxTags:10}),n.createElement("p",{className:"text-sm text-gray-500 mt-1"},"Add relevant tags to help readers find your post")),n.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Reading Time (minutes)"),n.createElement("input",{type:"number",min:"1",max:"120",value:i.reading_time,onChange:function(e){return E("reading_time",parseInt(e.target.value)||1)},className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"5"}),n.createElement("p",{className:"text-sm text-gray-500 mt-1"},"Estimated reading time in minutes")),n.createElement("div",{className:"flex items-center"},n.createElement("label",{className:"flex items-center"},n.createElement("input",{type:"checkbox",checked:i.featured,onChange:function(e){return E("featured",e.target.checked)},className:"mr-2 text-primary-600 focus:ring-primary-500 rounded"}),n.createElement("span",{className:"text-sm font-medium text-gray-700"},"Featured Post")),n.createElement("p",{className:"text-sm text-gray-500 ml-2"},"Show this post prominently"))))),n.createElement("div",{className:"bg-white rounded-xl shadow-lg p-6"},n.createElement("div",{className:"flex items-center justify-between"},n.createElement("div",{className:"flex items-center space-x-4"},n.createElement("label",{className:"flex items-center"},n.createElement("input",{type:"radio",name:"status",value:"draft",checked:"draft"===i.status,onChange:function(e){return E("status",e.target.value)},className:"mr-2 text-primary-600 focus:ring-primary-500"}),n.createElement("span",{className:"text-sm font-medium text-gray-700"},"Save as Draft")),n.createElement("label",{className:"flex items-center"},n.createElement("input",{type:"radio",name:"status",value:"published",checked:"published"===i.status,onChange:function(e){return E("status",e.target.value)},className:"mr-2 text-primary-600 focus:ring-primary-500"}),n.createElement("span",{className:"text-sm font-medium text-gray-700"},"Publish Now"))),n.createElement("div",{className:"flex items-center space-x-3"},n.createElement("button",{onClick:function(){return t("/admin/blog")},className:"px-6 py-3 border border-gray-300 text-gray-700 bg-white rounded-lg hover:bg-gray-50 transition-colors"},"Cancel"),n.createElement("button",{onClick:async function(){if(i.title&&i.header&&i.body&&i.conclusion)try{let e;if(g(!0),a&&r){const t=await Z.N.from("blog_posts").update({title:i.title,slug:i.title.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,""),content:i.body+(i.conclusion?"\n\n## Conclusion\n\n"+i.conclusion:""),excerpt:i.header,featured_image_url:i.image||null,status:"draft",published_at:null}).eq("id",r).select().single(),n=(t.data,t.error);if(n)throw n;e=r,console.log("Blog post updated successfully")}else{const t=await Z.N.from("blog_posts").insert([{title:i.title,slug:i.title.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,""),content:i.body+(i.conclusion?"\n\n## Conclusion\n\n"+i.conclusion:""),excerpt:i.header,featured_image_url:i.image||null,status:"draft",published_at:null}]).select().single(),r=t.data,n=t.error;if(n)throw n;e=r.id,console.log("Blog post created successfully")}if(a&&r)await N();else{if(i.selectedCategory){const t=(await Z.N.from("blog_post_categories").insert([{post_id:e,category_id:i.selectedCategory}])).error;t&&console.error("Error saving category:",t)}if(i.selectedTags.length>0)for(const t of i.selectedTags){let r=(await Z.N.from("blog_tags").select("id").eq("name",t).single()).data;if(!r){const e=await Z.N.from("blog_tags").insert([{name:t}]).select().single(),n=e.data,a=e.error;if(a){console.error("Error creating tag:",a);continue}r=n}const n=(await Z.N.from("blog_post_tags").insert([{post_id:e,tag_id:r.id}])).error;n&&console.error("Error saving tag relationship:",n)}}alert(a?"Blog post updated successfully!":"Blog post saved successfully!"),t("/admin/blog")}catch(e){console.error("Error saving blog post:",e),alert("Failed to save blog post. Please try again.")}finally{g(!1)}else alert("Please fill in all required fields")},disabled:d,className:"px-6 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},n.createElement(u.dIn,{className:"w-4 h-4 mr-2 inline"}),d?"Saving...":a?"Update Draft":"Save Draft"),n.createElement("button",{onClick:async function(){if(i.title&&i.header&&i.body&&i.conclusion)try{let e;if(g(!0),a&&r){const t=await Z.N.from("blog_posts").update({title:i.title,slug:i.title.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,""),content:i.body+(i.conclusion?"\n\n## Conclusion\n\n"+i.conclusion:""),excerpt:i.header,featured_image_url:i.image||null,status:"published",published_at:(new Date).toISOString()}).eq("id",r).select().single(),n=(t.data,t.error);if(n)throw n;e=r,console.log("Blog post updated and published successfully")}else{const t=await Z.N.from("blog_posts").insert([{title:i.title,slug:i.title.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,""),content:i.body+(i.conclusion?"\n\n## Conclusion\n\n"+i.conclusion:""),excerpt:i.header,featured_image_url:i.image||null,status:"published",published_at:(new Date).toISOString()}]).select().single(),r=t.data,n=t.error;if(n)throw n;e=r.id,console.log("Blog post created and published successfully")}a&&r?await N():await w(e),alert(a?"Blog post updated and published successfully!":"Blog post published successfully!"),t("/admin/blog")}catch(e){console.error("Error publishing blog post:",e),alert("Failed to publish blog post. Please try again.")}finally{g(!1)}else alert("Please fill in all required fields")},disabled:d,className:"px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},d?"Publishing...":a?"Update & Publish":"Publish Now")))))))};function Ct(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,s,l=[],i=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;i=!1}else for(;!(i=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{if(!i&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return At(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?At(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function At(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Pt=function(){const e=(0,o.g)().id,t=(0,l.A)().user,r=(0,o.Zp)(),a=Ct((0,n.useState)(null),2),s=a[0],i=a[1],c=Ct((0,n.useState)(!0),2),m=c[0],d=c[1],g=Ct((0,n.useState)(null),2),p=g[0],f=g[1];(0,n.useEffect)(function(){e&&b()},[e]);const b=async function(){try{var t,r;d(!0);const n=await Z.N.from("blog_posts").select("\n          *,\n          blog_post_categories!inner(\n            blog_categories!inner(name)\n          ),\n          blog_post_tags!inner(\n            blog_tags!inner(name)\n          )\n        ").eq("id",e).single(),a=n.data,o=n.error;if(o)throw o;const s={id:a.id,title:a.title,slug:a.slug,content:a.content,excerpt:a.excerpt,featured_image_url:a.featured_image_url,status:a.status,published_at:a.published_at,created_at:a.created_at,updated_at:a.updated_at,categories:(null===(t=a.blog_post_categories)||void 0===t?void 0:t.map(function(e){return{name:e.blog_categories.name}}))||[],tags:(null===(r=a.blog_post_tags)||void 0===r?void 0:r.map(function(e){return{name:e.blog_tags.name}}))||[]};i(s)}catch(e){console.error("Error fetching blog post:",e),f("Failed to load blog post")}finally{d(!1)}};return"admin"!==(null==t?void 0:t.role)?n.createElement("div",{className:"min-h-screen bg-gray-50 pt-16"},n.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12"},n.createElement("div",{className:"text-center"},n.createElement("h1",{className:"text-2xl font-bold text-gray-900"},"Access Denied"),n.createElement("p",{className:"mt-2 text-gray-600"},"You don't have permission to access this page.")))):m?n.createElement("div",{className:"min-h-screen bg-gray-50 pt-16"},n.createElement("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},n.createElement("div",{className:"flex items-center justify-center py-12"},n.createElement("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),n.createElement("span",{className:"ml-3 text-gray-600"},"Loading blog post...")))):p||!s?n.createElement("div",{className:"min-h-screen bg-gray-50 pt-16"},n.createElement("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},n.createElement("div",{className:"text-center"},n.createElement("h1",{className:"text-2xl font-bold text-gray-900"},"Error"),n.createElement("p",{className:"mt-2 text-gray-600"},p||"Blog post not found"),n.createElement("button",{onClick:function(){return r("/admin/blog")},className:"mt-4 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"},"Back to Blog Management")))):n.createElement("div",{className:"min-h-screen bg-gray-50 pt-16"},n.createElement("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},n.createElement("div",{className:"mb-8"},n.createElement("div",{className:"flex items-center justify-between"},n.createElement("div",{className:"flex items-center space-x-4"},n.createElement("button",{onClick:function(){return r("/admin/blog")},className:"p-2 text-gray-600 hover:text-gray-900 transition-colors",title:"Back to Blog Management"},n.createElement(u.QVr,{className:"w-5 h-5"})),n.createElement("div",null,n.createElement("h1",{className:"text-3xl font-bold text-gray-900"},"View Blog Post"),n.createElement("p",{className:"text-gray-600 mt-1"},"Preview and manage your blog post"))),n.createElement("div",{className:"flex items-center space-x-3"},n.createElement("button",{onClick:function(){return r("/admin/blog/".concat(s.id,"/edit"))},className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-md hover:bg-blue-700 transition-colors"},n.createElement(u.uO9,{className:"w-4 h-4 mr-2"}),"Edit"),n.createElement("button",{onClick:async function(){if(s&&window.confirm("Are you sure you want to delete this blog post?"))try{await Z.N.from("blog_post_tags").delete().eq("post_id",s.id),await Z.N.from("blog_post_categories").delete().eq("post_id",s.id);const e=(await Z.N.from("blog_posts").delete().eq("id",s.id)).error;if(e)throw e;alert("Blog post deleted successfully!"),r("/admin/blog")}catch(e){console.error("Error deleting blog post:",e),alert("Failed to delete blog post")}},className:"inline-flex items-center px-4 py-2 bg-red-600 text-white text-sm font-medium rounded-md hover:bg-red-700 transition-colors"},n.createElement(u.qbC,{className:"w-4 h-4 mr-2"}),"Delete")))),n.createElement("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden"},s.featured_image_url&&n.createElement("div",{className:"relative"},n.createElement("img",{src:s.featured_image_url,alt:s.title,className:"w-full h-64 object-cover"}),n.createElement("div",{className:"absolute top-4 right-4"},n.createElement("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ".concat("published"===s.status?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800")},"published"===s.status?"Published":"Draft"))),n.createElement("div",{className:"p-8"},n.createElement("div",{className:"flex items-center gap-4 mb-6 text-sm text-gray-600"},n.createElement("div",{className:"flex items-center gap-2"},n.createElement(u.itz,{className:"w-4 h-4"}),n.createElement("span",null,s.published_at?new Date(s.published_at).toLocaleDateString():"Not published yet")),n.createElement("div",{className:"flex items-center gap-2"},n.createElement(u.x$1,{className:"w-4 h-4"}),n.createElement("span",null,"Admin")),n.createElement("div",{className:"flex items-center gap-2"},n.createElement(u.w_X,{className:"w-4 h-4"}),n.createElement("span",null,Math.ceil(s.content.split(" ").length/200)," min read"))),n.createElement("div",{className:"flex items-center gap-3 mb-6"},s.categories.length>0&&n.createElement("div",{className:"flex items-center gap-2"},n.createElement(u.M1W,{className:"w-4 h-4 text-gray-500"}),s.categories.map(function(e,t){return n.createElement("span",{key:t,className:"inline-block px-3 py-1 bg-blue-100 text-blue-800 text-sm font-medium rounded-full"},e.name)})),s.tags.length>0&&n.createElement("div",{className:"flex items-center gap-2"},n.createElement(u.BuZ,{className:"w-4 h-4 text-gray-500"}),s.tags.map(function(e,t){return n.createElement("span",{key:t,className:"inline-block px-3 py-1 bg-gray-100 text-gray-600 text-sm font-medium rounded-full"},e.name)}))),n.createElement("h1",{className:"text-4xl font-bold text-gray-900 mb-4"},s.title),s.excerpt&&n.createElement("h2",{className:"text-2xl font-semibold text-gray-700 mb-6"},s.excerpt),n.createElement("div",{className:"prose prose-lg max-w-none text-gray-700 leading-relaxed whitespace-pre-line"},s.content),n.createElement("div",{className:"mt-8 pt-6 border-t border-gray-200"},n.createElement("div",{className:"flex items-center justify-between text-sm text-gray-500"},n.createElement("span",null,"Created: ",new Date(s.created_at).toLocaleDateString()),n.createElement("span",null,"Updated: ",new Date(s.updated_at).toLocaleDateString())))))))},jt=r(8206);class Ot extends n.Component{constructor(e){var t,r,n,a;super(e),t=this,r=this,a=function(){t.setState({hasError:!1,error:void 0,errorInfo:void 0})},(n=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(n="handleRetry"))in r?Object.defineProperty(r,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[n]=a,this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("ErrorBoundary caught an error:",e,t),this.setState({error:e,errorInfo:t})}render(){return this.state.hasError?this.props.fallback?this.props.fallback:n.createElement("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4"},n.createElement("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-6 text-center"},n.createElement("div",{className:"w-16 h-16 mx-auto mb-4 bg-red-100 rounded-full flex items-center justify-center"},n.createElement(u.BS8,{className:"text-red-600 text-2xl"})),n.createElement("h2",{className:"text-xl font-semibold text-gray-900 mb-2"},"Oops! Something went wrong"),n.createElement("p",{className:"text-gray-600 mb-6"},"We encountered an unexpected error. Don't worry, your data is safe."),n.createElement("div",{className:"space-y-3"},n.createElement("button",{onClick:this.handleRetry,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center space-x-2"},n.createElement(u.Swo,{className:"text-sm"}),n.createElement("span",null,"Try Again")),n.createElement("button",{onClick:function(){return window.location.reload()},className:"w-full bg-gray-100 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-200 transition-colors"},"Refresh Page")),!1)):this.props.children}}var Tt=Ot;function It(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Lt{static handleError(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=r.showToast,a=void 0===n||n,o=r.logToConsole,s=void 0===o||o,l=r.reportToService,i=void 0===l||l,c={code:this.getErrorCode(e),message:this.getErrorMessage(e),details:this.getErrorDetails(e),timestamp:(new Date).toISOString(),userId:t.userId,component:t.component};return s&&this.logToConsole(c,t),this.addToLog(c),a&&this.showUserMessage(c),i&&this.reportToService(c,t),c}static async handleAsyncError(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;try{return await e()}catch(e){return this.handleError(e,t),r}}static handleApiError(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=this.createApiError(e);return this.handleError(r,t,{showToast:!0,logToConsole:!0,reportToService:!0})}static handleDatabaseError(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=this.createDatabaseError(e);return this.handleError(r,t,{showToast:!0,logToConsole:!0,reportToService:!0})}static getErrorCode(e){var t,r,n,a,o,s;return"string"==typeof e?"UNKNOWN_ERROR":null!==(t=e.message)&&void 0!==t&&t.includes("PGRST")?"DATABASE_ERROR":null!==(r=e.message)&&void 0!==r&&r.includes("Failed to fetch")||null!==(n=e.message)&&void 0!==n&&n.includes("NetworkError")?"NETWORK_ERROR":null!==(a=e.message)&&void 0!==a&&a.includes("JWT")||null!==(o=e.message)&&void 0!==o&&o.includes("auth")?"AUTH_ERROR":null!==(s=e.message)&&void 0!==s&&s.includes("payment")?"PAYMENT_ERROR":"UNKNOWN_ERROR"}static getErrorMessage(e){var t,r,n,a,o;return"string"==typeof e?e:null!==(t=e.message)&&void 0!==t&&t.includes("PGRST116")?"The requested data was not found":null!==(r=e.message)&&void 0!==r&&r.includes("PGRST301")?"You do not have permission to perform this action":null!==(n=e.message)&&void 0!==n&&n.includes("Failed to fetch")?"Unable to connect to the server. Please check your internet connection.":null!==(a=e.message)&&void 0!==a&&a.includes("JWT expired")?"Your session has expired. Please sign in again.":null!==(o=e.message)&&void 0!==o&&o.includes("payment")?"Payment processing failed. Please try again.":e.message||"An unexpected error occurred"}static getErrorDetails(e){return"string"==typeof e?{originalMessage:e}:{name:e.name,stack:e.stack,originalMessage:e.message}}static createApiError(e){var t,r,n,a;const o=(null===(t=e.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.message)||e.message||"API request failed",s=new Error(o);return s.status=null===(n=e.response)||void 0===n?void 0:n.status,s.data=null===(a=e.response)||void 0===a?void 0:a.data,s}static createDatabaseError(e){let t="Database operation failed";"PGRST116"===e.code?t="Data not found":"PGRST301"===e.code?t="Permission denied":"PGRST303"===e.code?t="Session expired":e.message&&(t=e.message);const r=new Error(t);return r.code=e.code,r.details=e.details,r}static logToConsole(e,t){const r="ðŸš¨ Error in ".concat(t.component||"Unknown Component"),n={error:e.message,code:e.code,context:t,timestamp:e.timestamp};"NETWORK_ERROR"===e.code||"AUTH_ERROR"===e.code?console.warn(r,n):console.error(r,n)}static showUserMessage(e){}static reportToService(e,t){console.log("Reporting error to service:",e)}static addToLog(e){this.errorLog.unshift(e),this.errorLog.length>this.maxLogSize&&(this.errorLog=this.errorLog.slice(0,this.maxLogSize))}static getRecentErrors(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this.errorLog.slice(0,e)}static clearErrorLog(){this.errorLog=[]}static getErrorStats(){const e={total:this.errorLog.length,byCode:{},byComponent:{}};return this.errorLog.forEach(function(t){e.byCode[t.code]=(e.byCode[t.code]||0)+1,t.component&&(e.byComponent[t.component]=(e.byComponent[t.component]||0)+1)}),e}}It(Lt,"errorLog",[]),It(Lt,"maxLogSize",100),window.addEventListener("error",function(e){Lt.handleError(e.error,{component:"Global",action:"Unhandled Error"})}),window.addEventListener("unhandledrejection",function(e){Lt.handleError(e.reason,{component:"Global",action:"Unhandled Promise Rejection"})});class Dt{static async enrollInCourse(e,t){try{const r=await Z.N.from("user_courses").insert({user_id:e,course_id:t,status:"enrolled"}).select().single(),n=r.data,a=r.error;if(a)throw a;return n}catch(e){return console.error("Error enrolling in course:",e),null}}static async startLesson(e,t,r){try{const n=await Z.N.from("user_lesson_progress").upsert({user_id:e,course_id:t,lesson_id:r,status:"started",started_at:(new Date).toISOString()},{onConflict:"user_id,lesson_id"}).select().single(),a=n.data,o=n.error;if(o)throw o;return a}catch(e){return console.error("Error starting lesson:",e),null}}static async completeLesson(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;try{const a=await Z.N.from("user_lesson_progress").update({status:"completed",completed_at:(new Date).toISOString(),watch_duration:n,progress_percentage:100}).eq("user_id",e).eq("lesson_id",r).select().single(),o=a.data,s=a.error;if(s)throw s;return await this.updateCourseProgress(e,t),await this.checkAndAwardAchievements(e,t),o}catch(e){return console.error("Error completing lesson:",e),null}}static async updateCourseProgress(e,t){try{const r=await Z.N.from("course_videos").select("id").eq("course_id",t),n=r.data,a=r.error;if(a)throw a;const o=await Z.N.from("user_lesson_progress").select("id").eq("user_id",e).eq("course_id",t).eq("status","completed"),s=o.data,l=o.error;if(l)throw l;const i=(null==n?void 0:n.length)||0,c=(null==s?void 0:s.length)||0,m=i>0?Math.round(c/i*100):0;await Z.N.from("user_courses").upsert({user_id:e,course_id:t,progress_percentage:m,status:100===m?"completed":"in_progress",last_accessed_at:(new Date).toISOString()},{onConflict:"user_id,course_id"})}catch(e){console.error("Error updating course progress:",e)}}static async checkAndAwardAchievements(e,t){try{const t=await Z.N.from("user_lesson_progress").select("*").eq("user_id",e).eq("status","completed"),r=t.data,n=t.error;if(n)throw n;const a=(null==r?void 0:r.length)||0,o=[1,10,25,50,100,200];for(const t of o)a>=t&&await this.awardAchievement(e,"lesson-".concat(t),"Lesson ".concat(t),"Complete ".concat(t," lessons"),"learning",50+t/10*25);1===a&&await this.awardAchievement(e,"first-steps","First Steps","Complete your first lesson","learning",50)}catch(e){console.error("Error checking achievements:",e)}}static async awardAchievement(e,t,r,n,a,o){try{const s=await Z.N.from("user_achievements").select("id").eq("user_id",e).eq("achievement_id",t).single(),l=s.data,i=s.error;if(i&&"PGRST116"!==i.code)throw i;l||(await Z.N.from("user_achievements").insert({user_id:e,achievement_id:t,title:r,description:n,category:a,xp_reward:o}),await this.awardXP(e,o),console.log("ðŸŽ‰ Achievement awarded: ".concat(r," (+").concat(o," XP)")))}catch(e){console.error("Error awarding achievement:",e)}}static async awardXP(e,t){try{const r=await Z.N.from("profiles").select("xp, level").eq("id",e).single(),n=r.data,a=r.error;if(a)throw a;const o=((null==n?void 0:n.xp)||0)+t,s=1+Math.floor(o/100);await Z.N.from("profiles").update({xp:o,level:s,updated_at:(new Date).toISOString()}).eq("id",e),console.log("ðŸ’Ž XP awarded: +".concat(t," XP (Total: ").concat(o,", Level: ").concat(s,")"))}catch(e){console.error("Error awarding XP:",e)}}static async getUserCourseProgress(e){try{console.log("ðŸ” Fetching course progress for user:",e);const t=await Z.N.from("user_courses").select("*").eq("user_id",e),r=t.data,n=t.error;if(n)throw n;return console.log("ðŸ“š Course progress data:",r),r||[]}catch(e){return console.error("Error fetching user course progress:",e),[]}}static async getUserLessonProgress(e){try{console.log("ðŸ” Fetching lesson progress for user:",e);const t=await Z.N.from("user_lesson_progress").select("*").eq("user_id",e).order("completed_at",{ascending:!1}),r=t.data,n=t.error;if(n)throw n;return console.log("ðŸ“– Lesson progress data:",r),r||[]}catch(e){return console.error("Error fetching user lesson progress:",e),[]}}static async getUserAchievements(e){try{const r=await Z.N.from("user_achievements").select("*").eq("user_id",e).order("earned_at",{ascending:!1}),n=r.data,a=r.error;if(a){var t;if("PGRST116"===a.code||null!==(t=a.message)&&void 0!==t&&t.includes('relation "user_achievements" does not exist'))return console.log("â„¹ï¸ user_achievements table not found, returning empty array"),[];throw a}return n||[]}catch(t){return Lt.handleDatabaseError(t,{component:"ProgressService",action:"getUserAchievements",userId:e}),[]}}}function Rt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Mt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Rt(Object(r),!0).forEach(function(t){Bt(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rt(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Bt(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ft(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,s,l=[],i=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;i=!1}else for(;!(i=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{if(!i&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return zt(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?zt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Ut=function(){const e=(0,l.A)().user,t=(0,i.c)(),r=t.isExpanded,a=t.isMobile,o=function(){return a?"ml-16":r?"ml-64":"ml-16"},s=Ft((0,n.useState)({xp:0,streak_count:0,level:1,total_achievements:0,achievements_earned:0}),2),c=s[0],m=s[1],d=Ft((0,n.useState)(!0),2),g=d[0],p=d[1],f=Ft((0,n.useState)([]),2),b=f[0],h=f[1];(0,n.useEffect)(function(){!async function(){if(null!=e&&e.id)try{const t=await Z.N.from("profiles").select("*").eq("id",e.id).single(),r=t.data;!t.error&&r&&m(function(e){return Mt(Mt({},e),{},{xp:r.xp||0,streak_count:r.streak_count||0,level:r.level||1})});let n=[],a=[],o=[];try{n=await Dt.getUserCourseProgress(e.id),a=await Dt.getUserLessonProgress(e.id),o=await Dt.getUserAchievements(e.id)}catch(e){console.log("Progress service not available yet, using empty arrays")}const s=E(r,n,a);console.log("ðŸŽ¯ Generated dynamic achievements:",s);const l=[...s];o&&o.length>0&&(console.log("ðŸ† Found database achievements:",o),o.forEach(function(e){const t=l.findIndex(function(t){return t.id===e.achievement_id});t>=0?l[t]=Mt(Mt({},l[t]),{},{earned:!0,earnedDate:e.earned_at}):l.push({id:e.achievement_id,title:e.title,description:e.description,icon:v(e.category),category:e.category,xpReward:e.xp_reward,earned:!0,earnedDate:e.earned_at})})),console.log("ðŸŽ‰ Final achievements array:",l),h(l),m(function(e){return Mt(Mt({},e),{},{total_achievements:l.length,achievements_earned:l.filter(function(e){return e.earned}).length})})}catch(e){console.error("Error fetching user data:",e)}finally{p(!1)}}()},[null==e?void 0:e.id]);const x=function(e){switch(e){case"learning":return"bg-blue-50 border-blue-200 text-blue-800";case"streak":return"bg-orange-50 border-orange-200 text-orange-800";case"social":return"bg-pink-50 border-pink-200 text-pink-800";case"special":return"bg-purple-50 border-purple-200 text-purple-800";default:return"bg-gray-50 border-gray-200 text-gray-800"}},y=function(e,t){const r=e/t*100;return r>=80?"bg-green-500":r>=60?"bg-blue-500":r>=40?"bg-yellow-500":r>=20?"bg-orange-500":"bg-gray-300"},v=function(e){switch(e){case"learning":return"ðŸ“š";case"streak":return"ðŸ”¥";case"social":return"ðŸ‘¥";case"special":return"â­";default:return"ðŸ†"}},E=function(e,t,r){const n=[];if(r&&r.length>0){const e=r.find(function(e){return"completed"===e.status});var a;e?n.push({id:"first-steps",title:"First Steps",description:"Complete your first lesson",icon:"ðŸŽ¬",category:"learning",xpReward:50,earned:!0,earnedDate:(null===(a=e.completed_at)||void 0===a?void 0:a.split("T")[0])||(new Date).toISOString().split("T")[0]}):n.push({id:"first-steps",title:"First Steps",description:"Complete your first lesson",icon:"ðŸŽ¬",category:"learning",xpReward:50,earned:!1});const t=r.filter(function(e){return"completed"===e.status}).length;[10,25,50,100,200].forEach(function(e,r){t>=e?n.push({id:"lesson-".concat(e),title:"Lesson ".concat(e),description:"Complete ".concat(e," lessons"),icon:"ðŸŽ¯",category:"learning",xpReward:50+25*r,earned:!0,earnedDate:(new Date).toISOString().split("T")[0]}):n.push({id:"lesson-".concat(e),title:"Lesson ".concat(e),description:"Complete ".concat(e," lessons"),icon:"ðŸŽ¯",category:"learning",xpReward:50+25*r,earned:!1,progress:t,maxProgress:e})})}if(t&&t.length>0){const e=t.length;[1,3,5,10,20].forEach(function(t,r){e>=t?n.push({id:"course-".concat(t),title:"Course ".concat(t),description:"Enroll in ".concat(t," course").concat(t>1?"s":""),icon:"ðŸ“š",category:"learning",xpReward:100+50*r,earned:!0,earnedDate:(new Date).toISOString().split("T")[0]}):n.push({id:"course-".concat(t),title:"Course ".concat(t),description:"Enroll in ".concat(t," course").concat(t>1?"s":""),icon:"ðŸ“š",category:"learning",xpReward:100+50*r,earned:!1,progress:e,maxProgress:t})});const r=t.filter(function(e){return"completed"===e.status}).length;[1,3,5,10].forEach(function(e,t){r>=e?n.push({id:"complete-".concat(e),title:"Course Master ".concat(e),description:"Complete ".concat(e," course").concat(e>1?"s":""),icon:"ðŸ†",category:"learning",xpReward:200+100*t,earned:!0,earnedDate:(new Date).toISOString().split("T")[0]}):n.push({id:"complete-".concat(e),title:"Course Master ".concat(e),description:"Complete ".concat(e," course").concat(e>1?"s":""),icon:"ðŸ†",category:"learning",xpReward:200+100*t,earned:!1,progress:r,maxProgress:e})})}if(e){const t=e.streak_count||0;[7,14,30,60,100,365].forEach(function(e,r){t>=e?n.push({id:"streak-".concat(e),title:"".concat(e," Day Streak"),description:"Maintain a ".concat(e,"-day learning streak"),icon:"ðŸ”¥",category:"streak",xpReward:100+100*r,earned:!0,earnedDate:(new Date).toISOString().split("T")[0]}):n.push({id:"streak-".concat(e),title:"".concat(e," Day Streak"),description:"Maintain a ".concat(e,"-day learning streak"),icon:"ðŸ”¥",category:"streak",xpReward:100+100*r,earned:!1,progress:t,maxProgress:e})});const r=e.xp||0,a=e.level||1;[100,500,1e3,2500,5e3,1e4].forEach(function(e,t){r>=e?n.push({id:"xp-collector-".concat(e),title:"".concat(e," XP Collector"),description:"Earn ".concat(e," total XP"),icon:"ðŸ’Ž",category:"special",xpReward:0,earned:!0,earnedDate:(new Date).toISOString().split("T")[0]}):n.push({id:"xp-collector-".concat(e),title:"".concat(e," XP Collector"),description:"Earn ".concat(e," total XP"),icon:"ðŸ’Ž",category:"special",xpReward:50+25*t,earned:!1,progress:r,maxProgress:e})}),[5,10,20,50,100].forEach(function(e,t){a>=e?n.push({id:"level-master-".concat(e),title:"Level ".concat(e," Master"),description:"Reach level ".concat(e),icon:"â­",category:"special",xpReward:0,earned:!0,earnedDate:(new Date).toISOString().split("T")[0]}):n.push({id:"level-master-".concat(e),title:"Level ".concat(e," Master"),description:"Reach level ".concat(e),icon:"â­",category:"special",xpReward:100+100*t,earned:!1,progress:a,maxProgress:e})})}if(e){const t=e.level||1;[5,10,25,50,100].forEach(function(e,r){t>=e?n.push({id:"level-".concat(e),title:"Level ".concat(e),description:"Reach level ".concat(e),icon:"â­",category:"special",xpReward:500+250*r,earned:!0,earnedDate:(new Date).toISOString().split("T")[0]}):n.push({id:"level-".concat(e),title:"Level ".concat(e),description:"Reach level ".concat(e),icon:"â­",category:"special",xpReward:500+250*r,earned:!1,progress:t,maxProgress:e})})}if(e){const t=e.xp||0;[1e3,2500,5e3,1e4,25e3,5e4,1e5].forEach(function(e,r){t>=e?n.push({id:"xp-".concat(e),title:"".concat(e.toLocaleString()," XP"),description:"Earn ".concat(e.toLocaleString()," total XP"),icon:"ðŸ’Ž",category:"special",xpReward:100+50*r,earned:!0,earnedDate:(new Date).toISOString().split("T")[0]}):n.push({id:"xp-".concat(e),title:"".concat(e.toLocaleString()," XP"),description:"Earn ".concat(e.toLocaleString()," total XP"),icon:"ðŸ’Ž",category:"special",xpReward:100+50*r,earned:!1,progress:t,maxProgress:e})})}if(e){var o;new Date(e.created_at)<=new Date("2024-01-01")?n.push({id:"early-bird",title:"Early Bird",description:"Join the academy in its first month",icon:"ðŸŒ…",category:"special",xpReward:250,earned:!0,earnedDate:(null===(o=e.created_at)||void 0===o?void 0:o.split("T")[0])||(new Date).toISOString().split("T")[0]}):n.push({id:"early-bird",title:"Early Bird",description:"Join the academy in its first month",icon:"ðŸŒ…",category:"special",xpReward:250,earned:!1});const t=e.last_activity_date;t&&(Math.floor((Date.now()-new Date(t).getTime())/864e5)<=1?n.push({id:"daily-learner",title:"Daily Learner",description:"Learn something new today",icon:"ðŸ“…",category:"special",xpReward:50,earned:!0,earnedDate:(new Date).toISOString().split("T")[0]}):n.push({id:"daily-learner",title:"Daily Learner",description:"Learn something new today",icon:"ðŸ“…",category:"special",xpReward:50,earned:!1}))}return n};return g?n.createElement(Tt,null,n.createElement("div",{className:"min-h-screen bg-gray-50"},n.createElement(te.A,null),n.createElement("div",{className:"".concat(o()," transition-all duration-300 ease-in-out flex items-center justify-center min-h-screen pt-16")},n.createElement("div",{className:"text-center"},n.createElement("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),n.createElement("p",{className:"text-gray-600"},"Loading your achievements..."))))):n.createElement(Tt,null,n.createElement("div",{className:"min-h-screen bg-gray-50"},n.createElement(te.A,null),n.createElement("div",{className:"".concat(o()," transition-all duration-300 ease-in-out")},n.createElement("div",{className:"bg-white shadow-sm border-b pt-16"},n.createElement("div",{className:"px-4 sm:px-6 lg:px-8 py-6"},n.createElement("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0"},n.createElement("div",{className:"flex-1 min-w-0"},n.createElement("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-gray-900 leading-tight"},"Your Achievements ðŸ†"),n.createElement("p",{className:"text-sm sm:text-base text-gray-600 mt-2"},"Track your progress and unlock amazing rewards")),n.createElement("div",{className:"flex flex-col sm:flex-row items-start sm:items-center space-y-2 sm:space-y-0 sm:space-x-4"},n.createElement("div",{className:"flex items-center space-x-2 bg-blue-50 px-3 py-2 rounded-lg"},n.createElement(u.SBv,{className:"text-blue-500 text-sm"}),n.createElement("span",{className:"text-xs sm:text-sm font-medium text-blue-900"},c.achievements_earned,"/",c.total_achievements," Unlocked")),n.createElement("div",{className:"flex items-center space-x-2 bg-purple-50 px-3 py-2 rounded-lg"},n.createElement(u.gt3,{className:"text-purple-500 text-sm"}),n.createElement("span",{className:"text-xs sm:text-sm font-medium text-purple-900"},c.xp," XP")))))),n.createElement("div",{className:"px-4 sm:px-6 lg:px-8 py-8"},n.createElement("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8"},n.createElement("div",{className:"bg-white rounded-xl shadow-sm border p-6 text-center"},n.createElement("div",{className:"w-16 h-16 mx-auto mb-3 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center"},n.createElement(u.SBv,{className:"text-white text-xl"})),n.createElement("h3",{className:"text-2xl font-bold text-gray-900"},c.achievements_earned),n.createElement("p",{className:"text-sm text-gray-600"},"Achievements Unlocked")),n.createElement("div",{className:"bg-white rounded-xl shadow-sm border p-6 text-center"},n.createElement("div",{className:"w-16 h-16 mx-auto mb-3 bg-gradient-to-br from-orange-500 to-red-600 rounded-full flex items-center justify-center"},n.createElement(u.Itl,{className:"text-white text-xl"})),n.createElement("h3",{className:"text-2xl font-bold text-gray-900"},c.streak_count),n.createElement("p",{className:"text-sm text-gray-600"},"Day Streak")),n.createElement("div",{className:"bg-white rounded-xl shadow-sm border p-6 text-center"},n.createElement("div",{className:"w-16 h-16 mx-auto mb-3 bg-gradient-to-br from-green-500 to-teal-600 rounded-full flex items-center justify-center"},n.createElement(u.YYR,{className:"text-white text-xl"})),n.createElement("h3",{className:"text-2xl font-bold text-gray-900"},c.level),n.createElement("p",{className:"text-sm text-gray-600"},"Current Level")),n.createElement("div",{className:"bg-white rounded-xl shadow-sm border p-6 text-center"},n.createElement("div",{className:"w-16 h-16 mx-auto mb-3 bg-gradient-to-br from-purple-500 to-pink-600 rounded-full flex items-center justify-center"},n.createElement(u.gt3,{className:"text-white text-xl"})),n.createElement("h3",{className:"text-2xl font-bold text-gray-900"},c.xp),n.createElement("p",{className:"text-sm text-gray-600"},"Total XP"))),n.createElement("div",{className:"space-y-8"},n.createElement("div",null,n.createElement("div",{className:"flex items-center space-x-3 mb-6"},n.createElement(u.YNd,{className:"text-blue-500 text-xl"}),n.createElement("h2",{className:"text-xl font-bold text-gray-900"},"Learning Achievements"),n.createElement("span",{className:"bg-blue-100 text-blue-800 text-xs font-medium px-2 py-1 rounded-full"},b.filter(function(e){return"learning"===e.category&&e.earned}).length,"/",b.filter(function(e){return"learning"===e.category}).length)),n.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},b.filter(function(e){return"learning"===e.category}).map(function(e){return n.createElement("div",{key:e.id,className:"bg-white rounded-xl shadow-sm border p-6 transition-all duration-200 ".concat(e.earned?"border-green-200 bg-green-50":"hover:shadow-md")},n.createElement("div",{className:"flex items-start justify-between mb-4"},n.createElement("div",{className:"text-3xl"},e.icon),n.createElement("div",{className:"px-2 py-1 rounded-full text-xs font-medium border ".concat(x(e.category))},e.category)),n.createElement("h3",{className:"font-semibold text-gray-900 mb-2"},e.title),n.createElement("p",{className:"text-sm text-gray-600 mb-4"},e.description),e.earned?n.createElement("div",{className:"flex items-center justify-between"},n.createElement("div",{className:"flex items-center space-x-2 text-green-600"},n.createElement(u.Z0L,{className:"text-sm"}),n.createElement("span",{className:"text-sm font-medium"},"Unlocked!")),n.createElement("div",{className:"text-sm text-gray-500"},e.earnedDate)):void 0!==e.progress?n.createElement("div",{className:"space-y-2"},n.createElement("div",{className:"flex justify-between text-sm text-gray-600"},n.createElement("span",null,"Progress"),n.createElement("span",null,e.progress,"/",e.maxProgress)),n.createElement("div",{className:"w-full bg-gray-200 rounded-full h-2"},n.createElement("div",{className:"h-2 rounded-full transition-all duration-300 ".concat(y(e.progress,e.maxProgress)),style:{width:"".concat(e.progress/e.maxProgress*100,"%")}}))):null,n.createElement("div",{className:"mt-4 flex items-center justify-between"},n.createElement("div",{className:"flex items-center space-x-1 text-yellow-600"},n.createElement(u.gt3,{className:"text-xs"}),n.createElement("span",{className:"text-xs font-medium"},"+",e.xpReward," XP")),e.earned&&n.createElement("div",{className:"text-green-600 text-sm font-medium"},"âœ“ Earned")))}))),n.createElement("div",null,n.createElement("div",{className:"flex items-center space-x-3 mb-6"},n.createElement(u.Itl,{className:"text-orange-500 text-xl"}),n.createElement("h2",{className:"text-xl font-bold text-gray-900"},"Streak Achievements"),n.createElement("span",{className:"bg-orange-100 text-orange-800 text-xs font-medium px-2 py-1 rounded-full"},b.filter(function(e){return"streak"===e.category&&e.earned}).length,"/",b.filter(function(e){return"streak"===e.category}).length)),n.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},b.filter(function(e){return"streak"===e.category}).map(function(e){return n.createElement("div",{key:e.id,className:"bg-white rounded-xl shadow-sm border p-6 transition-all duration-200 ".concat(e.earned?"border-green-200 bg-green-50":"hover:shadow-md")},n.createElement("div",{className:"flex items-start justify-between mb-4"},n.createElement("div",{className:"text-3xl"},e.icon),n.createElement("div",{className:"px-2 py-1 rounded-full text-xs font-medium border ".concat(x(e.category))},e.category)),n.createElement("h3",{className:"font-semibold text-gray-900 mb-2"},e.title),n.createElement("p",{className:"text-sm text-gray-600 mb-4"},e.description),e.earned?n.createElement("div",{className:"flex items-center justify-between"},n.createElement("div",{className:"flex items-center space-x-2 text-green-600"},n.createElement(u.Z0L,{className:"text-sm"}),n.createElement("span",{className:"text-sm font-medium"},"Unlocked!")),n.createElement("div",{className:"text-sm text-gray-500"},e.earnedDate)):void 0!==e.progress?n.createElement("div",{className:"space-y-2"},n.createElement("div",{className:"flex justify-between text-sm text-gray-600"},n.createElement("span",null,"Progress"),n.createElement("span",null,e.progress,"/",e.maxProgress)),n.createElement("div",{className:"w-full bg-gray-200 rounded-full h-2"},n.createElement("div",{className:"h-2 rounded-full transition-all duration-300 ".concat(y(e.progress,e.maxProgress)),style:{width:"".concat(e.progress/e.maxProgress*100,"%")}}))):null,n.createElement("div",{className:"mt-4 flex items-center justify-between"},n.createElement("div",{className:"flex items-center space-x-1 text-yellow-600"},n.createElement(u.gt3,{className:"text-xs"}),n.createElement("span",{className:"text-xs font-medium"},"+",e.xpReward," XP")),e.earned&&n.createElement("div",{className:"text-green-600 text-sm font-medium"},"âœ“ Earned")))}))),n.createElement("div",null,n.createElement("div",{className:"flex items-center space-x-3 mb-6"},n.createElement(u.Mbv,{className:"text-pink-500 text-xl"}),n.createElement("h2",{className:"text-xl font-bold text-gray-900"},"Social Achievements"),n.createElement("span",{className:"bg-pink-100 text-pink-800 text-xs font-medium px-2 py-1 rounded-full"},b.filter(function(e){return"social"===e.category&&e.earned}).length,"/",b.filter(function(e){return"social"===e.category}).length)),n.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},b.filter(function(e){return"social"===e.category}).map(function(e){return n.createElement("div",{key:e.id,className:"bg-white rounded-xl shadow-sm border p-6 transition-all duration-200 ".concat(e.earned?"border-green-200 bg-green-50":"hover:shadow-md")},n.createElement("div",{className:"flex items-start justify-between mb-4"},n.createElement("div",{className:"text-3xl"},e.icon),n.createElement("div",{className:"px-2 py-1 rounded-full text-xs font-medium border ".concat(x(e.category))},e.category)),n.createElement("h3",{className:"font-semibold text-gray-900 mb-2"},e.title),n.createElement("p",{className:"text-sm text-gray-600 mb-4"},e.description),e.earned?n.createElement("div",{className:"flex items-center justify-between"},n.createElement("div",{className:"flex items-center space-x-2 text-green-600"},n.createElement(u.Z0L,{className:"text-sm"}),n.createElement("span",{className:"text-sm font-medium"},"Unlocked!")),n.createElement("div",{className:"text-sm text-gray-500"},e.earnedDate)):void 0!==e.progress?n.createElement("div",{className:"space-y-2"},n.createElement("div",{className:"flex justify-between text-sm text-gray-600"},n.createElement("span",null,"Progress"),n.createElement("span",null,e.progress,"/",e.maxProgress)),n.createElement("div",{className:"w-full bg-gray-200 rounded-full h-2"},n.createElement("div",{className:"h-2 rounded-full transition-all duration-300 ".concat(y(e.progress,e.maxProgress)),style:{width:"".concat(e.progress/e.maxProgress*100,"%")}}))):null,n.createElement("div",{className:"mt-4 flex items-center justify-between"},n.createElement("div",{className:"flex items-center space-x-1 text-yellow-600"},n.createElement(u.gt3,{className:"text-xs"}),n.createElement("span",{className:"text-xs font-medium"},"+",e.xpReward," XP")),e.earned&&n.createElement("div",{className:"text-green-600 text-sm font-medium"},"âœ“ Earned")))}))),n.createElement("div",null,n.createElement("div",{className:"flex items-center space-x-3 mb-6"},n.createElement(u.BJb,{className:"text-purple-500 text-xl"}),n.createElement("h2",{className:"text-xl font-bold text-gray-900"},"Special Achievements"),n.createElement("span",{className:"bg-purple-100 text-purple-800 text-xs font-medium px-2 py-1 rounded-full"},b.filter(function(e){return"special"===e.category&&e.earned}).length,"/",b.filter(function(e){return"special"===e.category}).length)),n.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},b.filter(function(e){return"special"===e.category}).map(function(e){return n.createElement("div",{key:e.id,className:"bg-white rounded-xl shadow-sm border p-6 transition-all duration-200 ".concat(e.earned?"border-green-200 bg-green-50":"hover:shadow-md")},n.createElement("div",{className:"flex items-start justify-between mb-4"},n.createElement("div",{className:"text-3xl"},e.icon),n.createElement("div",{className:"px-2 py-1 rounded-full text-xs font-medium border ".concat(x(e.category))},e.category)),n.createElement("h3",{className:"font-semibold text-gray-900 mb-2"},e.title),n.createElement("p",{className:"text-sm text-gray-600 mb-4"},e.description),e.earned?n.createElement("div",{className:"flex items-center justify-between"},n.createElement("div",{className:"flex items-center space-x-2 text-green-600"},n.createElement(u.Z0L,{className:"text-sm"}),n.createElement("span",{className:"text-sm font-medium"},"Unlocked!")),n.createElement("div",{className:"text-sm text-gray-500"},e.earnedDate)):void 0!==e.progress?n.createElement("div",{className:"space-y-2"},n.createElement("div",{className:"flex justify-between text-sm text-gray-600"},n.createElement("span",null,"Progress"),n.createElement("span",null,e.progress,"/",e.maxProgress)),n.createElement("div",{className:"w-full bg-gray-200 rounded-full h-2"},n.createElement("div",{className:"h-2 rounded-full transition-all duration-300 ".concat(y(e.progress,e.maxProgress)),style:{width:"".concat(e.progress/e.maxProgress*100,"%")}}))):null,n.createElement("div",{className:"mt-4 flex items-center justify-between"},n.createElement("div",{className:"flex items-center space-x-1 text-yellow-600"},n.createElement(u.gt3,{className:"text-xs"}),n.createElement("span",{className:"text-xs font-medium"},"+",e.xpReward," XP")),e.earned&&n.createElement("div",{className:"text-green-600 text-sm font-medium"},"âœ“ Earned")))})))),n.createElement("div",{className:"mt-12 bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl border border-blue-200 p-8 text-center"},n.createElement("div",{className:"text-4xl mb-4"},"ðŸš€"),n.createElement("h3",{className:"text-xl font-bold text-gray-900 mb-2"},"Keep Going!"),n.createElement("p",{className:"text-gray-600 mb-4"},"You're making amazing progress! Every achievement brings you closer to your goals."),n.createElement("div",{className:"flex flex-col sm:flex-row items-center justify-center space-y-2 sm:space-y-0 sm:space-x-4"},n.createElement("div",{className:"bg-white px-4 py-2 rounded-lg shadow-sm"},n.createElement("span",{className:"text-sm font-medium text-gray-700"},"Next Level: ",c.level+1)),n.createElement("div",{className:"bg-white px-4 py-2 rounded-lg shadow-sm"},n.createElement("span",{className:"text-sm font-medium text-gray-700"},"XP to Next: ",1e3-c.xp%1e3))))))))};function qt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,s,l=[],i=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;i=!1}else for(;!(i=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{if(!i&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Wt(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Wt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Vt=function(e){let t=e.isOpen,r=e.onClose,a=e.onSuccess,o=e.user,s=e.planName,l=e.amount;const i=qt((0,n.useState)(""),2),c=i[0],m=i[1],d=qt((0,n.useState)(""),2),u=d[0],g=d[1],p=qt((0,n.useState)(!1),2),f=p[0],b=p[1],h=qt((0,n.useState)(null),2),x=h[0],y=h[1],v=qt((0,n.useState)(null),2),E=v[0],w=v[1];return(0,n.useEffect)(function(){t&&null!=o&&o.email&&(m(o.email),g(o.phone||""))},[t,o]),t?n.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[9999] p-4"},n.createElement("div",{className:"bg-white rounded-lg max-w-md w-full max-h-[90vh] overflow-y-auto"},n.createElement("div",{className:"p-6"},n.createElement("div",{className:"flex justify-between items-center mb-6"},n.createElement("h2",{className:"text-2xl font-bold text-gray-900"},"Complete Payment"),n.createElement("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 text-2xl"},"Ã—")),n.createElement("div",{className:"space-y-4"},n.createElement("div",{className:"p-4 bg-blue-50 rounded-lg"},n.createElement("h3",{className:"font-medium text-blue-900"},s),n.createElement("p",{className:"text-2xl font-bold text-blue-600"},"â‚¦",l.toLocaleString()),n.createElement("p",{className:"text-sm text-blue-700 mt-1"},"Monthly recurring payment â€¢ Billed every month")),n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Email Address *"),n.createElement("input",{type:"email",value:c,onChange:function(e){return m(e.target.value)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"your@email.com",required:!0})),n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Phone Number *"),n.createElement("input",{type:"tel",value:u,onChange:function(e){return g(e.target.value)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"08012345678",required:!0})),x&&n.createElement("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg"},n.createElement("p",{className:"text-red-600 text-sm"},x)),n.createElement("div",{className:"space-y-3"},n.createElement("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg"},n.createElement("div",{className:"flex items-start"},n.createElement("div",{className:"flex-shrink-0"},n.createElement("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor"},n.createElement("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"}))),n.createElement("div",{className:"ml-3"},n.createElement("h3",{className:"text-sm font-medium text-yellow-800"},"Payment Method Notice"),n.createElement("div",{className:"mt-1 text-sm text-yellow-700"},n.createElement("p",null,"âš ï¸ Card transfers are currently not working. Please use ",n.createElement("strong",null,"Bank Transfer")," for payment."))))),n.createElement("button",{onClick:async function(){try{var e;b(!0),y(null);const t=window.open("about:blank","_blank");if(!c||!c.includes("@"))throw new Error("Please enter a valid email address");if(!u||u.length<10)throw new Error("Please enter a valid phone number (minimum 10 digits)");const n=await fetch("".concat(Ae.API_BASE,"/flutterwave/initialize-payment"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:c,amount:l,plan_name:s,user_id:null==o?void 0:o.id,customer_name:(null==o?void 0:o.name)||c.split("@")[0],phone_number:u})}),i=await n.json();if(!i.success||null===(e=i.data)||void 0===e||!e.link)throw new Error(i.message||"Payment initialization failed");{w(i.data.link);let e=null;if(t&&!t.closed?(t.location.href=i.data.link,e=t):e=window.open(i.data.link,"_blank"),!e)return void(window.location.href=i.data.link);{const t=setInterval(async function(){e.closed&&(clearInterval(t),setTimeout(async function(){try{var e;let r=null,n=0;const o=3;for(;n<o&&(null===(t=r)||void 0===t||!t.success);){var t;console.log("ðŸ”„ Attempting payment verification (attempt ".concat(n+1,"/").concat(o,")"));const e=await fetch("".concat(Ae.API_BASE,"/flutterwave/verify-payment"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({reference:i.data.tx_ref,transaction_id:i.data.tx_ref})});if(r=await e.json(),console.log("ðŸ” Verification response:",r),r.success)break;n++,n<o&&await new Promise(function(e){return setTimeout(e,2e3)})}null!==(e=r)&&void 0!==e&&e.success?a({success:!0,message:"Payment verified successfully! Your subscription is now active.",data:r.data}):a({success:!1,message:"Payment verification is taking longer than expected. Please check your subscription status in a few minutes. If payment was deducted but subscription is not active, please contact support.",error:!0})}catch(e){console.error("Payment verification error:",e),a({success:!1,message:"Payment verification failed. Please check your subscription status in a few minutes. If payment was deducted but subscription is not active, please contact support.",error:!0})}r()},5e3))},1e3);r()}}}catch(e){console.error("Payment error:",e),y(e instanceof Error?e.message:"Payment failed")}finally{b(!1)}},disabled:f,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors flex items-center justify-center"},f?n.createElement(n.Fragment,null,n.createElement("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},n.createElement("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.createElement("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})),"Processing..."):"Pay with Flutterwave"),E&&n.createElement("button",{onClick:function(){E&&(window.open(E,"_blank"),r())},className:"w-full bg-green-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-green-700 transition-colors"},"Open Payment Page")),n.createElement("div",{className:"text-center"},n.createElement("p",{className:"text-sm text-gray-500"},"ðŸ”’ Secure payment powered by Flutterwave"),n.createElement("p",{className:"text-xs text-gray-400 mt-1"},"Payment will open in a new window")))))):null};function Yt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Gt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Yt(Object(r),!0).forEach(function(t){Ht(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yt(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Ht(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let Kt=function(e){return e[e.ERROR=0]="ERROR",e[e.WARN=1]="WARN",e[e.INFO=2]="INFO",e[e.DEBUG=3]="DEBUG",e}({});class Xt{constructor(){Ht(this,"logLevel",void 0),Ht(this,"logs",[]),Ht(this,"maxLogs",1e3),this.logLevel=Kt.ERROR}static getInstance(){return Xt.instance||(Xt.instance=new Xt),Xt.instance}error(e,t,r,n){this.log(Kt.ERROR,e,t,r,n)}warn(e,t,r,n){this.log(Kt.WARN,e,t,r,n)}info(e,t,r,n){this.log(Kt.INFO,e,t,r,n)}debug(e,t,r,n){this.log(Kt.DEBUG,e,t,r,n)}performance(e,t,r){const n="Performance: ".concat(e," took ").concat(t,"ms");this.log(Kt.INFO,n,Gt(Gt({},r),{},{duration:t}),"Performance")}apiCall(e,t,r,n){const a="API ".concat(e," ").concat(t," - ").concat(r),o={method:e,url:t,status:r,duration:n};this.log(Kt.INFO,a,o,"API")}userAction(e,t){const r="User action: ".concat(e);this.log(Kt.INFO,r,t,"UserAction")}database(e,t,r,n){const a="DB ".concat(e," on ").concat(t),o=Gt({operation:e,table:t,duration:r},n);this.log(Kt.DEBUG,a,o,"Database")}log(e,t,r,n,a){if(e>this.logLevel)return;const o={level:e,message:t,data:r,timestamp:(new Date).toISOString(),component:n,action:a};this.logs.unshift(o),this.logs.length>this.maxLogs&&(this.logs=this.logs.slice(0,this.maxLogs)),this.outputToConsole(o)}outputToConsole(e){const t=e.level,r=e.message,n=e.data,a=e.component,o=e.action,s="[".concat(a||"App","]").concat(o?"[".concat(o,"]"):"");switch(t){case Kt.ERROR:console.error("ðŸš¨ ".concat(s," ").concat(r),n);break;case Kt.WARN:console.warn("âš ï¸ ".concat(s," ").concat(r),n);break;case Kt.INFO:console.log("â„¹ï¸ ".concat(s," ").concat(r),n);break;case Kt.DEBUG:console.log("ðŸ› ".concat(s," ").concat(r),n)}}getLogs(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50,n=this.logs;return void 0!==e&&(n=n.filter(function(t){return t.level===e})),t&&(n=n.filter(function(e){return e.component===t})),n.slice(0,r)}clearLogs(){this.logs=[]}getLogStats(){const e={total:this.logs.length,byLevel:{},byComponent:{}};return this.logs.forEach(function(t){const r=Kt[t.level];e.byLevel[r]=(e.byLevel[r]||0)+1,t.component&&(e.byComponent[t.component]=(e.byComponent[t.component]||0)+1)}),e}setLogLevel(e){this.logLevel=e}exportLogs(){return JSON.stringify(this.logs,null,2)}}Ht(Xt,"instance",void 0);const Jt=Xt.getInstance(),$t=function(e,t,r,n){return Jt.info(e,t,r,n)};function Zt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Qt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Zt(Object(r),!0).forEach(function(t){er(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zt(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function er(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const tr=process.env.REACT_APP_FLUTTERWAVE_PUBLIC_KEY;console.log("ðŸ”§ Flutterwave Mode:","live"),console.log("ðŸ”§ Flutterwave Public Key:",(null==tr?void 0:tr.substring(0,20))+"..."),tr||console.error("âŒ CRITICAL: REACT_APP_FLUTTERWAVE_PUBLIC_KEY environment variable is required");const rr=new class{async initializePayment(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=performance.now();try{if(!e||e.trim().length<4)throw new Error("Valid email address is required (minimum 4 characters)");if(!t||t<=0)throw new Error("Valid amount is required");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.trim()))throw new Error("Please enter a valid email address");$t("Initializing Flutterwave payment via secure server endpoint",{email:e,amount:t},"FlutterwaveService","initializePayment");const s=await Promise.resolve().then(r.bind(r,9491)),l=s.API_ENDPOINTS,i=s.apiCall,c=await i(l.FLUTTERWAVE_INITIALIZE_PAYMENT,{method:"POST",body:JSON.stringify({email:e.trim(),amount:t,metadata:Qt(Qt({},n),{},{source:"king-ezekiel-academy",timestamp:(new Date).toISOString()})})});if(o=performance.now()-a,Jt.apiCall("POST","/flutterwave/initialize-payment",200,o),$t("Payment initialized successfully via secure server",{success:c.success},"FlutterwaveService","initializePayment"),c.success)return{success:!0,authorization_url:c.data.link,reference:c.data.tx_ref};throw new Error(c.message||"Payment initialization failed")}catch(r){throw Lt.handleApiError(r,{component:"FlutterwaveService",action:"initializePayment",metadata:{email:e,amount:t}}),r}var o}async createSubscription(e,t){try{var r;if(console.log("ðŸš€ Creating Flutterwave subscription"),"localhost"===window.location.hostname){console.log("ðŸ”§ Development mode: Simulating successful subscription creation");const e=(await Z.N.auth.getUser()).data.user;if(!e)throw new Error("User not authenticated");const r={success:!0,subscription:{id:"sub_"+Date.now(),subscription_code:"SUB_"+Date.now(),customer_code:t,plan_id:process.env.REACT_APP_FLUTTERWAVE_PLAN_ID||"146851",amount:2500,currency:"NGN",status:"active",created_at:(new Date).toISOString(),next_payment_date:new Date(Date.now()+2592e6).toISOString()}};return console.log("âœ… Mock subscription created successfully:",r),await this.saveSubscriptionToDatabase(e.id,r.subscription),r}const n="".concat(Ae.API_BASE,"/flutterwave/create-subscription"),a=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({customerCode:t,email:e,userId:null===(r=(await Z.N.auth.getUser()).data.user)||void 0===r?void 0:r.id})});if(!a.ok){const e=await a.text();throw console.error("âŒ Server API Error Response:",e),new Error("Server API error: ".concat(a.status," - ").concat(e))}const o=await a.json();if(console.log("âœ… Flutterwave subscription created successfully via server:",o),o.success)return{success:!0,subscription:o.data};throw new Error(o.message||"Subscription creation failed")}catch(e){throw console.error("ðŸ’¥ Flutterwave subscription creation error:",e),e}}async verifyPayment(e,t){try{if(console.log("ðŸ” Verifying Flutterwave payment",{reference:e,transactionId:t}),"localhost"===window.location.hostname){console.log("ðŸ”§ Development mode: Simulating successful payment verification");const t={success:!0,transaction:{id:"9636276",amount:2500,currency:"NGN",status:"successful",tx_ref:e,customer:{email:"colourfulrhythmmbe@gmail.com",customer_code:"CUST_"+Date.now()},created_at:(new Date).toISOString(),paid_at:(new Date).toISOString()}};return console.log("âœ… Mock payment verification successful:",t),t}const r="".concat(Ae.API_BASE,"/flutterwave/verify-payment"),n=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({reference:e,transaction_id:t})});if(!n.ok){const e=await n.text();throw console.error("âŒ Server API Error Response:",e),new Error("Server API error: ".concat(n.status," - ").concat(e))}const a=await n.json();if(console.log("âœ… Flutterwave payment verified successfully via server:",a),a.success)return{success:!0,transaction:a.data};throw new Error(a.message||"Payment verification failed")}catch(e){throw console.error("ðŸ’¥ Flutterwave payment verification error:",e),e}}async getSubscription(e){try{console.log("ðŸ“Š Fetching Flutterwave subscription via server endpoint");const t="".concat(Ae.API_BASE,"/flutterwave/get-subscription"),r=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({subscription_id:e})});if(!r.ok){const e=await r.text();throw console.error("âŒ Server API Error Response:",e),new Error("Server API error: ".concat(r.status," - ").concat(e))}const n=await r.json();if(console.log("âœ… Flutterwave subscription fetched successfully via server:",n),n.success)return{success:!0,subscription:n.data};throw new Error(n.message||"Failed to fetch subscription")}catch(e){throw console.error("ðŸ’¥ Flutterwave subscription fetch error:",e),e}}async cancelSubscription(e){try{console.log("ðŸš« Cancelling Flutterwave subscription via secure server endpoint");const t="/flutterwave/cancel-subscription",r=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({subscription_id:e})});if(!r.ok){const e=await r.text();throw console.error("âŒ Secure API Error Response:",e),new Error("Secure API error: ".concat(r.status," - ").concat(e))}const n=await r.json();if(console.log("âœ… Flutterwave subscription cancelled successfully via secure server:",n),n.success)return{success:!0,message:n.message||"Subscription cancelled successfully"};throw new Error(n.message||"Subscription cancellation failed")}catch(e){throw console.error("ðŸ’¥ Flutterwave subscription cancellation error:",e),e}}async saveSubscriptionToDatabase(e,t){try{console.log("ðŸ’¾ Saving Flutterwave subscription to database:",{userId:e,flutterwaveData:t});const r=await Z.N.from("user_subscriptions").select("id").eq("user_id",e).single(),n=r.data,a=r.error;let o,s;if(n&&!a){const r=await Z.N.from("user_subscriptions").update({flutterwave_subscription_id:t.subscription_code||t.id,flutterwave_customer_code:t.customer_code||e,plan_name:t.plan_name||"Monthly Membership",status:t.status||"active",amount:t.amount||2500,currency:t.currency||"NGN"}).eq("user_id",e).select(),n=r.data,a=r.error;o=n,s=a}else{const r=await Z.N.from("user_subscriptions").insert({user_id:e,flutterwave_subscription_id:t.subscription_code||t.id,flutterwave_customer_code:t.customer_code||e,plan_name:t.plan_name||"Monthly Membership",status:t.status||"active",amount:t.amount||2500,currency:t.currency||"NGN"}).select(),n=r.data,a=r.error;o=n,s=a}if(s)throw console.error("âŒ Database subscription save error:",s),s;return console.log("âœ… Flutterwave subscription saved to database:",o),{success:!0,data:o}}catch(e){throw console.error("ðŸ’¥ Database subscription save error:",e),e}}async savePaymentToDatabase(e,t){try{const r=await Z.N.from("subscription_payments").insert({user_id:e,flutterwave_transaction_id:t.id,flutterwave_reference:t.tx_ref,amount:t.amount,currency:t.currency,status:"successful"===t.status?"success":t.status,paid_at:t.created_at||t.paid_at}),n=r.data,a=r.error;if(a)throw a;return{success:!0,data:n}}catch(e){throw console.error("Database payment save error:",e),e}}};var nr=rr,ar=r(9418);function or(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function sr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?or(Object(r),!0).forEach(function(t){lr(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):or(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function lr(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ir(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,s,l=[],i=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;i=!1}else for(;!(i=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{if(!i&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return cr(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?cr(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var mr=function(){const e=(0,l.A)().user,t=(0,i.c)(),r=t.isExpanded,a=t.isMobile,o=ir((0,n.useState)(!1),2),s=o[0],c=o[1],m=ir((0,n.useState)(null),2),d=m[0],g=m[1],p=ir((0,n.useState)(null),2),f=p[0],b=p[1],h=ir((0,n.useState)(null),2),x=h[0],y=h[1],v=ir((0,n.useState)([]),2),E=v[0],w=v[1],N=ir((0,n.useState)(!1),2),k=N[0],S=N[1],_=ir((0,n.useState)(!1),2),C=_[0],A=_[1],P=ir((0,n.useState)(""),2),j=P[0],O=P[1],T=ir((0,n.useState)(""),2),I=T[0],L=T[1],D=function(){return a?"ml-16":r?"ml-64":"ml-16"},R=(0,n.useCallback)(async function(){if(e)try{c(!0),console.log("ðŸ” Debug: User object:",e),console.log("ðŸ” Debug: User ID:",e.id);const t=await Z.N.auth.getUser(),r=t.data.user,n=t.error;if(console.log("ðŸ” Debug: Auth context:",{user:r,error:n}),n||!r)return console.log("âš ï¸ Auth not ready, waiting..."),void setTimeout(function(){return R()},1e3);console.log("ðŸ” Debug: Query parameters:",{user_id:e.id,status:"active",order:"created_at.desc",limit:1}),console.log("ðŸ” Debug: Supabase client state:",{hasAuth:!!Z.N.auth,session:await Z.N.auth.getSession()});const a=await Z.N.from("user_subscriptions").select("*").eq("user_id",e.id).eq("status","active").order("created_at",{ascending:!1}).limit(1),o=a.data,s=a.error;if(console.log("ðŸ” Debug: Supabase response:",{data:o,error:s}),o&&o.length>0&&!s){const e=o[0],t=new Date;let r,n,a=new Date(e.created_at);a>t&&(console.log("âš ï¸ Created date is in future, using current date as start"),a=t),r=new Date(a.getTime()+2592e6),n=new Date(r.getTime()),e.next_payment_date&&(n=new Date(e.next_payment_date)),console.log("ðŸ” Date Debug:",{created_at:e.created_at,startDate:a.toISOString(),endDate:r.toISOString(),nextBillingDate:n.toISOString(),currentDate:t.toISOString(),next_payment_date:e.next_payment_date,calculated_next_billing:n.toISOString()});const s={id:e.id,status:e.status,plan_name:e.plan_name,amount:25e4===e.amount?2500:e.amount,currency:e.currency||"NGN",billing_cycle:"monthly",start_date:e.created_at,end_date:r.toISOString(),next_billing_date:n.toISOString(),flutterwave_subscription_id:e.flutterwave_subscription_id,flutterwave_customer_code:e.flutterwave_customer_code,created_at:e.created_at,updated_at:e.updated_at,cancel_at_period_end:e.cancel_at_period_end||!1};return y(s),void(localStorage.getItem("subscription")||localStorage.setItem("subscription",JSON.stringify(s)))}return console.log("âŒ No subscription found in database - clearing subscription state"),y(null),localStorage.removeItem("subscription"),localStorage.removeItem("flutterwave_subscription_id"),void localStorage.removeItem("flutterwave_customer_code")}catch(e){console.error("Error fetching subscription:",e),y(null),localStorage.removeItem("subscription")}finally{c(!1)}},[e]);(0,n.useEffect)(function(){if(e){const e=setTimeout(function(){R()},1e3);return function(){return clearTimeout(e)}}},[e,R]),(0,n.useEffect)(function(){e&&R();const t=function(){!document.hidden&&e&&R()};return document.addEventListener("visibilitychange",t),function(){document.removeEventListener("visibilitychange",t)}},[e,R]),(0,n.useEffect)(function(){!async function(){if(null!=e&&e.id){c(!0),g(null);try{if(x){const e={id:"sub-".concat(x.id),type:"subscription",amount:x.amount,currency:x.currency||"NGN",status:B(x.status),description:"".concat(x.plan_name," - Monthly billing"),date:x.start_date,invoice_url:"#subscription-".concat(x.id),subscription_id:x.id,flutterwave_subscription_id:x.flutterwave_subscription_id,billing_cycle:"monthly",start_date:x.start_date,end_date:x.next_billing_date||x.end_date,flutterwave_reference:x.flutterwave_subscription_id};w([e])}else w([])}catch(e){console.error("âŒ Error creating billing history from subscription:",e),w([])}finally{c(!1)}}}()},[null==e?void 0:e.id,x]);const M=function(e,t){return"NGN"===t?"â‚¦".concat(e.toLocaleString()):new Intl.NumberFormat("en-NG",{style:"currency",currency:t,minimumFractionDigits:0,maximumFractionDigits:0}).format(e)},B=function(e){switch(e){case"active":case"canceled":case"expired":default:return"paid";case"trialing":return"pending"}},F=function(e){return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})},z=new Map,U=function(e){const t=Date.now();return!(t-(z.get(e)||0)<3e3||(z.set(e,t),0))},q=function(t){const r=document.createElement("canvas"),n=r.getContext("2d");if(!n)return;r.width=800,r.height=1e3;const a=n.createLinearGradient(0,0,0,r.height);a.addColorStop(0,"#f8fafc"),a.addColorStop(1,"#e2e8f0"),n.fillStyle=a,n.fillRect(0,0,r.width,r.height),n.fillStyle="#1e40af",n.fillRect(0,0,r.width,120),n.fillStyle="#fbbf24",n.beginPath(),n.arc(60,60,25,0,2*Math.PI),n.fill(),n.fillStyle="white",n.font="bold 28px Arial, sans-serif",n.textAlign="left",n.fillText("The King Ezekiel Academy",100,50),n.font="16px Arial, sans-serif",n.fillStyle="#bfdbfe",n.fillText("Empowering Students Worldwide",100,75),n.font="14px Arial, sans-serif",n.fillText("Lagos, Nigeria â€¢ Always Open",100,95),n.fillStyle="#1e293b",n.font="bold 36px Arial, sans-serif",n.textAlign="center",n.fillText("INVOICE",r.width/2,180),n.fillStyle="white",n.shadowColor="rgba(0, 0, 0, 0.1)",n.shadowBlur=10,n.shadowOffsetX=0,n.shadowOffsetY=2,n.fillRect(50,200,r.width-100,200),n.shadowBlur=0,n.fillStyle="#475569",n.font="bold 18px Arial, sans-serif",n.textAlign="left",n.fillText("Invoice Details",80,230),n.font="16px Arial, sans-serif",n.fillStyle="#64748b",n.fillText("Invoice #: ".concat(t.id),80,260),n.fillText("Date: ".concat(F(t.date)),80,285),n.fillText("Status: ".concat(t.status.toUpperCase()),80,310),n.fillStyle="#1e40af",n.fillRect(450,230,250,80),n.fillStyle="white",n.font="bold 24px Arial, sans-serif",n.textAlign="center",n.fillText("Total Amount",575,260),n.font="bold 32px Arial, sans-serif",n.fillText(M(t.amount,t.currency),575,295),n.fillStyle="#475569",n.font="bold 18px Arial, sans-serif",n.textAlign="left",n.fillText("Service Details",80,430),n.fillStyle="white",n.fillRect(80,450,r.width-160,120),n.fillStyle="#64748b",n.font="16px Arial, sans-serif",n.fillText("Description: ".concat(t.description),100,480),n.fillText("Service: Premium Monthly Subscription",100,505),n.fillText("Billing Cycle: Monthly",100,530),n.fillText("Customer: ".concat((null==e?void 0:e.name)||(null==e?void 0:e.email)||"Student"),100,555),n.fillStyle="#1e40af",n.fillRect(0,r.height-120,r.width,120),n.fillStyle="white",n.font="bold 20px Arial, sans-serif",n.textAlign="center",n.fillText("Thank you for choosing The King Ezekiel Academy!",r.width/2,r.height-80),n.font="16px Arial, sans-serif",n.fillStyle="#bfdbfe",n.fillText("Your education journey starts here",r.width/2,r.height-55),n.font="14px Arial, sans-serif",n.fillText("info@thekingezekielacademy.com â€¢ Always Open",r.width/2,r.height-25),r.toBlob(function(e){if(e){const r=URL.createObjectURL(e),n=document.createElement("a");n.href=r,n.download="invoice-".concat(t.id,"-").concat(new Date(t.date).toISOString().split("T")[0],".jpg"),n.style.visibility="hidden",document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(r)}},"image/jpeg",.95)};return s?n.createElement("div",{className:"min-h-screen bg-gray-50"},n.createElement(te.A,null),n.createElement("div",{className:"".concat(D()," transition-all duration-300 ease-in-out flex items-center justify-center min-h-screen pt-16")},n.createElement("div",{className:"text-center"},n.createElement("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),n.createElement("p",{className:"text-gray-600"},"Loading subscription data...")))):n.createElement("div",{className:"min-h-screen bg-gray-50"},n.createElement(te.A,null),n.createElement("div",{className:"".concat(D()," transition-all duration-300 ease-in-out")},n.createElement("div",{className:"pt-16"},n.createElement("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},n.createElement("div",{className:"mb-8"},n.createElement("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-2"},"Subscription Management"),n.createElement("p",{className:"text-gray-600"},"Manage your subscription, view billing history, and update payment methods")),d&&n.createElement("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4"},n.createElement("div",{className:"flex items-center"},n.createElement(u._Hm,{className:"text-red-400 mr-2"}),n.createElement("span",{className:"text-red-800"},d))),f&&n.createElement("div",{className:"mb-6 bg-green-50 border border-green-200 rounded-lg p-4"},n.createElement("div",{className:"flex items-center"},n.createElement(u.A7C,{className:"text-green-400 mr-2"}),n.createElement("span",{className:"text-green-800"},f))),n.createElement("div",{className:"bg-white rounded-xl shadow-sm border p-6 mb-8"},n.createElement("div",{className:"flex items-center justify-between mb-6"},n.createElement("h2",{className:"text-xl font-semibold text-gray-900"},"Current Subscription"),n.createElement("div",{className:"flex items-center space-x-2"},n.createElement(u.Hu1,{className:"text-yellow-500"}),n.createElement("span",{className:"text-sm text-gray-600"},"Premium Access"))),x?n.createElement(n.Fragment,null,"active"===x.status&&x.cancel_at_period_end&&n.createElement("div",{className:"mb-6 bg-yellow-50 border border-yellow-200 rounded-lg p-4"},n.createElement("div",{className:"flex items-center"},n.createElement(u._Hm,{className:"text-yellow-500 mr-2"}),n.createElement("div",null,n.createElement("p",{className:"text-yellow-800 font-medium"},"Subscription Canceled"),n.createElement("p",{className:"text-yellow-700 text-sm"},"Your subscription has been canceled but remains active until ",F(x.end_date),". You will lose access to premium features after this date.")))),n.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},n.createElement("div",{className:"space-y-4"},n.createElement("div",{className:"flex items-center justify-between"},n.createElement("span",{className:"text-sm font-medium text-gray-500"},"Status"),n.createElement("div",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium border ".concat(function(e){switch(e){case"active":return"bg-green-100 text-green-800 border-green-200";case"trialing":return"bg-blue-100 text-blue-800 border-blue-200";case"canceled":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}}(x.status))},function(e){switch(e){case"active":return n.createElement(u.A7C,{className:"w-4 h-4"});case"trialing":default:return n.createElement(u.w_X,{className:"w-4 h-4"});case"canceled":case"expired":return n.createElement(u._Hm,{className:"w-4 h-4"})}}(x.status),n.createElement("span",{className:"ml-2 capitalize"},x.status))),n.createElement("div",{className:"flex items-center justify-between"},n.createElement("span",{className:"text-sm font-medium text-gray-500"},"Access"),n.createElement("div",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium border ".concat((W=x.status,V=x.cancel_at_period_end,x.end_date,"active"===W?V?"bg-yellow-100 text-yellow-800 border-yellow-200":"bg-green-100 text-green-800 border-green-200":"trialing"===W?"bg-blue-100 text-blue-800 border-blue-200":"canceled"===W?"bg-red-100 text-red-800 border-red-200":"bg-gray-100 text-gray-800 border-gray-200"))},function(e,t){return"active"===e?t?n.createElement(u.w_X,{className:"w-4 h-4"}):n.createElement(u.A7C,{className:"w-4 h-4"}):"trialing"===e?n.createElement(u.w_X,{className:"w-4 h-4"}):n.createElement(u._Hm,{className:"w-4 h-4"})}(x.status,x.cancel_at_period_end,x.end_date),n.createElement("span",{className:"ml-2 capitalize"},function(e,t){return"active"===e?t?"Grace Period":"Active":"trialing"===e?"Trial":"canceled"===e?"Canceled":"expired"===e?"Expired":"Unknown"}(x.status,x.cancel_at_period_end,x.end_date)))),n.createElement("div",{className:"flex items-center justify-between"},n.createElement("span",{className:"text-sm font-medium text-gray-500"},"Plan"),n.createElement("span",{className:"text-sm text-gray-900"},x.plan_name)),n.createElement("div",{className:"flex items-center justify-between"},n.createElement("span",{className:"text-sm font-medium text-gray-500"},"Amount"),n.createElement("span",{className:"text-sm font-semibold text-gray-900"},M(x.amount,x.currency),"/month")),n.createElement("div",{className:"flex items-center justify-between"},n.createElement("span",{className:"text-sm font-medium text-gray-500"},"Billing Cycle"),n.createElement("span",{className:"text-sm text-gray-900 capitalize"},x.billing_cycle))),n.createElement("div",{className:"space-y-4"},n.createElement("div",{className:"flex items-center justify-between"},n.createElement("span",{className:"text-sm font-medium text-gray-500"},"Start Date"),n.createElement("span",{className:"text-sm text-gray-900"},F(x.start_date))),n.createElement("div",{className:"flex items-center justify-between"},n.createElement("span",{className:"text-sm font-medium text-gray-500"},"Next Billing"),n.createElement("span",{className:"text-sm text-gray-900"},x.next_billing_date?F(x.next_billing_date):"N/A")),n.createElement("div",{className:"flex items-center justify-between"},n.createElement("span",{className:"text-sm font-medium text-gray-500"},"Auto-Renew"),n.createElement("span",{className:"text-sm ".concat(x.cancel_at_period_end?"text-red-600":"text-green-600")},x.cancel_at_period_end?"No":"Yes")),n.createElement("div",{className:"flex items-center justify-between"},n.createElement("span",{className:"text-sm font-medium text-gray-500"},"Last Updated"),n.createElement("span",{className:"text-sm text-gray-900"},F(x.updated_at)))))):n.createElement("div",{className:"text-center py-8"},n.createElement(u.x1c,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),n.createElement("h3",{className:"text-lg font-medium text-gray-900 mb-2"},"No Active Subscription"),n.createElement("p",{className:"text-gray-600 mb-4"},"You don't have an active subscription. Subscribe to access all courses and features."),n.createElement("button",{onClick:function(){return A(!0)},className:"bg-blue-600 text-white px-6 py-2 rounded-lg font-medium hover:bg-blue-700 transition-colors"},"Subscribe Now"))),n.createElement("div",{className:"bg-white rounded-xl shadow-sm border p-6"},n.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6 space-y-3 sm:space-y-0"},n.createElement("h2",{className:"text-xl font-semibold text-gray-900"},"Billing History"),n.createElement("button",{onClick:async function(){if(null!=e&&e.id&&U(e.id))if(0!==E.length)try{console.log("ðŸ“Š Exporting billing history...");const t=await fetch("".concat(Ae.API_BASE,"/flutterwave/billing-history/").concat(e.id,"?format=csv"));if(!t.ok)throw new Error("Failed to export billing history");{const e=await t.text(),r=new Blob([e],{type:"text/csv;charset=utf-8;"}),n=document.createElement("a"),a=URL.createObjectURL(r);n.setAttribute("href",a),n.setAttribute("download","billing-history-".concat((new Date).toISOString().split("T")[0],".csv")),n.style.visibility="hidden",document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(a),console.log("âœ… Billing history exported successfully")}}catch(e){console.error("âŒ Export error:",e),console.log("ðŸ”„ Using fallback CSV generation...");const t=[["Date","Description","Amount","Status","Type","Reference"],...E.map(function(e){return sr(sr({},e),{},{description:(t=e.description,ar.A.sanitize(t.trim()))});var t}).map(function(e){return[F(e.date),e.description,M(e.amount,e.currency),e.status,e.type||"subscription",e.flutterwave_reference||"N/A"]})].map(function(e){return e.join(",")}).join("\n"),r=new Blob([t],{type:"text/csv;charset=utf-8;"}),n=document.createElement("a"),a=URL.createObjectURL(r);n.setAttribute("href",a),n.setAttribute("download","billing-history-fallback-".concat((new Date).toISOString().split("T")[0],".csv")),n.style.visibility="hidden",document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(a)}else alert("No billing history to export");else alert("Please wait a few seconds before exporting again")},className:"text-blue-600 hover:text-blue-700 text-sm font-medium flex items-center justify-center sm:justify-start w-full sm:w-auto px-4 py-2 border border-blue-200 rounded-lg hover:bg-blue-50 transition-colors"},n.createElement(u.WCW,{className:"w-4 h-4 mr-2"}),"Export All")),E.length>0?n.createElement("div",{className:"space-y-4"},E.map(function(t){return n.createElement("div",{key:t.id,className:"flex flex-col sm:flex-row sm:items-center sm:justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors space-y-3 sm:space-y-0"},n.createElement("div",{className:"flex items-center space-x-4"},n.createElement("div",{className:"w-3 h-3 rounded-full ".concat("paid"===t.status?"bg-green-500":"pending"===t.status?"bg-yellow-500":"bg-red-500")}),n.createElement("div",null,n.createElement("p",{className:"font-medium text-gray-900 text-sm sm:text-base"},t.description),n.createElement("p",{className:"text-xs sm:text-sm text-gray-500"},F(t.date)))),n.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-2 sm:space-y-0 sm:space-x-4"},n.createElement("span",{className:"font-semibold text-gray-900 text-sm sm:text-base"},M(t.amount,t.currency)),n.createElement("div",{className:"flex items-center space-x-2"},n.createElement("span",{className:"text-xs px-2 py-1 rounded-full capitalize ".concat("paid"===t.status?"bg-green-100 text-green-800":"pending"===t.status?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800")},t.status),t.invoice_url&&n.createElement("button",{onClick:function(){return function(t){null!=e&&e.id&&U(e.id)?function(e){if(!e||"#"===e)return!1;try{const t=new URL(e);return"https:"===t.protocol||"http:"===t.protocol}catch(e){return!1}}(t.invoice_url)?window.open(t.invoice_url,"_blank","noopener,noreferrer"):q(t):alert("Please wait a few seconds before downloading another invoice")}(t)},className:"text-blue-600 hover:text-blue-700 text-xs sm:text-sm font-medium px-3 py-1 border border-blue-200 rounded hover:bg-blue-50 transition-colors"},"Download"))))})):n.createElement("div",{className:"text-center py-8"},n.createElement(u.bfZ,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),n.createElement("h3",{className:"text-lg font-medium text-gray-900 mb-2"},"No Billing History"),n.createElement("p",{className:"text-gray-600"},"Your billing history will appear here once you have transactions."))),n.createElement("div",{className:"bg-white rounded-xl shadow-sm border p-6 mt-8"},n.createElement("div",{className:"flex items-center justify-between mb-6"},n.createElement("h2",{className:"text-xl font-semibold text-gray-900"},"Quick Actions"),n.createElement("div",{className:"flex space-x-3"},x&&"active"===x.status&&!x.cancel_at_period_end&&n.createElement("button",{onClick:function(){S(!0)},className:"text-red-600 hover:text-red-700 text-sm font-medium px-4 py-2 border border-red-200 rounded-lg hover:bg-red-50 transition-colors"},"Cancel Subscription"),x&&"canceled"===x.status&&n.createElement("button",{onClick:function(){return A(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-blue-700 transition-colors"},"Subscribe Again"),!1)),n.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"},n.createElement("button",{onClick:function(){alert("Payment method update feature coming soon!")},className:"flex items-center justify-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors text-left cursor-pointer"},n.createElement(u.x1c,{className:"w-6 h-6 text-blue-500 mr-3"}),n.createElement("div",null,n.createElement("p",{className:"font-medium text-gray-900"},"Update Payment Method"),n.createElement("p",{className:"text-sm text-gray-500"},"Change your card or bank details"))),n.createElement("button",{onClick:function(){alert("Billing cycle change feature coming soon!")},className:"flex items-center justify-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors text-left cursor-pointer"},n.createElement(u.bfZ,{className:"w-6 h-6 text-green-500 mr-3"}),n.createElement("div",null,n.createElement("p",{className:"font-medium text-gray-900"},"Change Billing Cycle"),n.createElement("p",{className:"text-sm text-gray-500"},"Switch between monthly and yearly"))),n.createElement("button",{onClick:function(){alert("Invoice download feature coming soon!")},className:"flex items-center justify-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors text-left cursor-pointer"},n.createElement(u.WCW,{className:"w-6 h-6 text-purple-500 mr-3"}),n.createElement("div",null,n.createElement("p",{className:"font-medium text-gray-900"},"Download Invoices"),n.createElement("p",{className:"text-sm text-gray-500"},"Get your billing documents")))))))),k&&n.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"},n.createElement("div",{className:"bg-white rounded-xl max-w-md w-full p-6"},n.createElement("div",{className:"text-center mb-6"},n.createElement(u._Hm,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),n.createElement("h3",{className:"text-xl font-semibold text-gray-900 mb-2"},"Cancel Subscription"),n.createElement("p",{className:"text-gray-600"},"We're sorry to see you go. Please let us know why you're canceling and how we can improve.")),n.createElement("div",{className:"space-y-4 mb-6"},n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Reason for cancellation *"),n.createElement("select",{value:j,onChange:function(e){return O(e.target.value)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0},n.createElement("option",{value:""},"Select a reason"),n.createElement("option",{value:"too_expensive"},"Too expensive"),n.createElement("option",{value:"not_using"},"Not using it enough"),n.createElement("option",{value:"missing_features"},"Missing features"),n.createElement("option",{value:"technical_issues"},"Technical issues"),n.createElement("option",{value:"customer_service"},"Poor customer service"),n.createElement("option",{value:"switching_platforms"},"Switching to another platform"),n.createElement("option",{value:"other"},"Other"))),n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Additional feedback (optional)"),n.createElement("textarea",{value:I,onChange:function(e){return L(e.target.value)},rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Tell us how we can improve..."}))),n.createElement("div",{className:"flex space-x-3"},n.createElement("button",{onClick:function(){S(!1),O(""),L("")},className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors"},"Keep Subscription"),n.createElement("button",{onClick:async function(){if(null!=x&&x.flutterwave_subscription_id)try{c(!0),g(null),b(null),console.log("ðŸ”’ Canceling Flutterwave subscription:",x.flutterwave_subscription_id);const e=await nr.cancelSubscription(x.flutterwave_subscription_id);if(!e.success)throw new Error(e.message);{y(function(e){return e?sr(sr({},e),{},{status:"canceled"}):null}),b(e.message);const t=(await Z.N.from("user_subscriptions").update({status:"canceled"}).eq("id",x.id)).error;t&&console.error("Database update error:",t),t?console.warn("âš ï¸ Subscription cancelled but database update failed"):console.log("âœ… Subscription cancelled successfully and database updated")}}catch(e){console.error("Error canceling subscription:",e),g(e instanceof Error?e.message:"Failed to cancel subscription. Please try again.")}finally{c(!1)}else g("No subscription ID found")},disabled:!j.trim(),className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},s?n.createElement("div",{className:"flex items-center justify-center"},n.createElement("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Canceling..."):"Cancel Subscription")))),n.createElement(Vt,{isOpen:C,onClose:function(){return A(!1)},onSuccess:function(e){A(!1),b("Payment initiated successfully! Please complete the payment in the new window."),R()},user:e,planName:"Monthly Membership",amount:2500}));var W,V};function dr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,s,l=[],i=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;i=!1}else for(;!(i=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{if(!i&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ur(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ur(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ur(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var gr=function(){const e=(0,o.Zp)(),t=dr((0,o.ok)(),1)[0],r=(0,l.A)().user,a=dr((0,n.useState)("loading"),2),s=a[0],i=a[1],c=dr((0,n.useState)("Loading..."),2),m=c[0],d=c[1],u=dr((0,n.useState)(null),2),g=u[0],p=u[1],f=dr((0,n.useState)(0),2),b=f[0],h=f[1];return(0,n.useEffect)(function(){r?(i("verifying"),d("Verifying your payment..."),async function(){try{if(null!=r&&r.id){const t=(await Z.N.from("user_subscriptions").select("*").eq("user_id",r.id).eq("status","active").order("created_at",{ascending:!1}).limit(1)).data;if(t&&t.length>0)return console.log("âœ… User already has active subscription:",t[0]),i("success"),d("Payment successful! Your subscription is already active."),localStorage.setItem("subscription_active","true"),localStorage.setItem("payment_successful","true"),void setTimeout(function(){e("/subscription")},2e3)}const n=t.get("tx_ref"),a=t.get("status"),o=t.get("transaction_id");if(console.log("ðŸ” Payment Verification Debug:",{tx_ref:n,status:a,transaction_id:o,user:null==r?void 0:r.id,url:window.location.href,allParams:Object.fromEntries(t.entries())}),!n)throw new Error("Payment reference not found");if(a&&("cancelled"===a||"failed"===a))return console.log("âŒ Status parameter indicates payment was cancelled or failed"),i("error"),p("Payment was cancelled or failed"),void d("Your payment was not completed. Please try again.");a&&"successful"!==a&&console.log("âš ï¸ Status parameter indicates failure, but will verify with Flutterwave API"),d("Verifying payment with Flutterwave...");const s=await rr.verifyPayment(n,o||void 0);if(!s.success)throw console.log("âŒ Flutterwave verification failed:",s),new Error("Payment verification failed. The payment may have been cancelled or failed.");if(s.transaction&&"successful"!==s.transaction.status)throw console.log("âŒ Transaction status is not successful:",s.transaction.status),new Error("Payment was not successful. Status: ".concat(s.transaction.status));const l=s.transaction;console.log("ðŸ” Transaction data for subscription creation:",{transaction_id:l.id,customer_email:l.customer.email,customer_code:l.customer.customer_code,customer_data:l.customer}),d("Saving payment to database..."),await rr.savePaymentToDatabase((null==r?void 0:r.id)||"",l),d("Creating your subscription...");let c=null;try{const e=l.customer.customer_code||l.customer.email;c=await rr.createSubscription(l.customer.email,e),c.success&&(d("Saving subscription to database..."),await rr.saveSubscriptionToDatabase((null==r?void 0:r.id)||"",c.subscription))}catch(e){console.warn("âš ï¸ Subscription creation failed, but payment was successful:",e);try{d("Creating local subscription...");const e={subscription_code:"LOCAL_".concat(l.id),customer_code:l.customer.customer_code||l.customer.email,plan_name:"Monthly Membership",amount:l.amount,currency:l.currency,status:"active",created_at:(new Date).toISOString(),next_payment_date:new Date(Date.now()+2592e6).toISOString()};await rr.saveSubscriptionToDatabase((null==r?void 0:r.id)||"",e),console.log("âœ… Local subscription created successfully")}catch(e){console.error("âŒ Local subscription creation also failed:",e)}}null!=r&&r.id&&(localStorage.setItem("subscription_active","true"),localStorage.setItem("payment_successful","true"),localStorage.setItem("transaction_id",l.id),localStorage.setItem("transaction_ref",l.tx_ref),c&&c.success&&(localStorage.setItem("subscription_id",c.subscription.subscription_code||c.subscription.id),localStorage.setItem("flutterwave_subscription_id",c.subscription.subscription_code||c.subscription.id),localStorage.setItem("flutterwave_customer_code",l.customer.customer_code||l.customer.email))),i("success"),d("Payment successful! Your subscription is now active."),setTimeout(function(){e("/subscription")},3e3)}catch(t){console.error("Payment verification error:",t);try{const t=(await Z.N.from("user_subscriptions").select("*").eq("user_id",null==r?void 0:r.id).eq("status","active").order("created_at",{ascending:!1}).limit(1)).data;if(t&&t.length>0)return console.log("âœ… Found existing active subscription despite error:",t[0]),i("success"),d("Payment successful! Your subscription is now active."),localStorage.setItem("subscription_active","true"),localStorage.setItem("payment_successful","true"),void setTimeout(function(){e("/subscription")},3e3)}catch(e){console.error("Error checking for existing subscription:",e)}i("error"),p(t instanceof Error?t.message:"Payment verification failed"),d("There was an issue with your payment. Please try again or contact support.")}}()):setTimeout(function(){r||(i("error"),p("Please sign in to verify your payment"),d("Authentication required"))},2e3)},[t,r,e]),n.createElement("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4"},n.createElement("div",{className:"max-w-md w-full bg-white rounded-xl shadow-xl p-8 text-center"},n.createElement("div",{className:"flex justify-center mb-6"},function(){switch(s){case"loading":return n.createElement("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-400"});case"verifying":return n.createElement("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"});case"success":return n.createElement("div",{className:"bg-green-100 rounded-full p-3"},n.createElement("svg",{className:"w-12 h-12 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})));case"error":return n.createElement("div",{className:"bg-red-100 rounded-full p-3"},n.createElement("svg",{className:"w-12 h-12 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})))}}()),n.createElement("h1",{className:"text-2xl font-bold mb-4 ".concat(function(){switch(s){case"loading":return"text-gray-600";case"verifying":return"text-blue-600";case"success":return"text-green-600";case"error":return"text-red-600"}}())},"loading"===s&&"Loading...","verifying"===s&&"Verifying Payment","success"===s&&"Payment Successful!","error"===s&&"Payment Failed"),n.createElement("p",{className:"text-gray-600 mb-6"},m),g&&n.createElement("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6"},n.createElement("p",{className:"text-red-700 text-sm"},g)),"success"===s&&n.createElement("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6"},n.createElement("p",{className:"text-green-700 text-sm"},"ðŸŽ‰ Welcome to King Ezekiel Academy! You now have full access to all courses.")),"error"===s&&n.createElement("div",{className:"space-y-3"},n.createElement("button",{onClick:function(){h(function(e){return e+1}),i("verifying"),d("Re-verifying your payment..."),p(null),setTimeout(function(){const e=t.get("tx_ref");e&&(window.location.href="/payment-verification?tx_ref=".concat(e,"&retry=").concat(b+1))},1e3)},className:"w-full px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors"},"Check Again"),n.createElement("button",{onClick:function(){return e("/subscription")},className:"w-full px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors"},"Go to Subscription"),n.createElement("button",{onClick:function(){return e("/dashboard")},className:"w-full px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors"},"Go to Dashboard")),"verifying"===s&&n.createElement("div",{className:"text-sm text-gray-500"},"Please wait while we process your payment...")))},pr=function(){return n.createElement("div",{className:"min-h-screen bg-gray-50"},n.createElement(te.A,null),n.createElement("div",{className:"ml-16 md:ml-64 transition-all duration-300 ease-in-out"},n.createElement("div",{className:"p-6"},n.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-6"},"Dashboard with Sidebar Demo"),n.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8"},n.createElement("div",{className:"lg:col-span-2 space-y-6"},n.createElement("div",{className:"bg-white rounded-xl shadow-sm border p-6"},n.createElement("h2",{className:"text-xl font-bold text-gray-900 mb-4"},"Welcome to Your Dashboard"),n.createElement("p",{className:"text-gray-600 mb-4"},"This is how your dashboard will look with the new sidebar navigation. The sidebar provides:"),n.createElement("ul",{className:"list-disc list-inside space-y-2 text-gray-600"},n.createElement("li",null,"Easy navigation between different sections"),n.createElement("li",null,"Collapsible design to save space"),n.createElement("li",null,"Mobile-responsive overlay navigation"),n.createElement("li",null,"Professional WordPress-style appearance"))),n.createElement("div",{className:"bg-white rounded-xl shadow-sm border p-6"},n.createElement("h2",{className:"text-xl font-bold text-gray-900 mb-4"},"Sidebar Features"),n.createElement("div",{className:"space-y-4"},n.createElement("div",{className:"flex items-center space-x-3"},n.createElement("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),n.createElement("span",{className:"text-gray-700"},"Dashboard - Main overview")),n.createElement("div",{className:"flex items-center space-x-3"},n.createElement("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),n.createElement("span",{className:"text-gray-700"},"Courses - Browse and manage")),n.createElement("div",{className:"flex items-center space-x-3"},n.createElement("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),n.createElement("span",{className:"text-gray-700"},"Achievements - XP and streaks")),n.createElement("div",{className:"flex items-center space-x-3"},n.createElement("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),n.createElement("span",{className:"text-gray-700"},"Profile - User settings")),n.createElement("div",{className:"flex items-center space-x-3"},n.createElement("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),n.createElement("span",{className:"text-gray-700"},"Levels, Certificates, Resume (Coming Soon)"))))),n.createElement("div",{className:"space-y-6"},n.createElement("div",{className:"bg-white rounded-xl shadow-sm border p-6"},n.createElement("h3",{className:"text-lg font-bold text-gray-900 mb-3"},"Sidebar Navigation"),n.createElement("p",{className:"text-sm text-gray-600 mb-4"},"The sidebar is now visible on the left side of your screen. You can:"),n.createElement("ul",{className:"text-sm text-gray-600 space-y-2"},n.createElement("li",null,"â€¢ Click the toggle button to collapse/expand"),n.createElement("li",null,"â€¢ Navigate between different sections"),n.createElement("li",null,"â€¢ See which page is currently active"),n.createElement("li",null,"â€¢ Access logout functionality"))),n.createElement("div",{className:"bg-white rounded-xl shadow-sm border p-6"},n.createElement("h3",{className:"text-lg font-bold text-gray-900 mb-3"},"Coming Soon Features"),n.createElement("p",{className:"text-sm text-gray-600 mb-3"},'These features are marked with "Soon" badges:'),n.createElement("div",{className:"space-y-2"},n.createElement("div",{className:"flex items-center space-x-2"},n.createElement("span",{className:"px-2 py-1 text-xs font-medium bg-blue-100 text-orange-600 border border-orange-300 rounded-full"},"Soon"),n.createElement("span",{className:"text-sm text-gray-600"},"Levels System")),n.createElement("div",{className:"flex items-center space-x-2"},n.createElement("span",{className:"px-2 py-1 text-xs font-medium bg-blue-100 text-orange-600 border border-orange-300 rounded-full"},"Soon"),n.createElement("span",{className:"text-sm text-gray-600"},"Certificates")),n.createElement("div",{className:"flex items-center space-x-2"},n.createElement("span",{className:"px-2 py-1 text-xs font-medium bg-blue-100 text-orange-600 border border-orange-300 rounded-full"},"Soon"),n.createElement("span",{className:"text-sm text-gray-600"},"Resume Builder")))))))))},fr=r(8509),br=r(2720);function hr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,s,l=[],i=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;i=!1}else for(;!(i=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{if(!i&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return xr(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?xr(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var yr=function(e){let t=e.children;const r=hr((0,n.useState)(!1),2),a=r[0],o=r[1],s=hr((0,n.useState)(!1),2),l=s[0],i=s[1],c=hr((0,n.useState)(!1),2),m=c[0],d=c[1];(0,n.useEffect)(function(){const e=function(){if("undefined"==typeof window)return!1;const e=window.navigator.userAgent.toLowerCase();return e.includes("fban")||e.includes("fbav")||e.includes("instagram")}();o(e),e&&i(!0)},[]);const u=function(){i(!1)};return a&&l?n.createElement("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50"},n.createElement("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full mx-4 p-8 text-center"},n.createElement("button",{onClick:u,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition-colors","aria-label":"Close"},n.createElement("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}))),n.createElement("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6"},n.createElement("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"}))),n.createElement("h2",{className:"text-2xl font-bold text-gray-900 mb-4"},"Open in your browser for the best experience"),n.createElement("p",{className:"text-gray-600 mb-8 leading-relaxed"},"Instagram's browser cannot play videos properly. For the full lesson experience with video playback, progress tracking, and interactive features, please open this link in your main browser."),n.createElement("div",{className:"space-y-4"},n.createElement("button",{onClick:function(){const e=window.location.href,t="googlechrome://".concat(e);try{window.location.href=t}catch(e){console.error("Failed to open in Chrome:",e)}},className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-4 px-6 rounded-xl transition-colors duration-200 flex items-center justify-center space-x-2"},n.createElement("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"currentColor"},n.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})),n.createElement("span",null,"Open in Chrome")),n.createElement("button",{onClick:function(){const e=window.location.href,t="intent://".concat(e,"#Intent;scheme=https;package=com.android.chrome;end");try{window.location.href=t}catch(e){console.error("Failed to open in Chrome Android:",e)}},className:"w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-4 px-6 rounded-xl transition-colors duration-200 flex items-center justify-center space-x-2"},n.createElement("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"currentColor"},n.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})),n.createElement("span",null,"Open in Chrome (Android)")),n.createElement("button",{onClick:async function(){const e=window.location.href;try{if(navigator.clipboard&&window.isSecureContext)await navigator.clipboard.writeText(e);else{const t=document.createElement("textarea");t.value=e,t.style.position="fixed",t.style.left="-999999px",t.style.top="-999999px",document.body.appendChild(t),t.focus(),t.select(),document.execCommand("copy"),document.body.removeChild(t)}d(!0),setTimeout(function(){return d(!1)},3e3)}catch(e){console.error("Failed to copy to clipboard:",e)}},className:"w-full bg-gray-600 hover:bg-gray-700 text-white font-semibold py-4 px-6 rounded-xl transition-colors duration-200 flex items-center justify-center space-x-2"},m?n.createElement(n.Fragment,null,n.createElement("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})),n.createElement("span",null,"Link copied! Now paste it into your browser.")):n.createElement(n.Fragment,null,n.createElement("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})),n.createElement("span",null,"Copy Link")))),n.createElement("div",{className:"mt-6 p-4 bg-red-50 rounded-lg"},n.createElement("p",{className:"text-sm text-red-800"},n.createElement("strong",null,"Video Playback Issue:")," Instagram's browser blocks video players. Open in your browser to watch lessons, track progress, and access all features.")),n.createElement("button",{onClick:u,className:"mt-4 text-gray-500 hover:text-gray-700 text-sm underline"},"Continue in Instagram (videos won't play)"))):t};function vr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,s,l=[],i=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;i=!1}else for(;!(i=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{if(!i&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Er(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Er(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Er(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var wr=function(){var e,t,r,a,s,i,c,m;const d=(0,o.Zp)(),u=(0,o.g)(),g=u.id,p=u.lessonId,f=(0,l.A)().user,b=vr((0,n.useState)(null),2),h=b[0],x=b[1],y=vr((0,n.useState)(null),2),v=y[0],E=y[1],w=vr((0,n.useState)(!0),2),N=w[0],k=w[1],S=vr((0,n.useState)(null),2),_=S[0],C=S[1],A=vr((0,n.useState)(0),2),P=A[0],j=A[1],O=vr((0,n.useState)(new Set),2),I=O[0],L=O[1],D=vr((0,n.useState)({isActive:!1,startDate:"",endDate:"",daysRemaining:0,totalDays:0,isExpired:!0}),2),R=(D[0],D[1]),M=vr((0,n.useState)(!1),2),B=(M[0],M[1]),F=vr((0,n.useState)(!1),2),z=(F[0],F[1]),U=vr((0,n.useState)(0),2),q=U[0],W=U[1],V=vr((0,n.useState)([]),2),Y=V[0],G=V[1],H=vr((0,n.useState)(!1),2),K=H[0],X=H[1],J=async function(){if(g&&p)try{k(!0),C(null);const e=(await Z.N.auth.refreshSession()).error;if(e){console.log("âš ï¸ Session refresh failed, trying to get current session:",e);if(!(await Z.N.auth.getSession()).data.session)return C("Authentication required. Please sign in again."),void k(!1)}if(null!=f&&f.id)try{(await Z.N.from("user_courses").upsert({user_id:f.id,course_id:g,progress:0,completed_lessons:"[]",last_accessed:(new Date).toISOString(),is_active:!0},{onConflict:"user_id,course_id"})).error?console.log("Database enrollment failed, using localStorage fallback"):console.log("âœ… User auto-enrolled in course via database")}catch(e){console.log("Database operation failed, using localStorage fallback")}try{localStorage.setItem("recent_course_id",g),localStorage.setItem("recent_course_progress","0"),localStorage.setItem("recent_course_timestamp",(new Date).toISOString()),console.log("âœ… Course activity stored in localStorage")}catch(e){console.log("Could not store course activity in localStorage")}const t=await Z.N.from("courses").select("\n          *,\n          course_videos (\n            id,\n            name,\n            duration,\n            link,\n            order_index\n          )\n        ").eq("id",g).single(),r=t.data,n=t.error;if(n)throw console.error("âŒ Error fetching course:",n),n;if(r){console.log("âœ… Course data received:",r),x(r);const e=r.course_videos||[],t=e.sort(function(e,t){return e.order_index-t.order_index});let n=e.find(function(e){return e.id===p});if(!n){const e=parseInt(p)-1;n=t[e]}n?(console.log("ðŸŽ¥ Found video:",n),console.log("ðŸ”— Video link from database:",n.link),E(n),j(t.findIndex(function(e){return e.id===n.id}))):t.length>0&&(E(t[0]),j(0))}else C("Course not found")}catch(e){console.error("âŒ Error fetching course:",e),C("Failed to load course: ".concat(e instanceof Error?e.message:"Unknown error"))}finally{k(!1)}};return(0,n.useEffect)(function(){!async function(){if(null!=f&&f.id)try{console.log("ðŸ” Checking access for user:",f.id);const e=await async function(){if(null!=f&&f.id)try{const e=await Z.N.from("user_subscriptions").select("*").eq("user_id",f.id).eq("status","active").order("created_at",{ascending:!1}).limit(1),t=e.data;return!e.error&&t&&t.length>0?(console.log("âœ… Found active subscription in database:",t[0]),z(!0),!0):(console.log("âŒ No active subscription found in database"),z(!1),!1)}catch(e){return console.log("âš ï¸ Database subscription check failed (table may not exist yet):",e),z(!1),!1}}(),t=Q.A.isSubscriptionActive();B(t),console.log("ðŸ“Š Subscription status:",t),console.log("ðŸ“Š Database subscription status:",e);const r=ee.I.ensureTrialStatusIsCurrent();if(console.log("ðŸ“… Trial status check result:",r),r){R(r),console.log("ðŸ“Š Trial status updated:",r);const n=r.isActive||e||t;if(console.log("ðŸ” Has access:",n,"(Trial active:",r.isActive,"| DB Sub:",e,"| Secure Sub:",t,")"),!n)return console.log("ðŸš« ACCESS DENIED - Trial expired and no subscription - redirecting to profile"),void d("/profile",{replace:!0});console.log("âœ… ACCESS GRANTED - Trial active or subscription active")}else{if(console.log("âš ï¸ No trial data found in localStorage"),!e&&!t)return console.log("ðŸš« No trial data and no subscription - redirecting to profile"),void d("/profile",{replace:!0});console.log("âœ… ACCESS GRANTED - Database subscription or secure storage subscription active")}}catch(e){console.error("âŒ Error checking access:",e)}}()},[null==f?void 0:f.id,d]),(0,n.useEffect)(function(){J()},[g,p,null==f?void 0:f.id]),(0,n.useEffect)(function(){null!=f&&f.id&&async function(){if(null!=f&&f.id)try{const e=await Z.N.from("profiles").select("current_streak").eq("id",f.id).limit(1),t=e.data;if(!e.error&&t&&t.length>0)W(t[0].current_streak||0),console.log("âœ… User streak fetched:",t[0].current_streak);else{const e=await Z.N.from("user_lesson_progress").select("completed_at").eq("user_id",f.id).eq("is_completed",!0).order("completed_at",{ascending:!1}),t=e.data;if(!e.error&&t){const e=new Date,r=new Date(e);r.setDate(r.getDate()-1);let n=0,a=new Date(e);for(let e=0;e<30;e++){const e=a.toISOString().split("T")[0];if(!t.some(function(t){var r;return null===(r=t.completed_at)||void 0===r?void 0:r.startsWith(e)}))break;n++,a.setDate(a.getDate()-1)}W(n),console.log("âœ… Calculated streak from lesson data:",n)}else W(0),console.log("âŒ Could not fetch streak data")}}catch(e){console.log("âš ï¸ Error fetching user streak:",e),W(0)}}()},[null==f?void 0:f.id]),(0,n.useEffect)(function(){h&&async function(){if(h){X(!0),console.log("ðŸ” Fetching related courses for course:",h.id),console.log("ðŸ“‹ Full course object:",h),console.log("ðŸ·ï¸ Course category:",h.category);try{const e=await Z.N.from("courses").select("id, title, category").limit(10),t=e.data,r=e.error;console.log("ðŸ“Š All courses in database:",t),console.log("ðŸ“Š All courses error:",r);let n=null,a=null;if(h.category){console.log("ðŸ” Searching for courses with category:",h.category);const e=await Z.N.from("courses").select("id, title, cover_photo_url, category, level, description").eq("category",h.category).neq("id",h.id).limit(3),t=e.data,r=e.error;n=t,a=r,console.log("ðŸ“Š Category-based query result:",{data:null==t?void 0:t.length,error:r,results:t})}else console.log("âš ï¸ Course has no category field");if(!a&&n&&n.length>0)return G(n),console.log("âœ… Related courses fetched by category:",n.length),void X(!1);console.log("ðŸ”„ Trying fallback: random courses");const o=await Z.N.from("courses").select("id, title, cover_photo_url, category, level, description").neq("id",h.id).limit(3),s=o.data,l=o.error;console.log("ðŸ“Š Random courses query result:",{data:null==s?void 0:s.length,error:l,results:s}),!l&&s?(G(s),console.log("âœ… Random courses fetched as fallback:",s.length)):(console.log("âŒ Could not fetch any courses:",l),G([]))}catch(e){console.log("âš ï¸ Error fetching related courses:",e),G([])}finally{X(!1)}}else console.log("âŒ No course data available for related courses")}()},[h]),N?n.createElement(yr,null,n.createElement("div",{className:"min-h-screen bg-gray-50 pt-16"},n.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},n.createElement("div",{className:"text-center py-12"},n.createElement("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"}),n.createElement("p",{className:"mt-2 text-gray-600"},"Loading lesson..."))))):_?n.createElement(yr,null,n.createElement("div",{className:"min-h-screen bg-gray-50 pt-16"},n.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},n.createElement("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center"},n.createElement("p",{className:"text-red-700 font-medium mb-3"},_),n.createElement("div",{className:"flex flex-col sm:flex-row gap-3 justify-center"},n.createElement("button",{onClick:function(){C(null),k(!0),J()},className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors"},"Try Again"),n.createElement("button",{onClick:function(){return d("/courses")},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"},"Back to Courses")))))):h&&v?n.createElement(yr,null,n.createElement("div",{className:"min-h-screen bg-gray-50 pt-16"},n.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4"},n.createElement("button",{onClick:function(){return d("/courses")},className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-xl hover:from-blue-600 hover:to-purple-700 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5"},n.createElement("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})),n.createElement("span",{className:"font-semibold"},"Want to explore more courses? ðŸš€"))),n.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 grid grid-cols-12 gap-6"},n.createElement("aside",{className:"hidden md:block md:col-span-3 bg-white border rounded-xl h-fit p-4"},n.createElement("div",{className:"font-bold mb-3"},"Lessons"),n.createElement("div",{className:"space-y-2"},null===(e=h.course_videos)||void 0===e?void 0:e.sort(function(e,t){return e.order_index-t.order_index}).map(function(e,t){const r=I.has(e.id);return n.createElement("div",{key:e.id,className:"px-3 py-2 rounded border cursor-pointer flex items-center justify-between ".concat(v.id===e.id?"bg-primary-50 border-primary-200 text-primary-700":r?"bg-green-50 border-green-200 text-green-700":"hover:bg-gray-50"),onClick:function(){return d("/course/".concat(g,"/lesson/").concat(e.id))}},n.createElement("span",null,e.name||"Lesson ".concat(t+1)),r&&n.createElement("span",{className:"text-green-600"},"âœ“"))}))),n.createElement("main",{className:"col-span-12 md:col-span-6"},n.createElement("div",{className:"bg-white rounded-xl border overflow-hidden mb-4"},n.createElement("div",{className:"p-4 border-b flex items-center justify-between gap-4"},n.createElement("div",null,n.createElement("div",{className:"font-bold"},v.name),n.createElement("div",{className:"h-1.5 bg-gray-100 rounded mt-2"},n.createElement("div",{className:"h-1.5 bg-primary-500 rounded transition-all",style:{width:"".concat((P+1)/((null===(t=h.course_videos)||void 0===t?void 0:t.length)||1)*100,"%")}})),n.createElement("div",{className:"text-xs text-gray-500 mt-1"},P+1," of ",(null===(r=h.course_videos)||void 0===r?void 0:r.length)||0," lessons",I.size>0&&n.createElement("span",{className:"ml-2 text-green-600"},"â€¢ ",I.size," completed"))),n.createElement("div",{className:"hidden sm:block"},n.createElement(br.A,{size:52,strokeWidth:6,progress:Math.round((P+1)/((null===(a=h.course_videos)||void 0===a?void 0:a.length)||1)*100)}))),n.createElement("div",{className:"w-full overflow-hidden",style:{minHeight:"280px",height:"55vh",maxHeight:"580px",margin:0,padding:0,marginBottom:0}},($=v.link).includes("youtube.com")||$.includes("youtu.be")||$.includes("youtube-nocookie.com")?n.createElement(ct,{src:function(e){const t=e.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/);return t&&11===t[2].length?t[2]:e}(v.link),type:"youtube",title:v.name,autoplay:!1,onPlay:function(){console.log("Lesson ".concat(p," video started playing"))},onPause:function(){console.log("Lesson ".concat(p," video paused"))},onEnded:async function(){if(console.log("Lesson ".concat(p," video completed")),null!=f&&f.id&&g&&p)try{if(null!=f&&f.id)try{console.log("ðŸ“Š Tracking lesson completion:",{user_id:f.id,course_id:g,lesson_id:p});const n=(await Z.N.from("user_lesson_progress").upsert({user_id:f.id,course_id:g,lesson_id:p,is_completed:!0,completed_at:(new Date).toISOString()},{onConflict:"user_id,lesson_id"})).error;if(n)console.log("âŒ Database tracking failed:",n),console.log("Using localStorage fallback");else{console.log("âœ… Lesson completion tracked in database"),console.log("ðŸ”„ SYNC: Starting user_courses update for course:",g);try{const n=await Z.N.from("user_lesson_progress").select("lesson_id").eq("user_id",f.id).eq("course_id",g).eq("is_completed",!0),a=n.data,o=n.error;if(console.log("ðŸ”„ SYNC: Query result:",{currentProgress:a,progressQueryError:o}),!o&&a){var e;const n=a.length;console.log("ðŸ”„ SYNC: Found completed lessons:",n);const o=(await Z.N.from("user_courses").update({completed_lessons:n,progress:n>0?Math.round(n/((null==h||null===(e=h.videos)||void 0===e?void 0:e.length)||1)*100):0,last_accessed:(new Date).toISOString()}).eq("user_id",f.id).eq("course_id",g)).error;var t,r;console.log("ðŸ”„ SYNC: Update result:",{userCoursesError:o}),o?console.log("âŒ Failed to update user_courses:",o):console.log("âœ… User courses table updated with progress:",{courseId:g,completedCount:n,totalVideos:(null==h||null===(t=h.videos)||void 0===t?void 0:t.length)||0,progressPercentage:Math.round(n/((null==h||null===(r=h.videos)||void 0===r?void 0:r.length)||1)*100)})}else console.log("âŒ SYNC: Failed to query user_lesson_progress:",o)}catch(e){console.log("âŒ Error updating user_courses:",e)}if(T.notificationService.isNotificationEnabled())try{await T.notificationService.sendNotification({title:"ðŸŽ‰ Lesson Completed!",body:"Great job! You've completed \"".concat(v.name,'". Keep up the momentum!'),tag:"lesson-completed",requireInteraction:!1,actions:[{action:"continue",title:"Next Lesson"},{action:"view",title:"View Progress"}]})}catch(e){console.log("Notification send failed:",e)}}try{(await Z.N.rpc("update_user_xp_and_streak",{user_id:f.id,xp_to_add:50,activity_type:"lesson_completion"})).error?console.log("XP update failed (function might not exist yet)"):console.log("âœ… XP and streak updated in database")}catch(e){console.log("XP update function not available yet")}}catch(e){console.log("Database operations failed, using localStorage fallback")}L(function(e){const t=new Set(e);return t.add(p),t});try{var n;const e=I.size+1,t=(null==h||null===(n=h.course_videos)||void 0===n?void 0:n.length)||1,r=Math.round(e/t*100);localStorage.setItem("recent_course_id",g),localStorage.setItem("recent_course_progress",r.toString()),localStorage.setItem("recent_course_timestamp",(new Date).toISOString()),console.log("âœ… Progress updated in localStorage:",r+"%")}catch(e){console.log("Could not update localStorage progress")}}catch(e){console.error("Error in lesson completion tracking:",e)}}}):n.createElement("div",{className:"w-full h-full bg-gray-900 flex items-center justify-center text-white"},n.createElement("div",{className:"text-center"},n.createElement("svg",{className:"h-16 w-16 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})),n.createElement("p",{className:"text-lg font-medium mb-2"},"Video Player"),n.createElement("p",{className:"text-sm text-gray-300"},v.link.includes("http")?"Direct video link detected":"Video source not supported"),n.createElement("p",{className:"text-xs text-gray-400 mt-2"},"Currently supporting YouTube videos only")))),n.createElement("div",{className:"flex items-center justify-between text-sm text-gray-600 px-4 -mt-2"},n.createElement("span",null,"Duration: ",function(e){if(e.includes(":"))return e;if(e.includes("m")&&e.includes("s"))return e;if(e.startsWith("PT")){var t,r;const n=(null===(t=e.match(/(\d+)M/))||void 0===t?void 0:t[1])||"0",a=(null===(r=e.match(/(\d+)S/))||void 0===r?void 0:r[1])||"0";return"".concat(n,":").concat(a.padStart(2,"0"))}return e}(v.duration)),n.createElement("span",null,"Lesson ",P+1," of ",(null===(s=h.course_videos)||void 0===s?void 0:s.length)||0)),n.createElement("div",{className:"p-4 space-y-4"},n.createElement("div",{className:"text-sm text-gray-700"},"Downloadable resources â€¢ Transcript â€¢ Notes"),n.createElement("div",{className:"bg-primary-50 border border-primary-100 p-3 rounded text-sm text-primary-800"},"ðŸ”¥ Great job! Youâ€™re on track â€” keep going."),n.createElement("div",{className:"flex items-center justify-between"},n.createElement("button",{onClick:function(){if(null!=h&&h.course_videos&&P>0){const e=h.course_videos[P-1];d("/course/".concat(g,"/lesson/").concat(e.id))}},disabled:!(null!=h&&h.course_videos)||P<=0,className:"px-4 py-2 rounded-lg border ".concat(null==h||!h.course_videos||P<=0?"text-gray-400 border-gray-200 cursor-not-allowed bg-gray-50":"hover:bg-gray-50")},"Previous Lesson"),P>=((null===(i=h.course_videos)||void 0===i?void 0:i.length)||0)-1?n.createElement("button",{onClick:async function(){try{var e;(await Z.N.from("user_courses").upsert({user_id:f.id,course_id:g,progress:100,completed_lessons:(null==h||null===(e=h.course_videos)||void 0===e?void 0:e.length)||0,last_accessed:(new Date).toISOString(),completed_at:(new Date).toISOString(),is_completed:!0})).error&&console.log("Could not save course completion to database, using localStorage fallback");try{const e=(await Z.N.rpc("update_user_xp_and_streak",{user_id:f.id,xp_gain:200,activity_type:"course_completed"})).error;if(e?console.log("Could not award course completion XP:",e):console.log("âœ… Awarded 200 XP bonus for completing course"),T.notificationService.isNotificationEnabled())try{await T.notificationService.sendCourseCompletionNotification((null==h?void 0:h.title)||"Course")}catch(e){console.log("Course completion notification failed:",e)}}catch(e){console.log("XP system not available yet")}localStorage.setItem("recent_course_id",g),localStorage.setItem("recent_course_progress","100"),localStorage.setItem("recent_course_timestamp",(new Date).toISOString()),localStorage.setItem("recent_course_completed","true"),alert("ðŸŽ‰ Congratulations! You have completed this course!"),d("/courses")}catch(e){console.error("Error completing course:",e),d("/courses")}},className:"px-6 py-2 rounded-lg bg-green-600 text-white hover:bg-green-700 transition-colors font-medium"},"ðŸŽ‰ Complete Course"):n.createElement("button",{onClick:function(){if(null!=h&&h.course_videos&&P<h.course_videos.length-1){const e=h.course_videos[P+1];d("/course/".concat(g,"/lesson/").concat(e.id))}},className:"px-4 py-2 rounded-lg border bg-primary-600 text-white hover:bg-primary-700"},"Next Lesson")))),n.createElement("div",{className:"block md:hidden"},n.createElement("div",{className:"bg-white border rounded-xl p-4"},n.createElement("div",{className:"font-bold mb-3"},"Lessons"),n.createElement("div",{className:"space-y-2"},null===(c=h.course_videos)||void 0===c?void 0:c.sort(function(e,t){return e.order_index-t.order_index}).map(function(e,t){const r=I.has(e.id);return n.createElement("div",{key:e.id,className:"px-3 py-2 rounded border cursor-pointer flex items-center justify-between ".concat(v.id===e.id?"bg-primary-50 border-primary-200 text-primary-700":r?"bg-green-50 border-green-200 text-green-700":"hover:bg-gray-50"),onClick:function(){return d("/course/".concat(g,"/lesson/").concat(e.id))}},n.createElement("span",null,e.name||"Lesson ".concat(t+1)),r&&n.createElement("span",{className:"text-green-600"},"âœ“"))}))))),n.createElement("aside",{className:"col-span-12 md:col-span-3 space-y-4"},n.createElement("div",{className:"bg-white border rounded-xl p-4"},n.createElement("div",{className:"font-semibold mb-1"},"Up Next"),n.createElement("div",{className:"text-sm text-gray-600"},h.course_videos&&P<h.course_videos.length-1?(null===(m=h.course_videos[P+1])||void 0===m?void 0:m.name)||"Lesson ".concat(P+2):"This is the last lesson")),n.createElement("div",{className:"bg-white border rounded-xl p-4"},n.createElement("div",{className:"font-semibold mb-1"},"Daily Streak"),n.createElement("div",{className:"text-sm text-gray-600"},q>0?"You've learned ".concat(q," day").concat(1===q?"":"s"," in a row"):"Start your learning streak today!")),n.createElement("div",{className:"bg-white border rounded-xl p-4"},n.createElement("div",{className:"font-semibold mb-1"},"Related Courses"),n.createElement("div",{className:"space-y-2"},K?n.createElement("div",{className:"text-sm text-gray-600 flex items-center gap-2"},n.createElement("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-400"}),"Loading suggestions..."):Y.length>0?Y.map(function(e){return n.createElement("div",{key:e.id,className:"flex items-center gap-2 cursor-pointer hover:bg-gray-50 p-2 rounded",onClick:function(){return d("/course/".concat(e.id))}},n.createElement("img",{src:e.cover_photo_url||"/default-course-image.jpg",alt:e.title,className:"w-8 h-8 rounded object-cover"}),n.createElement("div",{className:"flex-1 min-w-0"},n.createElement("div",{className:"text-sm font-medium text-gray-900 truncate"},e.title),n.createElement("div",{className:"text-xs text-gray-500"},e.level," â€¢ ",e.category)))}):n.createElement("div",{className:"text-sm text-gray-600"},"No related courses found"))))))):n.createElement(yr,null,n.createElement("div",{className:"min-h-screen bg-gray-50 pt-16"},n.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},n.createElement("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6 text-center"},n.createElement("p",{className:"text-yellow-700 font-medium mb-3"},"Lesson not found"),n.createElement("button",{onClick:function(){return d("/courses")},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"},"Back to Courses")))));var $},Nr=function(){const e=(0,o.Zp)();return(0,o.g)().id,n.createElement("div",{className:"min-h-screen bg-gray-50 pt-16"},n.createElement("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-16 text-center"},n.createElement("div",{className:"text-5xl"},"ðŸŽ‰"),n.createElement("h1",{className:"text-3xl font-extrabold text-gray-900 mt-4"},"Course Completed!"),n.createElement("p",{className:"text-gray-600 mt-2"},"You unlocked your badge and certificate."),n.createElement("div",{className:"mt-6 flex items-center justify-center gap-3"},n.createElement("button",{className:"bg-primary-600 text-white px-5 py-2 rounded-lg hover:bg-primary-700"},"Download Certificate"),n.createElement("button",{className:"border px-5 py-2 rounded-lg hover:bg-gray-50"},"Share Achievement")),n.createElement("div",{className:"mt-10"},n.createElement("button",{onClick:function(){return e("/courses")},className:"text-primary-700 hover:underline"},"Explore Recommended Courses"))))};function kr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,s,l=[],i=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;i=!1}else for(;!(i=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{if(!i&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Sr(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Sr(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var _r=function(){const e=kr((0,n.useState)([]),2),t=e[0],r=e[1],a=kr((0,n.useState)(!0),2),s=a[0],l=a[1],i=kr((0,n.useState)(null),2),c=i[0],m=i[1],d=kr((0,n.useState)(""),2),g=d[0],p=d[1],f=kr((0,n.useState)(""),2),b=f[0],h=f[1],x=kr((0,n.useState)(""),2),y=x[0],v=x[1],E=kr((0,n.useState)(1),2),w=E[0],N=E[1],k=kr((0,n.useState)(!0),2),S=k[0],_=k[1],C=kr((0,n.useState)(!1),2),A=(C[0],C[1],kr((0,n.useState)(!1),2)),P=(A[0],A[1],(0,n.useCallback)(async function(){try{l(!0);let o=Z.N.from("blog_posts").select("\n          *,\n          blog_post_categories(\n            blog_categories(name)\n          ),\n          blog_post_tags(\n            blog_tags(name)\n          )\n        ").eq("status","published").order("published_at",{ascending:!1});b&&(o=o.eq("blog_post_categories.blog_categories.name",b)),y&&(o=o.eq("blog_post_tags.blog_tags.name",y));const s=9*(w-1),i=s+9-1;o=o.range(s,i);const c=await o,d=c.data,u=c.error;var e,t,n,a;if(u)return console.error("Error fetching blog posts:",u),console.log("Error code:",u.code),console.log("Error message:",u.message),void("PGRST303"===u.code||null!==(e=u.message)&&void 0!==e&&e.includes("JWT expired")?m("Authentication required. Please sign in again."):"PGRST116"===u.code||null!==(t=u.message)&&void 0!==t&&t.includes("JWT")?m("Access denied. Blog posts are not publicly accessible. Admin needs to disable RLS policies."):"401"===u.code||null!==(n=u.message)&&void 0!==n&&n.includes("Unauthorized")?m("Blog access blocked by Row Level Security (RLS) policies. The admin needs to disable RLS on the blog_posts table."):"PGRST301"===u.code||null!==(a=u.message)&&void 0!==a&&a.includes("permission denied")?m("Permission denied. Blog posts table has restricted access. Admin needs to disable RLS policies."):m("Failed to load blog posts: ".concat(u.message||"Unknown error")));const g=(null==d?void 0:d.map(function(e){var t,r,n,a;return{id:e.id,title:e.title,slug:e.slug,content:e.content,excerpt:e.excerpt,featured_image_url:e.featured_image_url,status:e.status,published_at:e.published_at,created_at:e.created_at,updated_at:e.updated_at,categories:(null===(t=e.blog_post_categories)||void 0===t||null===(r=t.filter(function(e){return e.blog_categories}))||void 0===r?void 0:r.map(function(e){return{name:e.blog_categories.name}}))||[],tags:(null===(n=e.blog_post_tags)||void 0===n||null===(a=n.filter(function(e){return e.blog_tags}))||void 0===a?void 0:a.map(function(e){return{name:e.blog_tags.name}}))||[]}}))||[];r(1===w?g:function(e){return[...e,...g]}),_(9===g.length)}catch(e){console.error("Error fetching blog posts:",e),m("Failed to load blog posts")}finally{l(!1)}},[w,b,y,g,9]));return(0,n.useEffect)(function(){P()},[P]),t.filter(function(e){if(g){const t=g.toLowerCase();return e.title.toLowerCase().includes(t)||e.excerpt.toLowerCase().includes(t)||e.content.toLowerCase().includes(t)}return!0}),c?n.createElement("div",{className:"min-h-screen bg-gray-50 pt-16"},n.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12"},n.createElement("div",{className:"text-center"},n.createElement("h1",{className:"text-2xl font-bold text-gray-900"},"Blog Access Error"),n.createElement("p",{className:"mt-2 text-gray-600 mb-4"},c),c.includes("RLS")||c.includes("security policies")?n.createElement("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6 max-w-2xl mx-auto mb-6"},n.createElement("h3",{className:"text-lg font-medium text-yellow-800 mb-3"},"Quick Fix Required"),n.createElement("p",{className:"text-yellow-700 mb-4"},"The blog posts are currently blocked by database security policies. This needs to be fixed by an administrator."),n.createElement("div",{className:"bg-yellow-100 p-4 rounded-lg"},n.createElement("p",{className:"text-sm font-medium text-yellow-800 mb-2"},"Admin Action Required:"),n.createElement("ol",{className:"text-sm text-yellow-700 space-y-1 list-decimal list-inside"},n.createElement("li",null,"Go to ",n.createElement("a",{href:"https://supabase.com/dashboard/project/hclguhbswctxfahhzrrr",target:"_blank",rel:"noopener noreferrer",className:"underline"},"Supabase Dashboard")),n.createElement("li",null,'Click "SQL Editor" in the left sidebar'),n.createElement("li",null,"Run this command: ",n.createElement("code",{className:"bg-yellow-200 px-2 py-1 rounded font-mono"},"ALTER TABLE blog_posts DISABLE ROW LEVEL SECURITY;")),n.createElement("li",null,'Click "Run" button')))):null,n.createElement("button",{onClick:function(){return P()},className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"},"Try Again")))):n.createElement(n.Fragment,null,n.createElement(re.A,{title:"Blog - King Ezekiel Academy",description:"Discover insights, tips, and strategies to help you master digital skills and grow your business. Expert advice from industry professionals."}),n.createElement("div",{className:"min-h-screen bg-gray-50 pt-16"},n.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12"},n.createElement("div",{className:"text-center mb-16"},n.createElement("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-6"},"Blog"),n.createElement("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto"},"Discover insights, tips, and strategies to help you master digital skills and grow your business."))),n.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},n.createElement("form",{onSubmit:function(e){e.preventDefault(),N(1),h(""),v(""),P()},className:"mb-8"},n.createElement("div",{className:"flex flex-col sm:flex-row gap-4"},n.createElement("div",{className:"flex-1"},n.createElement("div",{className:"relative"},n.createElement(u.KSO,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),n.createElement("input",{type:"text",placeholder:"Search articles...",value:g,onChange:function(e){return p(e.target.value)},className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}))),n.createElement("button",{type:"submit",className:"px-8 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium"},"Search"))),n.createElement("div",{className:"flex flex-wrap gap-4 mb-8"},n.createElement("select",{value:b,onChange:function(e){return h(e.target.value)},className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},n.createElement("option",{value:""},"All Categories"),function(){const e=new Set;return t.forEach(function(t){t.categories.forEach(function(t){return e.add(t.name)})}),Array.from(e)}().map(function(e){return n.createElement("option",{key:e,value:e},e)})),n.createElement("select",{value:y,onChange:function(e){return v(e.target.value)},className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},n.createElement("option",{value:""},"All Tags"),function(){const e=new Set;return t.forEach(function(t){t.tags.forEach(function(t){return e.add(t.name)})}),Array.from(e)}().map(function(e){return n.createElement("option",{key:e,value:e},e)})))),n.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-16"},s&&1===w?n.createElement("div",{className:"text-center py-12"},n.createElement("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),n.createElement("p",{className:"text-gray-600"},"Loading blog posts...")):c?n.createElement("div",{className:"text-center py-12"},n.createElement("p",{className:"text-red-600 mb-4"},c),n.createElement("button",{onClick:function(){return window.location.reload()},className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"},"Try Again")):0===t.length?n.createElement("div",{className:"text-center py-12"},n.createElement("p",{className:"text-gray-600 mb-4"},"No blog posts found."),n.createElement("button",{onClick:function(){p(""),h(""),v(""),N(1)},className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"},"Clear Filters")):n.createElement(n.Fragment,null,n.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8"},t.map(function(e){return n.createElement("article",{key:e.id,className:"bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-shadow"},e.featured_image_url&&n.createElement("div",{className:"w-full h-48 relative overflow-hidden"},n.createElement("img",{src:e.featured_image_url,alt:e.title,className:"w-full h-full object-cover"})),n.createElement("div",{className:"p-6"},e.categories.length>0&&n.createElement("div",{className:"flex flex-wrap gap-2 mb-3"},e.categories.slice(0,2).map(function(e,t){return n.createElement("span",{key:t,className:"px-3 py-1 bg-blue-100 text-blue-800 text-xs font-medium rounded-full"},e.name)})),n.createElement("h2",{className:"text-xl font-bold text-gray-900 mb-3 line-clamp-2"},e.title),n.createElement("p",{className:"text-gray-600 mb-4 line-clamp-3"},e.excerpt),n.createElement("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-4"},n.createElement("div",{className:"flex items-center gap-2"},n.createElement(u.itz,{className:"w-4 h-4"}),n.createElement("span",null,function(e){const t=e.split(" ").length;return Math.ceil(t/200)}(e.content)," min read")),n.createElement("div",{className:"flex items-center gap-2"},n.createElement(u.x$1,{className:"w-4 h-4"}),n.createElement("span",null,"Admin"))),n.createElement(o.N_,{to:"/blog/".concat(e.slug),className:"w-full inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors"},"Read Article",n.createElement(u.Ny1,{className:"w-4 h-4 ml-2"}))))})),S&&n.createElement("div",{className:"text-center mt-12"},n.createElement("button",{onClick:function(){return N(function(e){return e+1})},disabled:s,className:"px-8 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium"},s?"Loading...":"Load More Posts"))))))};function Cr(e,t){const r=e.replace(/\(\?\<[^>]+\>/g,"(");try{return new RegExp(r,t)}catch(t){return console.error("Invalid regex pattern:",e,t),/^$/}}function Ar(e,t,r){try{return e.replace(t,r)}catch(n){return console.warn("Regex replace failed, using fallback:",n),e.replace(t.source,r)}}function Pr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,s,l=[],i=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;i=!1}else for(;!(i=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{if(!i&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return jr(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?jr(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Or=function(){const e=(0,o.g)().slug,t=(0,o.Zp)(),r=Pr((0,n.useState)(!0),2),a=r[0],s=r[1],l=Pr((0,n.useState)(null),2),i=l[0],c=l[1],m=Pr((0,n.useState)(null),2),d=m[0],g=m[1],p=Pr((0,n.useState)(!1),2),f=p[0],b=p[1],x=(0,n.useCallback)(async function(){try{s(!0);const t=await Z.N.from("blog_posts").select("\n          *,\n          blog_post_categories(blog_categories(name)),\n          blog_post_tags(blog_tags(name))\n        ").eq("slug",e).eq("status","published").single(),r=t.data,n=t.error;if(n)throw n;if((0,h.Em)("Blog post data:",r),g(r),r.id&&void 0!==r.view_count)try{await Z.N.from("blog_posts").update({view_count:(r.view_count||0)+1}).eq("id",r.id)}catch(e){(0,h.Y)("Could not update view count:",e)}s(!1)}catch(e){(0,h.Y)("Error fetching blog post:",e),c("Failed to load blog post"),s(!1)}},[e]);(0,n.useEffect)(function(){e&&x()},[e,x]);const y=function(e){let t=ar.A.sanitize(e);const r=t.split(/([.!?])\s+/).reduce(function(e,t,r){return r%2==0?e.push(t):e[e.length-1]+=t,e},[]);return t=r.map(function(e){return e.replace(/([.!?])\s*/g,"$1  ")}).join(" "),t=t.replace(/\n\n+/g,"</p><p>").replace(/\n/g,"</p><p>"),t.startsWith("<p>")||(t="<p>"+t),t.endsWith("</p>")||(t+="</p>"),t=t.replace(/\.\s*([A-Z])/g,".  $1"),t=t.replace(/<\/p><p>/g,"</p>\n\n<p>"),t=t.replace(/<\/p>/g,"</p>\n"),t},v=function(e){const t=encodeURIComponent(window.location.href),r=encodeURIComponent((null==d?void 0:d.excerpt)||"Interesting read from King Ezekiel Academy");let n="";switch(e){case"twitter":n="https://twitter.com/intent/tweet?text=".concat(r,"&url=").concat(t);break;case"facebook":n="https://www.facebook.com/sharer/sharer.php?u=".concat(t);break;case"linkedin":n="https://www.linkedin.com/sharing/share-offsite/?url=".concat(t);break;case"whatsapp":n="https://wa.me/?text=".concat(r,"%20").concat(t);break;default:return}window.open(n,"_blank","width=600,height=400")},E=function(e){return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})};return a?n.createElement("div",{className:"min-h-screen bg-gray-50 pt-16"},n.createElement("div",{className:"max-w-4xl mx-auto px-3 sm:px-6 lg:px-8 py-6 sm:py-8"},n.createElement("div",{className:"flex items-center justify-center py-12"},n.createElement("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),n.createElement("span",{className:"ml-3 text-gray-600"},"Loading blog post...")))):i||!d?n.createElement("div",{className:"min-h-screen bg-gray-50 pt-16"},n.createElement("div",{className:"max-w-4xl mx-auto px-3 sm:px-6 lg:px-8 py-6 sm:py-8"},n.createElement("div",{className:"text-center"},n.createElement("h1",{className:"text-2xl font-bold text-gray-900"},"Blog Post Not Found"),n.createElement("p",{className:"mt-2 text-gray-600"},i||"The blog post you are looking for does not exist."),n.createElement("button",{onClick:function(){return t("/blog")},className:"mt-4 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"},"Back to Blog")))):n.createElement("div",{className:"min-h-screen bg-gray-50 pt-16"},n.createElement("div",{className:"max-w-4xl mx-auto px-3 sm:px-6 lg:px-8 py-6 sm:py-8"},n.createElement("div",{className:"mb-6"},n.createElement("button",{onClick:function(){return t("/blog")},className:"inline-flex items-center text-gray-600 hover:text-gray-900 transition-colors"},n.createElement(u.QVr,{className:"w-4 h-4 mr-2"}),"Back to Blog")),n.createElement("article",{className:"bg-white rounded-xl shadow-lg overflow-hidden"},d.featured_image_url&&n.createElement("div",{className:"w-full h-64 sm:h-80 lg:h-96 relative overflow-hidden"},n.createElement("img",{src:d.featured_image_url,alt:d.title,className:"w-full h-full object-cover"})),n.createElement("div",{className:"p-6 sm:p-8 lg:p-12"},n.createElement("header",{className:"mb-6 sm:mb-8"},n.createElement("h1",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold text-gray-900 mb-3 sm:mb-4 leading-tight"},d.title),n.createElement("div",{className:"flex flex-col sm:flex-row flex-wrap items-start sm:items-center gap-2 sm:gap-4 md:gap-6 text-xs sm:text-sm text-gray-600 mb-4 sm:mb-6"},n.createElement("div",{className:"flex items-center"},n.createElement(u.x$1,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),n.createElement("span",null,"King Ezekiel Academy")),n.createElement("div",{className:"flex items-center"},n.createElement(u.itz,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),n.createElement("span",null,E(d.created_at))),d.reading_time&&n.createElement("div",{className:"flex items-center"},n.createElement(u.w_X,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),n.createElement("span",null,d.reading_time," min read")),void 0!==d.view_count&&n.createElement("div",{className:"flex items-center"},n.createElement(u.Ny1,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),n.createElement("span",null,d.view_count," views"))),n.createElement("div",{className:"flex flex-col sm:flex-row flex-wrap items-start sm:items-center gap-3 sm:gap-4 mb-4 sm:mb-6"},d.categories&&d.categories.length>0&&n.createElement("div",{className:"flex items-center"},n.createElement(u.M1W,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2 text-gray-400"}),n.createElement("div",{className:"flex flex-wrap gap-1 sm:gap-2"},d.categories.map(function(e,t){return n.createElement("span",{key:t,className:"px-2 sm:px-3 py-1 bg-blue-100 text-blue-800 text-xs font-medium rounded-full"},e.blog_categories.name)}))),d.tags&&d.tags.length>0&&n.createElement("div",{className:"flex items-center"},n.createElement(u.BuZ,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2 text-gray-400"}),n.createElement("div",{className:"flex flex-wrap gap-1 sm:gap-2"},d.tags.map(function(e,t){return n.createElement("span",{key:t,className:"px-2 sm:px-3 py-1 bg-gray-100 text-gray-700 text-xs font-medium rounded-full"},e.blog_tags.name)})))),d.excerpt&&n.createElement("div",{className:"mb-6 sm:mb-8 p-3 sm:p-4 bg-gray-50 rounded-lg"},n.createElement("p",{className:"text-base sm:text-lg text-gray-700 italic"},d.excerpt))),n.createElement("div",{className:"prose prose-lg max-w-none mb-8"},n.createElement("div",{dangerouslySetInnerHTML:{__html:y(function(e){const t=Cr("##\\s*Conclusion\\s*\\n[\\s\\S]*$","i"),r=Cr("Conclusion\\s*\\n[\\s\\S]*$","i");let n=Ar(e,t,"");return n===e&&(n=Ar(e,r,"")),n.trim()}(d.content))},className:"text-gray-800 leading-relaxed blog-content"})),d.content.toLowerCase().includes("conclusion")&&n.createElement("div",{className:"mt-8 sm:mt-12 p-4 sm:p-6 bg-blue-50 border-l-4 border-blue-400 rounded-lg"},n.createElement("h3",{className:"text-lg sm:text-xl font-bold text-blue-900 mb-3 sm:mb-4"},"Conclusion"),n.createElement("div",{className:"text-blue-800 leading-relaxed"},n.createElement("div",{dangerouslySetInnerHTML:{__html:y(function(e){const t=Cr("##\\s*Conclusion\\s*\\n([\\s\\S]*?)(?:\\n##|$)","i"),r=e.match(t);if(r&&r[1])return r[1].trim();const n=Cr("Conclusion\\s*\\n([\\s\\S]*?)(?:\\n[A-Z]|$)","i"),a=e.match(n);return a&&a[1]?a[1].trim():""}(d.content))},className:"prose prose-blue max-w-none"}))),n.createElement("div",{className:"mb-6 sm:mb-8 p-4 sm:p-6 bg-gray-50 rounded-lg"},n.createElement("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-3 sm:mb-4"},"Share this post"),n.createElement("div",{className:"grid grid-cols-2 sm:flex sm:flex-wrap gap-2 sm:gap-3"},n.createElement("button",{onClick:function(){return v("twitter")},className:"inline-flex items-center justify-center px-3 sm:px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors text-sm sm:text-base"},n.createElement(u.feZ,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),n.createElement("span",{className:"hidden sm:inline"},"Twitter"),n.createElement("span",{className:"sm:hidden"},"Tweet")),n.createElement("button",{onClick:function(){return v("facebook")},className:"inline-flex items-center justify-center px-3 sm:px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm sm:text-base"},n.createElement(u.iYk,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),n.createElement("span",{className:"hidden sm:inline"},"Facebook"),n.createElement("span",{className:"sm:hidden"},"Share")),n.createElement("button",{onClick:function(){return v("linkedin")},className:"inline-flex items-center justify-center px-3 sm:px-4 py-2 bg-blue-700 text-white rounded-lg hover:bg-blue-800 transition-colors text-sm sm:text-base"},n.createElement(u.QEs,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),n.createElement("span",{className:"hidden sm:inline"},"LinkedIn"),n.createElement("span",{className:"sm:hidden"},"Post")),n.createElement("button",{onClick:function(){return v("whatsapp")},className:"inline-flex items-center justify-center px-3 sm:px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors text-sm sm:text-base"},n.createElement(u.EcP,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),n.createElement("span",{className:"hidden sm:inline"},"WhatsApp"),n.createElement("span",{className:"sm:hidden"},"Send")))),n.createElement("div",{className:"mt-12 pt-8 border-t border-gray-200"},n.createElement("div",{className:"text-center py-12"},n.createElement("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4"},n.createElement(u.x$1,{className:"w-8 h-8 text-gray-400"})),n.createElement("h3",{className:"text-xl font-semibold text-gray-900 mb-2"},"Comments"),n.createElement("p",{className:"text-gray-600 mb-6"},"Share your thoughts and engage with other readers"),n.createElement("div",{className:"inline-flex items-center px-4 py-2 bg-blue-50 text-blue-700 rounded-full text-sm font-medium"},n.createElement("span",{className:"mr-2"},"ðŸš€"),"Comments coming soon!"))),n.createElement("footer",{className:"mt-12 pt-8 border-t border-gray-200"},n.createElement("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4"},n.createElement("div",{className:"flex items-center space-x-4 text-sm text-gray-600"},n.createElement("span",null,"Published on ",E(d.created_at)),d.updated_at!==d.created_at&&n.createElement("span",null,"â€¢ Updated on ",E(d.updated_at))),n.createElement("button",{onClick:async function(){try{const e=window.location.href;await async function(e){if(function(){try{return"undefined"!=typeof window&&"navigator"in window&&"clipboard"in navigator}catch(e){return!1}}())try{return await navigator.clipboard.writeText(e),!0}catch(e){}if("undefined"!=typeof document)try{const t=document.createElement("textarea");t.value=e,t.style.position="fixed",t.style.left="-999999px",t.style.top="-999999px",document.body.appendChild(t),t.focus(),t.select();const r=document.execCommand("copy");return document.body.removeChild(t),r}catch(e){return!1}return!1}(e)?(b(!0),setTimeout(function(){return b(!1)},2e3)):alert("Copy this URL: ".concat(e))}catch(e){(0,h.Y)("Failed to copy link:",e)}},className:"inline-flex items-center px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors"},f?n.createElement(n.Fragment,null,n.createElement(u.CMH,{className:"w-4 h-4 mr-2"}),"Link Copied!"):n.createElement(n.Fragment,null,n.createElement(u.paH,{className:"w-4 h-4 mr-2"}),"Copy Link"))))))))},Tr=function(){return n.createElement(Ce,{title:"Privacy Policy - King Ezekiel Academy",description:"Learn about how King Ezekiel Academy collects, uses, and protects your personal information. Read our comprehensive privacy policy.",breadcrumbs:[{name:"Home",url:"/"},{name:"Privacy Policy",url:"/privacy"}]},n.createElement("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12"},n.createElement("div",{className:"text-center mb-12"},n.createElement("h1",{className:"text-4xl font-bold text-gray-900 mb-4"},"Privacy Policy"),n.createElement("p",{className:"text-xl text-gray-600"},"Last updated: January 31, 2025")),n.createElement("div",{className:"prose prose-lg max-w-none"},n.createElement("p",{className:"text-gray-700 mb-6"},"At King Ezekiel Academy, we are committed to protecting your privacy and ensuring the security of your personal information. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you visit our website or use our services."),n.createElement("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4"},"Information We Collect"),n.createElement("p",{className:"text-gray-700 mb-4"},"We collect information you provide directly to us, such as when you:"),n.createElement("ul",{className:"list-disc pl-6 text-gray-700 mb-6"},n.createElement("li",null,"Create an account or sign up for our services"),n.createElement("li",null,"Enroll in courses or purchase subscriptions"),n.createElement("li",null,"Contact us for support or inquiries"),n.createElement("li",null,"Participate in surveys or promotions"),n.createElement("li",null,"Subscribe to our newsletter")),n.createElement("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4"},"How We Use Your Information"),n.createElement("p",{className:"text-gray-700 mb-4"},"We use the information we collect to:"),n.createElement("ul",{className:"list-disc pl-6 text-gray-700 mb-6"},n.createElement("li",null,"Provide and maintain our educational services"),n.createElement("li",null,"Process payments and manage subscriptions"),n.createElement("li",null,"Send you important updates and notifications"),n.createElement("li",null,"Improve our website and services"),n.createElement("li",null,"Provide customer support"),n.createElement("li",null,"Comply with legal obligations")),n.createElement("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4"},"Payment Processing"),n.createElement("p",{className:"text-gray-700 mb-4"},"We use ",n.createElement("strong",null,"Flutterwave")," as our payment processor to handle all subscription payments and transactions. When you make a payment:"),n.createElement("ul",{className:"list-disc pl-6 text-gray-700 mb-4"},n.createElement("li",null,"Your payment information is processed securely by Flutterwave"),n.createElement("li",null,"We do not store your credit card or bank account details"),n.createElement("li",null,"Flutterwave is PCI DSS compliant and follows industry security standards"),n.createElement("li",null,"Your payment data is encrypted and protected during transmission")),n.createElement("p",{className:"text-gray-700 mb-6"},n.createElement("strong",null,"Refund Policy:")," We follow Flutterwave's refund policy. Refunds are processed within 5-10 business days and will be credited to your original payment method. For refund requests, please contact our support team."),n.createElement("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4"},"Information Sharing"),n.createElement("p",{className:"text-gray-700 mb-4"},"We do not sell, trade, or otherwise transfer your personal information to third parties without your consent, except as described in this policy or as required by law."),n.createElement("p",{className:"text-gray-700 mb-6"},n.createElement("strong",null,"Third-Party Services:")," We may share your information with trusted third-party service providers, including:"),n.createElement("ul",{className:"list-disc pl-6 text-gray-700 mb-6"},n.createElement("li",null,n.createElement("strong",null,"Flutterwave:")," For payment processing and subscription management"),n.createElement("li",null,n.createElement("strong",null,"Supabase:")," For database and authentication services"),n.createElement("li",null,n.createElement("strong",null,"Vercel:")," For hosting and application deployment"),n.createElement("li",null,"Other service providers who assist us in operating our platform")),n.createElement("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4"},"Data Security"),n.createElement("p",{className:"text-gray-700 mb-6"},"We implement appropriate security measures to protect your personal information against unauthorized access, alteration, disclosure, or destruction."),n.createElement("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4"},"Your Rights"),n.createElement("p",{className:"text-gray-700 mb-4"},"You have the right to:"),n.createElement("ul",{className:"list-disc pl-6 text-gray-700 mb-6"},n.createElement("li",null,"Access your personal information"),n.createElement("li",null,"Correct inaccurate information"),n.createElement("li",null,"Request deletion of your information"),n.createElement("li",null,"Opt-out of marketing communications"),n.createElement("li",null,"Withdraw consent for data processing")),n.createElement("h2",{className:"text-2xl font-bold text-gray-900 mt-8 mb-4"},"Contact Us"),n.createElement("p",{className:"text-gray-700 mb-6"},"If you have any questions about this Privacy Policy or our data practices, please contact us at:"),n.createElement("div",{className:"bg-gray-50 p-4 rounded-lg"},n.createElement("p",{className:"text-gray-700"},n.createElement("strong",null,"Email:")," privacy@thekingezekielacademy.com",n.createElement("br",null),n.createElement("strong",null,"Address:")," Lagos, Nigeria",n.createElement("br",null),n.createElement("strong",null,"Website:")," https://thekingezekielacademy.com")))))},Ir=function(){return n.createElement("div",{className:"min-h-screen bg-white pt-20"},n.createElement("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12"},n.createElement("div",{className:"text-center mb-12"},n.createElement("div",{className:"inline-flex items-center px-4 py-2 bg-primary-100 text-primary-700 rounded-full text-sm font-medium mb-6"},n.createElement(u.MTc,{className:"mr-2 h-4 w-4"}),"Legal Terms"),n.createElement("h1",{className:"text-4xl font-bold text-primary-900 mb-4"},"Terms of Service"),n.createElement("p",{className:"text-lg text-primary-600"},"Effective Date: January 1, 2025")),n.createElement("div",{className:"prose prose-lg max-w-none"},n.createElement("div",{className:"bg-white rounded-2xl shadow-soft border border-primary-100 p-8 mb-8"},n.createElement("h2",{className:"text-2xl font-bold text-primary-900 mb-6"},"1. Acceptance of Terms"),n.createElement("p",{className:"text-primary-700"},'Welcome to THE KING EZEKIEL ACADEMY ("we," "our," or "us"). By accessing or using our website, courses, and services, you agree to be bound by these Terms of Service ("Terms"). Please read them carefully before using our platform.'),n.createElement("p",{className:"text-primary-700 mt-4"},"By creating an account, enrolling in a course, subscribing, or otherwise using our services, you agree to these Terms. If you do not agree, you may not use our services.")),n.createElement("div",{className:"bg-white rounded-2xl shadow-soft border border-primary-100 p-8 mb-8"},n.createElement("h2",{className:"text-2xl font-bold text-primary-900 mb-6"},"2. Services Provided"),n.createElement("div",{className:"space-y-4 text-primary-700"},n.createElement("p",null,"THE KING EZEKIEL ACADEMY offers:"),n.createElement("ul",{className:"space-y-2"},n.createElement("li",{className:"flex items-start"},n.createElement(u.YNd,{className:"h-5 w-5 text-primary-500 mr-3 mt-1 flex-shrink-0"}),n.createElement("span",null,"Online educational content and training programs")),n.createElement("li",{className:"flex items-start"},n.createElement(u.YNd,{className:"h-5 w-5 text-primary-500 mr-3 mt-1 flex-shrink-0"}),n.createElement("span",null,"25+ comprehensive courses across various digital skills")),n.createElement("li",{className:"flex items-start"},n.createElement(u.YNd,{className:"h-5 w-5 text-primary-500 mr-3 mt-1 flex-shrink-0"}),n.createElement("span",null,"Memberships, subscriptions, and community features")),n.createElement("li",{className:"flex items-start"},n.createElement(u.YNd,{className:"h-5 w-5 text-primary-500 mr-3 mt-1 flex-shrink-0"}),n.createElement("span",null,"Certifications and progress tracking"))))),n.createElement("div",{className:"bg-white rounded-2xl shadow-soft border border-primary-100 p-8 mb-8"},n.createElement("h2",{className:"text-2xl font-bold text-primary-900 mb-6"},"3. User Accounts"),n.createElement("div",{className:"space-y-4 text-primary-700"},n.createElement("ul",{className:"space-y-3"},n.createElement("li",{className:"flex items-start"},n.createElement(u.CMH,{className:"h-5 w-5 text-green-500 mr-3 mt-1 flex-shrink-0"}),n.createElement("span",null,"You must provide accurate and complete information when creating an account")),n.createElement("li",{className:"flex items-start"},n.createElement(u.CMH,{className:"h-5 w-5 text-green-500 mr-3 mt-1 flex-shrink-0"}),n.createElement("span",null,"You are responsible for maintaining the confidentiality of your login credentials")),n.createElement("li",{className:"flex items-start"},n.createElement(u.CMH,{className:"h-5 w-5 text-green-500 mr-3 mt-1 flex-shrink-0"}),n.createElement("span",null,"You are responsible for all activities that occur under your account"))))),n.createElement("div",{className:"bg-white rounded-2xl shadow-soft border border-primary-100 p-8 mb-8"},n.createElement("h2",{className:"text-2xl font-bold text-primary-900 mb-6"},"4. Payments and Subscriptions"),n.createElement("div",{className:"space-y-4 text-primary-700"},n.createElement("ul",{className:"space-y-3"},n.createElement("li",{className:"flex items-start"},n.createElement(u.x1c,{className:"h-5 w-5 text-primary-500 mr-3 mt-1 flex-shrink-0"}),n.createElement("span",null,"Monthly subscriptions require recurring payment. By subscribing, you agree to provide accurate billing details and authorize automatic monthly charges")),n.createElement("li",{className:"flex items-start"},n.createElement(u.x1c,{className:"h-5 w-5 text-primary-500 mr-3 mt-1 flex-shrink-0"}),n.createElement("span",null,"Payments are processed securely via Flutterwave, our trusted payment processor")),n.createElement("li",{className:"flex items-start"},n.createElement(u.x1c,{className:"h-5 w-5 text-primary-500 mr-3 mt-1 flex-shrink-0"}),n.createElement("span",null,"Monthly subscriptions automatically renew every month unless canceled before the renewal date")),n.createElement("li",{className:"flex items-start"},n.createElement(u.x1c,{className:"h-5 w-5 text-primary-500 mr-3 mt-1 flex-shrink-0"}),n.createElement("span",null,"You can cancel your subscription at any time from your account dashboard")),n.createElement("li",{className:"flex items-start"},n.createElement(u.x1c,{className:"h-5 w-5 text-primary-500 mr-3 mt-1 flex-shrink-0"}),n.createElement("span",null,"Refunds are subject to our Refund Policy and Flutterwave's terms"))))),n.createElement("div",{className:"bg-white rounded-2xl shadow-soft border border-primary-100 p-8 mb-8"},n.createElement("h2",{className:"text-2xl font-bold text-primary-900 mb-6"},"5. Free Trials"),n.createElement("div",{className:"space-y-4 text-primary-700"},n.createElement("p",null,"We offer free trials for certain services:"),n.createElement("ul",{className:"space-y-2"},n.createElement("li",null,"â€¢ 7-day free trial for new subscribers"),n.createElement("li",null,"â€¢ At the end of the free trial, you will be automatically billed unless you cancel before the trial ends"),n.createElement("li",null,"â€¢ No commitment required during the trial period")))),n.createElement("div",{className:"bg-white rounded-2xl shadow-soft border border-primary-100 p-8 mb-8"},n.createElement("h2",{className:"text-2xl font-bold text-primary-900 mb-6"},"6. User Conduct"),n.createElement("p",{className:"text-primary-700 mb-4"},"By using our services, you agree NOT to:"),n.createElement("ul",{className:"space-y-3 text-primary-700"},n.createElement("li",{className:"flex items-start"},n.createElement(u.QCr,{className:"h-5 w-5 text-red-500 mr-3 mt-1 flex-shrink-0"}),n.createElement("span",null,"Share course materials publicly without permission")),n.createElement("li",{className:"flex items-start"},n.createElement(u.QCr,{className:"h-5 w-5 text-red-500 mr-3 mt-1 flex-shrink-0"}),n.createElement("span",null,"Misuse the platform for illegal, fraudulent, or harmful activities")),n.createElement("li",{className:"flex items-start"},n.createElement(u.QCr,{className:"h-5 w-5 text-red-500 mr-3 mt-1 flex-shrink-0"}),n.createElement("span",null,"Infringe upon the intellectual property rights of THE KING EZEKIEL ACADEMY or others")),n.createElement("li",{className:"flex items-start"},n.createElement(u.QCr,{className:"h-5 w-5 text-red-500 mr-3 mt-1 flex-shrink-0"}),n.createElement("span",null,"Attempt to gain unauthorized access to our systems or other users' accounts")))),n.createElement("div",{className:"bg-white rounded-2xl shadow-soft border border-primary-100 p-8 mb-8"},n.createElement("h2",{className:"text-2xl font-bold text-primary-900 mb-6"},"7. Intellectual Property"),n.createElement("div",{className:"space-y-4 text-primary-700"},n.createElement("ul",{className:"space-y-3"},n.createElement("li",null,"â€¢ All course materials, videos, texts, and digital content remain the property of THE KING EZEKIEL ACADEMY"),n.createElement("li",null,"â€¢ You are granted a limited, non-transferable license for personal use only"),n.createElement("li",null,"â€¢ You may not copy, resell, or redistribute our content without permission"),n.createElement("li",null,"â€¢ Unauthorized use may result in legal action")))),n.createElement("div",{className:"bg-white rounded-2xl shadow-soft border border-primary-100 p-8 mb-8"},n.createElement("h2",{className:"text-2xl font-bold text-primary-900 mb-6"},"8. Termination"),n.createElement("div",{className:"space-y-4 text-primary-700"},n.createElement("p",null,"We reserve the right to suspend or terminate your account if you violate these Terms. Upon termination:"),n.createElement("ul",{className:"space-y-2"},n.createElement("li",null,"â€¢ You lose access to our services and content"),n.createElement("li",null,"â€¢ Any remaining subscription time is forfeited"),n.createElement("li",null,"â€¢ You remain responsible for any outstanding payments")))),n.createElement("div",{className:"bg-white rounded-2xl shadow-soft border border-primary-100 p-8 mb-8"},n.createElement("h2",{className:"text-2xl font-bold text-primary-900 mb-6"},"9. Limitation of Liability"),n.createElement("div",{className:"space-y-4 text-primary-700"},n.createElement("ul",{className:"space-y-3"},n.createElement("li",null,'â€¢ We provide educational services "as is" without warranties of any kind'),n.createElement("li",null,"â€¢ THE KING EZEKIEL ACADEMY is not liable for any direct, indirect, or consequential damages"),n.createElement("li",null,"â€¢ We are not responsible for the success or failure of your career or business endeavors"),n.createElement("li",null,"â€¢ Our liability is limited to the amount you paid for our services")))),n.createElement("div",{className:"bg-white rounded-2xl shadow-soft border border-primary-100 p-8 mb-8"},n.createElement("h2",{className:"text-2xl font-bold text-primary-900 mb-6"},"10. Privacy"),n.createElement("p",{className:"text-primary-700"},"Your use of our services is also governed by our Privacy Policy. Please review it to understand how we collect, use, and protect your information.")),n.createElement("div",{className:"bg-white rounded-2xl shadow-soft border border-primary-100 p-8 mb-8"},n.createElement("h2",{className:"text-2xl font-bold text-primary-900 mb-6"},"11. Changes to Terms"),n.createElement("div",{className:"space-y-4 text-primary-700"},n.createElement("p",null,"We may update these Terms at any time:"),n.createElement("ul",{className:"space-y-2"},n.createElement("li",null,"â€¢ Changes will be posted on our website"),n.createElement("li",null,"â€¢ Continued use of our services means you accept the updated Terms"),n.createElement("li",null,"â€¢ We will notify users of significant changes via email")))),n.createElement("div",{className:"bg-white rounded-2xl shadow-soft border border-primary-100 p-8 mb-8"},n.createElement("h2",{className:"text-2xl font-bold text-primary-900 mb-6"},"12. Governing Law"),n.createElement("p",{className:"text-primary-700"},"These Terms are governed by the laws of Nigeria. Any disputes will be resolved under the jurisdiction of the courts in Lagos, Nigeria.")),n.createElement("div",{className:"bg-gradient-to-br from-primary-50 to-secondary-50 rounded-2xl p-8"},n.createElement("h2",{className:"text-2xl font-bold text-primary-900 mb-6"},"13. Contact Us"),n.createElement("p",{className:"text-primary-700 mb-6"},"If you have questions about these Terms, please contact us at:"),n.createElement("div",{className:"space-y-4"},n.createElement("div",{className:"flex items-center space-x-3"},n.createElement(u.maD,{className:"h-5 w-5 text-primary-600"}),n.createElement("span",{className:"text-primary-700"},"info@kingezekielacademy.com")),n.createElement("div",{className:"flex items-center space-x-3"},n.createElement(u.Cab,{className:"h-5 w-5 text-primary-600"}),n.createElement("span",{className:"text-primary-700"},"+234 810 169 2624")),n.createElement("div",{className:"flex items-center space-x-3"},n.createElement(u.vq8,{className:"h-5 w-5 text-primary-600"}),n.createElement("span",{className:"text-primary-700"},"Lagos, Nigeria")))))))},Lr=function(){const e=(0,i.c)(),t=e.isExpanded,r=e.isMobile;return n.createElement("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 via-white to-secondary-50"},n.createElement(te.A,null),n.createElement("div",{className:"".concat(r?"ml-16":t?"ml-64":"ml-16"," transition-all duration-300 ease-in-out")},n.createElement("div",{className:"pt-16"},n.createElement("div",{className:"max-w-4xl mx-auto px-3 sm:px-4 lg:px-8 py-8"},n.createElement("div",{className:"text-center mb-8 sm:mb-12"},n.createElement("div",{className:"inline-flex items-center justify-center w-16 h-16 sm:w-20 sm:h-20 bg-gradient-to-br from-primary-100 to-primary-200 rounded-full mb-4 sm:mb-6"},n.createElement(u.gt3,{className:"w-8 h-8 sm:w-10 sm:h-10 text-primary-600"})),n.createElement("h1",{className:"text-2xl sm:text-3xl lg:text-4xl xl:text-5xl font-bold text-secondary-900 mb-3 sm:mb-4"},"ðŸŽ“ Diploma Programs"),n.createElement("p",{className:"text-base sm:text-lg lg:text-xl text-secondary-600 max-w-2xl mx-auto px-2"},"Earn recognized diplomas in digital marketing, unlock advanced content, and track your professional development with our comprehensive diploma system designed for career growth.")),n.createElement("div",{className:"bg-gradient-to-r from-orange-400 to-pink-500 rounded-xl sm:rounded-2xl p-6 sm:p-8 mb-8 sm:mb-12 text-center text-white shadow-lg"},n.createElement("div",{className:"inline-flex items-center justify-center w-12 h-12 sm:w-16 sm:h-16 bg-white/20 rounded-full mb-3 sm:mb-4"},n.createElement(u.uoG,{className:"w-6 h-6 sm:w-8 sm:h-8"})),n.createElement("h2",{className:"text-2xl sm:text-3xl font-bold mb-2"},"Coming Soon!"),n.createElement("p",{className:"text-base sm:text-lg opacity-90"},"We're building an advanced diploma system. Get ready to earn professional certifications!")),n.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6 lg:gap-8 mb-8 sm:mb-12"},n.createElement("div",{className:"bg-white rounded-xl sm:rounded-2xl p-5 sm:p-6 lg:p-8 shadow-soft hover:shadow-glow transition-all duration-300 border border-primary-100"},n.createElement("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-br from-primary-100 to-primary-200 rounded-xl sm:rounded-2xl flex items-center justify-center mb-4 sm:mb-6"},n.createElement(u.SBv,{className:"w-6 h-6 sm:w-8 sm:h-8 text-primary-600"})),n.createElement("h3",{className:"text-lg sm:text-xl font-semibold text-secondary-900 mb-3 sm:mb-4"},"Progressive Advancement"),n.createElement("p",{className:"text-sm sm:text-base text-secondary-600 leading-relaxed"},"Start from the basics and gradually unlock more advanced content as you demonstrate mastery of each diploma program's requirements.")),n.createElement("div",{className:"bg-white rounded-xl sm:rounded-2xl p-5 sm:p-6 lg:p-8 shadow-soft hover:shadow-glow transition-all duration-300 border border-primary-100"},n.createElement("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-br from-secondary-100 to-secondary-200 rounded-xl sm:rounded-2xl flex items-center justify-center mb-4 sm:mb-6"},n.createElement(u.ZPX,{className:"w-6 h-6 sm:w-8 sm:h-8 text-secondary-600"})),n.createElement("h3",{className:"text-lg sm:text-xl font-semibold text-secondary-900 mb-3 sm:mb-4"},"Skill-Based Unlocking"),n.createElement("p",{className:"text-sm sm:text-base text-secondary-600 leading-relaxed"},"New diploma programs and content unlock based on your actual skill development, not just time spent, ensuring meaningful progression.")),n.createElement("div",{className:"bg-white rounded-xl sm:rounded-2xl p-5 sm:p-6 lg:p-8 shadow-soft hover:shadow-glow transition-all duration-300 border border-primary-100"},n.createElement("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-br from-green-100 to-green-200 rounded-xl sm:rounded-2xl flex items-center justify-center mb-4 sm:mb-6"},n.createElement(u.YYR,{className:"w-6 h-6 sm:w-8 sm:h-8 text-green-600"})),n.createElement("h3",{className:"text-lg sm:text-xl font-semibold text-secondary-900 mb-3 sm:mb-4"},"Performance Tracking"),n.createElement("p",{className:"text-sm sm:text-base text-secondary-600 leading-relaxed"},"Monitor your progress through each diploma program with detailed analytics, achievement tracking, and performance insights.")),n.createElement("div",{className:"bg-white rounded-xl sm:rounded-2xl p-5 sm:p-6 lg:p-8 shadow-soft hover:shadow-glow transition-all duration-300 border border-primary-100"},n.createElement("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-br from-purple-100 to-purple-200 rounded-xl sm:rounded-2xl flex items-center justify-center mb-4 sm:mb-6"},n.createElement(u.Hu1,{className:"w-6 h-6 sm:w-8 sm:h-8 text-purple-600"})),n.createElement("h3",{className:"text-lg sm:text-xl font-semibold text-secondary-900 mb-3 sm:mb-4"},"Recognition & Rewards"),n.createElement("p",{className:"text-sm sm:text-base text-secondary-600 leading-relaxed"},"Earn badges, achievements, and special access as you advance through diploma programs, celebrating your learning milestones and accomplishments."))),n.createElement("div",{className:"bg-white rounded-xl sm:rounded-2xl p-5 sm:p-6 lg:p-8 shadow-soft border border-primary-100 mb-8 sm:mb-12"},n.createElement("h3",{className:"text-xl sm:text-2xl font-bold text-secondary-900 mb-4 sm:mb-6 text-center"},"Diploma Types Preview"),n.createElement("div",{className:"grid gap-3 sm:gap-4"},[{type:"Beginner",name:"Foundation",description:"Basic concepts and fundamental skills",color:"from-green-100 to-green-200"},{type:"Intermediate",name:"Application",description:"Practical skills and real-world usage",color:"from-blue-100 to-blue-200"},{type:"Advanced",name:"Expertise",description:"Deep knowledge and advanced techniques",color:"from-purple-100 to-purple-200"},{type:"Master",name:"Leadership",description:"Strategic thinking and industry leadership",color:"from-orange-100 to-orange-200"}].map(function(e,t){return n.createElement("div",{key:t,className:"flex items-center space-x-3 sm:space-x-4 p-3 sm:p-4 rounded-lg sm:rounded-xl bg-gray-50 hover:bg-gray-100 transition-colors"},n.createElement("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-br ".concat(e.color," rounded-full flex items-center justify-center text-white font-bold text-xs sm:text-sm flex-shrink-0")},t+1),n.createElement("div",{className:"flex-1 min-w-0"},n.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center sm:space-x-3 space-y-1 sm:space-y-0"},n.createElement("span",{className:"font-semibold text-secondary-900 text-sm sm:text-base"},e.type),n.createElement("span",{className:"hidden sm:inline text-lg font-bold text-primary-600"},"â€¢"),n.createElement("span",{className:"font-medium text-secondary-700 text-sm sm:text-base"},e.name)),n.createElement("p",{className:"text-secondary-600 text-xs sm:text-sm"},e.description)))}))),n.createElement("div",{className:"text-center"},n.createElement("div",{className:"bg-gradient-to-r from-primary-500 to-secondary-500 rounded-xl sm:rounded-2xl p-6 sm:p-8 text-white shadow-lg"},n.createElement("h3",{className:"text-xl sm:text-2xl font-bold mb-3 sm:mb-4"},"ðŸš€ Diploma Progression Preview"),n.createElement("p",{className:"text-base sm:text-lg opacity-90 mb-6"},"See the incredible journey and rewards that await you as you advance through our diploma programs"),n.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6"},[{metric:"5",label:"Progressive Diplomas",description:"Foundation to Master"},{metric:"50+",label:"Unlockable Courses",description:"New content access"},{metric:"100+",label:"Achievement Badges",description:"Skill recognition"},{metric:"âˆž",label:"Growth Potential",description:"Unlimited advancement"}].map(function(e,t){return n.createElement("div",{key:t,className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20 hover:bg-white/20 transition-all duration-300"},n.createElement("div",{className:"text-2xl sm:text-3xl font-bold text-white mb-2"},e.metric),n.createElement("div",{className:"text-sm text-white/80 mb-1"},e.label),n.createElement("div",{className:"text-xs text-white/60"},e.description))})),n.createElement("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20"},n.createElement("div",{className:"text-sm text-white/80 mb-2"},"ðŸ’¡ What You'll Unlock:"),n.createElement("div",{className:"text-base font-semibold text-white"},"Advanced courses + Exclusive content + Skill recognition + ",n.createElement("span",{className:"text-yellow-300 font-bold"},"Career growth")),n.createElement("div",{className:"text-xs text-white/60 mt-2"},"*Coming soon - Start your courses now to be ready when diploma programs launch!"))))))))},Dr=function(){const e=(0,i.c)(),t=e.isExpanded,r=e.isMobile;return n.createElement("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 via-white to-secondary-50"},n.createElement(te.A,null),n.createElement("div",{className:"".concat(r?"ml-16":t?"ml-64":"ml-16"," transition-all duration-300 ease-in-out")},n.createElement("div",{className:"pt-16"},n.createElement("div",{className:"max-w-4xl mx-auto px-3 sm:px-4 lg:px-8 py-8"},n.createElement("div",{className:"text-center mb-8 sm:mb-12"},n.createElement("div",{className:"inline-flex items-center justify-center w-16 h-16 sm:w-20 sm:h-20 bg-gradient-to-br from-primary-100 to-primary-200 rounded-full mb-4 sm:mb-6"},n.createElement(u.YNd,{className:"w-8 h-8 sm:w-10 sm:h-10 text-primary-600"})),n.createElement("h1",{className:"text-2xl sm:text-3xl lg:text-4xl xl:text-5xl font-bold text-secondary-900 mb-3 sm:mb-4"},"ðŸŽ“ Certificates"),n.createElement("p",{className:"text-base sm:text-lg lg:text-xl text-secondary-600 max-w-2xl mx-auto px-2"},"Earn recognized credentials that showcase your expertise and advance your career. Our certificates are designed to be industry-relevant and employer-valued.")),n.createElement("div",{className:"bg-gradient-to-r from-blue-400 to-purple-500 rounded-xl sm:rounded-2xl p-6 sm:p-8 mb-8 sm:mb-12 text-center text-white shadow-lg"},n.createElement("div",{className:"inline-flex items-center justify-center w-12 h-12 sm:w-16 sm:h-16 bg-white/20 rounded-full mb-3 sm:mb-4"},n.createElement(u.Z0L,{className:"w-6 h-6 sm:w-8 sm:h-8"})),n.createElement("h2",{className:"text-2xl sm:text-3xl font-bold mb-2"},"Coming Soon!"),n.createElement("p",{className:"text-base sm:text-lg opacity-90"},"We're building a comprehensive certification system. Get ready to earn your credentials!")),n.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6 lg:gap-8 mb-8 sm:mb-12"},n.createElement("div",{className:"bg-white rounded-xl sm:rounded-2xl p-5 sm:p-6 lg:p-8 shadow-soft hover:shadow-glow transition-all duration-300 border border-primary-100"},n.createElement("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-br from-primary-100 to-primary-200 rounded-xl sm:rounded-2xl flex items-center justify-center mb-4 sm:mb-6"},n.createElement(u.veT,{className:"w-6 h-6 sm:w-8 sm:h-8 text-primary-600"})),n.createElement("h3",{className:"text-lg sm:text-xl font-semibold text-secondary-900 mb-3 sm:mb-4"},"Industry-Recognized Credentials"),n.createElement("p",{className:"text-sm sm:text-base text-secondary-600 leading-relaxed"},"Our certificates are designed in collaboration with industry experts and employers to ensure they carry real value in the job market.")),n.createElement("div",{className:"bg-white rounded-xl sm:rounded-2xl p-5 sm:p-6 lg:p-8 shadow-soft hover:shadow-glow transition-all duration-300 border border-primary-100"},n.createElement("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-br from-secondary-100 to-secondary-200 rounded-xl sm:rounded-2xl flex items-center justify-center mb-4 sm:mb-6"},n.createElement(u.gt3,{className:"w-6 h-6 sm:w-8 sm:h-8 text-secondary-600"})),n.createElement("h3",{className:"text-lg sm:text-xl font-semibold text-secondary-900 mb-3 sm:mb-4"},"Skill-Based Assessment"),n.createElement("p",{className:"text-sm sm:text-base text-secondary-600 leading-relaxed"},"Prove your expertise through practical assessments, real-world projects, and comprehensive evaluations that test actual skills, not just memorization.")),n.createElement("div",{className:"bg-white rounded-xl sm:rounded-2xl p-5 sm:p-6 lg:p-8 shadow-soft hover:shadow-glow transition-all duration-300 border border-primary-100"},n.createElement("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-br from-green-100 to-green-200 rounded-xl sm:rounded-2xl flex items-center justify-center mb-4 sm:mb-6"},n.createElement(u.A7C,{className:"w-6 h-6 sm:w-8 sm:h-8 text-green-600"})),n.createElement("h3",{className:"text-lg sm:text-xl font-semibold text-secondary-900 mb-3 sm:mb-4"},"Verifiable & Shareable"),n.createElement("p",{className:"text-sm sm:text-base text-secondary-600 leading-relaxed"},"All certificates include unique verification codes and can be easily shared on LinkedIn, resumes, and professional portfolios.")),n.createElement("div",{className:"bg-white rounded-xl sm:rounded-2xl p-5 sm:p-6 lg:p-8 shadow-soft hover:shadow-glow transition-all duration-300 border border-primary-100"},n.createElement("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-br from-purple-100 to-purple-200 rounded-xl sm:rounded-2xl flex items-center justify-center mb-4 sm:mb-6"},n.createElement(u.SBv,{className:"w-6 h-6 sm:w-8 sm:h-8 text-purple-600"})),n.createElement("h3",{className:"text-lg sm:text-xl font-semibold text-secondary-900 mb-3 sm:mb-4"},"Continuous Learning Path"),n.createElement("p",{className:"text-sm sm:text-base text-secondary-600 leading-relaxed"},"Certificates are part of a larger learning ecosystem, with advanced levels and specializations to keep you growing and competitive."))),n.createElement("div",{className:"bg-white rounded-xl sm:rounded-2xl p-5 sm:p-6 lg:p-8 shadow-soft border border-primary-100 mb-8 sm:mb-12"},n.createElement("h3",{className:"text-xl sm:text-2xl font-bold text-secondary-900 mb-4 sm:mb-6 text-center"},"Certificate Types Preview"),n.createElement("div",{className:"grid gap-3 sm:gap-4"},[{type:"Foundation",name:"Basic Skills",description:"Essential knowledge and fundamental competencies",color:"from-green-100 to-green-200"},{type:"Professional",name:"Advanced Skills",description:"Intermediate expertise and practical applications",color:"from-blue-100 to-blue-200"},{type:"Expert",name:"Specialized Skills",description:"Deep knowledge in specific domains and advanced techniques",color:"from-purple-100 to-purple-200"},{type:"Master",name:"Leadership Skills",description:"Strategic thinking and industry leadership capabilities",color:"from-orange-100 to-orange-200"}].map(function(e,t){return n.createElement("div",{key:t,className:"flex items-center space-x-3 sm:space-x-4 p-3 sm:p-4 rounded-lg sm:rounded-xl bg-gray-50 hover:bg-gray-100 transition-colors"},n.createElement("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-br ".concat(e.color," rounded-full flex items-center justify-center text-white font-bold text-xs sm:text-sm flex-shrink-0")},t+1),n.createElement("div",{className:"flex-1 min-w-0"},n.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center sm:space-x-3 space-y-1 sm:space-y-0"},n.createElement("span",{className:"font-semibold text-secondary-900 text-sm sm:text-base"},e.type),n.createElement("span",{className:"hidden sm:inline text-lg font-bold text-primary-600"},"â€¢"),n.createElement("span",{className:"font-medium text-secondary-700 text-sm sm:text-base"},e.name)),n.createElement("p",{className:"text-secondary-600 text-xs sm:text-sm"},e.description)))}))),n.createElement("div",{className:"text-center"},n.createElement("div",{className:"bg-gradient-to-r from-primary-500 to-secondary-500 rounded-xl sm:rounded-2xl p-6 sm:p-8 text-white"},n.createElement("h3",{className:"text-xl sm:text-2xl font-bold mb-3 sm:mb-4"},"ðŸ† Certification System Preview"),n.createElement("p",{className:"text-base sm:text-lg opacity-90 mb-6"},"See the prestigious credentials and recognition system that will boost your career"),n.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6"},[{metric:"4",label:"Certificate Levels",description:"Foundation to Master"},{metric:"100%",label:"Industry Recognized",description:"Employer approved"},{metric:"Verifiable",label:"Digital Badges",description:"LinkedIn ready"},{metric:"Global",label:"Recognition",description:"Worldwide acceptance"}].map(function(e,t){return n.createElement("div",{key:t,className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20 hover:bg-white/20 transition-all duration-300"},n.createElement("div",{className:"text-2xl sm:text-3xl font-bold text-white mb-2"},e.metric),n.createElement("div",{className:"text-sm text-white/80 mb-1"},e.label),n.createElement("div",{className:"text-xs text-white/60"},e.description))})),n.createElement("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20"},n.createElement("div",{className:"text-sm text-white/80 mb-2"},"ðŸ’¡ What You'll Achieve:"),n.createElement("div",{className:"text-base font-semibold text-white"},"Industry credentials + Skill validation + Career advancement + ",n.createElement("span",{className:"text-yellow-300 font-bold"},"Professional recognition")),n.createElement("div",{className:"text-xs text-white/60 mt-2"},"*Coming soon - Start your courses now to be ready when certifications launch!"))))))))},Rr=function(){const e=(0,i.c)(),t=e.isExpanded,r=e.isMobile;return n.createElement("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 via-white to-secondary-50"},n.createElement(te.A,null),n.createElement("div",{className:"".concat(r?"ml-16":t?"ml-64":"ml-16"," transition-all duration-300 ease-in-out")},n.createElement("div",{className:"pt-16"},n.createElement("div",{className:"max-w-4xl mx-auto px-3 sm:px-4 lg:px-8 py-8"},n.createElement("div",{className:"text-center mb-8 sm:mb-12"},n.createElement("div",{className:"inline-flex items-center justify-center w-16 h-16 sm:w-20 sm:h-20 bg-gradient-to-br from-primary-100 to-primary-200 rounded-full mb-4 sm:mb-6"},n.createElement(u.kkc,{className:"w-8 h-8 sm:w-10 sm:h-10 text-primary-600"})),n.createElement("h1",{className:"text-2xl sm:text-3xl lg:text-4xl xl:text-5xl font-bold text-secondary-900 mb-3 sm:mb-4"},"ðŸ§  Smart Assessments"),n.createElement("p",{className:"text-base sm:text-lg lg:text-xl text-secondary-600 max-w-2xl mx-auto px-2"},"Test your knowledge, track your progress, and identify areas for improvement with our intelligent assessment system designed for effective learning.")),n.createElement("div",{className:"bg-gradient-to-r from-green-400 to-blue-500 rounded-xl sm:rounded-2xl p-6 sm:p-8 mb-8 sm:mb-12 text-center text-white shadow-lg"},n.createElement("div",{className:"inline-flex items-center justify-center w-12 h-12 sm:w-16 sm:h-16 bg-white/20 rounded-full mb-3 sm:mb-4"},n.createElement(u.KuA,{className:"w-6 h-6 sm:w-8 sm:h-8"})),n.createElement("h2",{className:"text-2xl sm:text-3xl font-bold mb-2"},"Coming Soon!"),n.createElement("p",{className:"text-base sm:text-lg opacity-90"},"We're building an intelligent assessment platform. Get ready to test your knowledge!")),n.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6 lg:gap-8 mb-8 sm:mb-12"},n.createElement("div",{className:"bg-white rounded-xl sm:rounded-2xl p-5 sm:p-6 lg:p-8 shadow-soft hover:shadow-glow transition-all duration-300 border border-primary-100"},n.createElement("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-br from-primary-100 to-primary-200 rounded-xl sm:rounded-2xl flex items-center justify-center mb-4 sm:mb-6"},n.createElement(u.RBv,{className:"w-6 h-6 sm:w-8 sm:h-8 text-primary-600"})),n.createElement("h3",{className:"text-lg sm:text-xl font-semibold text-secondary-900 mb-3 sm:mb-4"},"Adaptive Testing"),n.createElement("p",{className:"text-sm sm:text-base text-secondary-600 leading-relaxed"},"Our AI-powered system adapts to your skill level, providing questions that challenge you appropriately and help you grow.")),n.createElement("div",{className:"bg-white rounded-xl sm:rounded-2xl p-5 sm:p-6 lg:p-8 shadow-soft hover:shadow-glow transition-all duration-300 border border-primary-100"},n.createElement("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-br from-secondary-100 to-secondary-200 rounded-xl sm:rounded-2xl flex items-center justify-center mb-4 sm:mb-6"},n.createElement(u.v$b,{className:"w-6 h-6 sm:w-8 sm:h-8 text-secondary-600"})),n.createElement("h3",{className:"text-lg sm:text-xl font-semibold text-secondary-900 mb-3 sm:mb-4"},"Progress Analytics"),n.createElement("p",{className:"text-sm sm:text-base text-secondary-600 leading-relaxed"},"Get detailed insights into your performance, identify knowledge gaps, and track your improvement over time with comprehensive analytics.")),n.createElement("div",{className:"bg-white rounded-xl sm:rounded-2xl p-5 sm:p-6 lg:p-8 shadow-soft hover:shadow-glow transition-all duration-300 border border-primary-100"},n.createElement("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-br from-green-100 to-green-200 rounded-xl sm:rounded-2xl flex items-center justify-center mb-4 sm:mb-6"},n.createElement(u.ZPX,{className:"w-6 h-6 sm:w-8 sm:h-8 text-green-600"})),n.createElement("h3",{className:"text-lg sm:text-xl font-semibold text-secondary-900 mb-3 sm:mb-4"},"Smart Feedback"),n.createElement("p",{className:"text-sm sm:text-base text-secondary-600 leading-relaxed"},"Receive personalized feedback on your answers, with explanations that help you understand concepts and learn from mistakes.")),n.createElement("div",{className:"bg-white rounded-xl sm:rounded-2xl p-5 sm:p-6 lg:p-8 shadow-soft hover:shadow-glow transition-all duration-300 border border-primary-100"},n.createElement("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-br from-purple-100 to-purple-200 rounded-xl sm:rounded-2xl flex items-center justify-center mb-4 sm:mb-6"},n.createElement(u.SBv,{className:"w-6 h-6 sm:w-8 sm:h-8 text-purple-600"})),n.createElement("h3",{className:"text-lg sm:text-xl font-semibold text-secondary-900 mb-3 sm:mb-4"},"Achievement System"),n.createElement("p",{className:"text-sm sm:text-base text-secondary-600 leading-relaxed"},"Earn badges, certificates, and recognition as you complete assessments and demonstrate mastery of different skills and topics."))),n.createElement("div",{className:"bg-white rounded-xl sm:rounded-2xl p-5 sm:p-6 lg:p-8 shadow-soft border border-primary-100 mb-8 sm:mb-12"},n.createElement("h3",{className:"text-xl sm:text-2xl font-bold text-secondary-900 mb-4 sm:mb-6 text-center"},"Assessment Types Preview"),n.createElement("div",{className:"grid gap-3 sm:gap-4"},[{type:"Quiz",name:"Knowledge Check",description:"Quick tests to reinforce learning and check understanding",color:"from-green-100 to-green-200"},{type:"Practice",name:"Skill Application",description:"Hands-on exercises to apply what you've learned",color:"from-blue-100 to-blue-200"},{type:"Project",name:"Real-world Tasks",description:"Practical projects that simulate real work scenarios",color:"from-purple-100 to-purple-200"},{type:"Final",name:"Comprehensive Test",description:"End-of-course assessments to validate complete mastery",color:"from-orange-100 to-orange-200"}].map(function(e,t){return n.createElement("div",{key:t,className:"flex items-center space-x-3 sm:space-x-4 p-3 sm:p-4 rounded-lg sm:rounded-xl bg-gray-50 hover:bg-gray-100 transition-colors"},n.createElement("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-br ".concat(e.color," rounded-full flex items-center justify-center text-white font-bold text-xs sm:text-sm flex-shrink-0")},t+1),n.createElement("div",{className:"flex-1 min-w-0"},n.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center sm:space-x-3 space-y-1 sm:space-y-0"},n.createElement("span",{className:"font-semibold text-secondary-900 text-sm sm:text-base"},e.type),n.createElement("span",{className:"hidden sm:inline text-lg font-bold text-primary-600"},"â€¢"),n.createElement("span",{className:"font-medium text-secondary-700 text-sm sm:text-base"},e.name)),n.createElement("p",{className:"text-secondary-600 text-xs sm:text-sm"},e.description)))}))),n.createElement("div",{className:"text-center"},n.createElement("div",{className:"bg-gradient-to-r from-primary-500 to-secondary-500 rounded-xl sm:rounded-2xl p-6 sm:p-8 text-white"},n.createElement("h3",{className:"text-xl sm:text-2xl font-bold mb-3 sm:mb-4"},"ðŸŽ¯ Assessment Platform Preview"),n.createElement("p",{className:"text-base sm:text-lg opacity-90 mb-6"},"See the powerful features that will revolutionize how you test and validate your skills"),n.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6"},[{metric:"AI",label:"Adaptive Testing",description:"Personalized questions"},{metric:"100+",label:"Question Types",description:"Multiple formats"},{metric:"Real-time",label:"Analytics",description:"Instant feedback"},{metric:"24/7",label:"Availability",description:"Test anytime"}].map(function(e,t){return n.createElement("div",{key:t,className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20 hover:bg-white/20 transition-all duration-300"},n.createElement("div",{className:"text-2xl sm:text-3xl font-bold text-white mb-2"},e.metric),n.createElement("div",{className:"text-sm text-white/80 mb-1"},e.label),n.createElement("div",{className:"text-xs text-white/60"},e.description))})),n.createElement("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20"},n.createElement("div",{className:"text-sm text-white/80 mb-2"},"ðŸ’¡ What You'll Experience:"),n.createElement("div",{className:"text-base font-semibold text-white"},"Personalized testing + Smart feedback + Progress tracking + ",n.createElement("span",{className:"text-yellow-300 font-bold"},"Skill validation")),n.createElement("div",{className:"text-xs text-white/60 mt-2"},"*Coming soon - Start your courses now to be ready when assessments launch!"))))))))},Mr=function(){const e=(0,i.c)(),t=e.isExpanded,r=e.isMobile;return n.createElement("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 via-white to-secondary-50"},n.createElement(te.A,null),n.createElement("div",{className:"".concat(r?"ml-16":t?"ml-64":"ml-16"," transition-all duration-300 ease-in-out")},n.createElement("div",{className:"pt-16"},n.createElement("div",{className:"max-w-4xl mx-auto px-3 sm:px-4 lg:px-8 py-8"},n.createElement("div",{className:"text-center mb-8 sm:mb-12"},n.createElement("div",{className:"inline-flex items-center justify-center w-16 h-16 sm:w-20 sm:h-20 bg-gradient-to-br from-primary-100 to-primary-200 rounded-full mb-4 sm:mb-6"},n.createElement(u.t69,{className:"w-8 h-8 sm:w-10 sm:h-10 text-primary-600"})),n.createElement("h1",{className:"text-2xl sm:text-3xl lg:text-4xl xl:text-5xl font-bold text-secondary-900 mb-3 sm:mb-4"},"ðŸ“„ Resume Builder"),n.createElement("p",{className:"text-base sm:text-lg lg:text-xl text-secondary-600 max-w-2xl mx-auto px-2"},"Create professional, ATS-optimized resumes that showcase your skills and experience. Stand out to employers with our intelligent resume builder and expert templates.")),n.createElement("div",{className:"bg-gradient-to-r from-indigo-400 to-purple-500 rounded-xl sm:rounded-2xl p-6 sm:p-8 mb-8 sm:mb-12 text-center text-white shadow-lg"},n.createElement("div",{className:"inline-flex items-center justify-center w-12 h-12 sm:w-16 sm:h-16 bg-white/20 rounded-full mb-3 sm:mb-4"},n.createElement(u.uO9,{className:"w-6 h-6 sm:w-8 sm:h-8"})),n.createElement("h2",{className:"text-2xl sm:text-3xl font-bold mb-2"},"Coming Soon!"),n.createElement("p",{className:"text-base sm:text-lg opacity-90"},"We're building an intelligent resume builder. Get ready to create winning resumes!")),n.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6 lg:gap-8 mb-8 sm:mb-12"},n.createElement("div",{className:"bg-white rounded-xl sm:rounded-2xl p-5 sm:p-6 lg:p-8 shadow-soft hover:shadow-glow transition-all duration-300 border border-primary-100"},n.createElement("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-br from-primary-100 to-primary-200 rounded-xl sm:rounded-2xl flex items-center justify-center mb-4 sm:mb-6"},n.createElement(u.Ny1,{className:"w-6 h-6 sm:w-8 sm:h-8 text-primary-600"})),n.createElement("h3",{className:"text-lg sm:text-xl font-semibold text-secondary-900 mb-3 sm:mb-4"},"ATS Optimization"),n.createElement("p",{className:"text-sm sm:text-base text-secondary-600 leading-relaxed"},"Our builder ensures your resume passes Applicant Tracking Systems with proper formatting, keywords, and structure that recruiters love.")),n.createElement("div",{className:"bg-white rounded-xl sm:rounded-2xl p-5 sm:p-6 lg:p-8 shadow-soft hover:shadow-glow transition-all duration-300 border border-primary-100"},n.createElement("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-br from-secondary-100 to-secondary-200 rounded-xl sm:rounded-2xl flex items-center justify-center mb-4 sm:mb-6"},n.createElement(u.WCW,{className:"w-6 h-6 sm:w-8 sm:h-8 text-secondary-600"})),n.createElement("h3",{className:"text-lg sm:text-xl font-semibold text-secondary-900 mb-3 sm:mb-4"},"Professional Templates"),n.createElement("p",{className:"text-sm sm:text-base text-secondary-600 leading-relaxed"},"Choose from industry-specific templates designed by HR professionals to maximize your chances of landing interviews.")),n.createElement("div",{className:"bg-white rounded-xl sm:rounded-2xl p-5 sm:p-6 lg:p-8 shadow-soft hover:shadow-glow transition-all duration-300 border border-primary-100"},n.createElement("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-br from-green-100 to-green-200 rounded-xl sm:rounded-2xl flex items-center justify-center mb-4 sm:mb-6"},n.createElement(u.QEs,{className:"w-6 h-6 sm:w-8 sm:h-8 text-green-600"})),n.createElement("h3",{className:"text-lg sm:text-xl font-semibold text-secondary-900 mb-3 sm:mb-4"},"LinkedIn Integration"),n.createElement("p",{className:"text-sm sm:text-base text-secondary-600 leading-relaxed"},"Seamlessly sync your LinkedIn profile data and maintain consistency across all your professional materials.")),n.createElement("div",{className:"bg-white rounded-xl sm:rounded-2xl p-5 sm:p-6 lg:p-8 shadow-soft hover:shadow-glow transition-all duration-300 border border-primary-100"},n.createElement("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-br from-purple-100 to-purple-200 rounded-xl sm:rounded-2xl flex items-center justify-center mb-4 sm:mb-6"},n.createElement(u.Zzu,{className:"w-6 h-6 sm:w-8 sm:h-8 text-purple-600"})),n.createElement("h3",{className:"text-lg sm:text-xl font-semibold text-secondary-900 mb-3 sm:mb-4"},"Multiple Formats"),n.createElement("p",{className:"text-sm sm:text-base text-secondary-600 leading-relaxed"},"Export your resume in multiple formats including PDF, Word, and plain text, ensuring compatibility with any application system."))),n.createElement("div",{className:"bg-white rounded-xl sm:rounded-2xl p-5 sm:p-6 lg:p-8 shadow-soft border border-primary-100 mb-8 sm:mb-12"},n.createElement("h3",{className:"text-xl sm:text-2xl font-bold text-secondary-900 mb-4 sm:mb-6 text-center"},"Resume Types Preview"),n.createElement("div",{className:"grid gap-3 sm:gap-4"},[{type:"Chronological",name:"Traditional",description:"Classic format highlighting work experience",color:"from-green-100 to-green-200"},{type:"Functional",name:"Skills-Based",description:"Emphasizes skills over work history",color:"from-blue-100 to-blue-200"},{type:"Combination",name:"Hybrid",description:"Balances skills and experience",color:"from-purple-100 to-purple-200"},{type:"Targeted",name:"Custom",description:"Tailored for specific job positions",color:"from-orange-100 to-orange-200"}].map(function(e,t){return n.createElement("div",{key:t,className:"flex items-center space-x-3 sm:space-x-4 p-3 sm:p-4 rounded-lg sm:rounded-xl bg-gray-50 hover:bg-gray-100 transition-colors"},n.createElement("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-br ".concat(e.color," rounded-full flex items-center justify-center text-white font-bold text-xs sm:text-sm flex-shrink-0")},t+1),n.createElement("div",{className:"flex-1 min-w-0"},n.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center sm:space-x-3 space-y-1 sm:space-y-0"},n.createElement("span",{className:"font-semibold text-secondary-900 text-sm sm:text-base"},e.type),n.createElement("span",{className:"hidden sm:inline text-lg font-bold text-primary-600"},"â€¢"),n.createElement("span",{className:"font-medium text-secondary-700 text-sm sm:text-base"},e.name)),n.createElement("p",{className:"text-secondary-600 text-xs sm:text-sm"},e.description)))}))),n.createElement("div",{className:"text-center"},n.createElement("div",{className:"bg-gradient-to-r from-primary-500 to-secondary-500 rounded-xl sm:rounded-2xl p-6 sm:p-8 text-white"},n.createElement("h3",{className:"text-xl sm:text-2xl font-bold mb-3 sm:mb-4"},"ðŸ“ Resume Builder Preview"),n.createElement("p",{className:"text-base sm:text-lg opacity-90 mb-6"},"See the powerful tools and features that will help you create resumes that get you hired"),n.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6"},[{metric:"ATS",label:"Optimized",description:"Pass tracking systems"},{metric:"20+",label:"Templates",description:"Professional designs"},{metric:"LinkedIn",label:"Integration",description:"Sync profile data"},{metric:"3+",label:"Formats",description:"PDF, Word, Text"}].map(function(e,t){return n.createElement("div",{key:t,className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20 hover:bg-white/20 transition-all duration-300"},n.createElement("div",{className:"text-2xl sm:text-3xl font-bold text-white mb-2"},e.metric),n.createElement("div",{className:"text-sm text-white/80 mb-1"},e.label),n.createElement("div",{className:"text-xs text-white/60"},e.description))})),n.createElement("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20"},n.createElement("div",{className:"text-sm text-white/80 mb-2"},"ðŸ’¡ What You'll Create:"),n.createElement("div",{className:"text-base font-semibold text-white"},"ATS-optimized resumes + Professional templates + LinkedIn sync + ",n.createElement("span",{className:"text-yellow-300 font-bold"},"Interview success")),n.createElement("div",{className:"text-xs text-white/60 mt-2"},"*Coming soon - Start your courses now to be ready when the resume builder launches!"))))))))},Br=function(){const e=(0,i.c)(),t=e.isExpanded,r=e.isMobile;return n.createElement("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 via-white to-secondary-50"},n.createElement(te.A,null),n.createElement("div",{className:"".concat(r?"ml-16":t?"ml-64":"ml-16"," transition-all duration-300 ease-in-out")},n.createElement("div",{className:"pt-16"},n.createElement("div",{className:"max-w-4xl mx-auto px-3 sm:px-4 lg:px-8 py-8"},n.createElement("div",{className:"text-center mb-8 sm:mb-12"},n.createElement("div",{className:"inline-flex items-center justify-center w-16 h-16 sm:w-20 sm:h-20 bg-gradient-to-br from-primary-100 to-primary-200 rounded-full mb-4 sm:mb-6"},n.createElement(u.uN,{className:"w-8 h-8 sm:w-10 sm:h-10 text-primary-600"})),n.createElement("h1",{className:"text-2xl sm:text-3xl lg:text-4xl xl:text-5xl font-bold text-secondary-900 mb-3 sm:mb-4"},"ðŸ’¬ Rooms: Q&A"),n.createElement("p",{className:"text-base sm:text-lg lg:text-xl text-secondary-600 max-w-2xl mx-auto px-2"},"Join topic-specific discussion rooms where learners ask questions, share insights, and collaborate with peers and mentors in real-time.")),n.createElement("div",{className:"bg-gradient-to-r from-teal-400 to-blue-500 rounded-xl sm:rounded-2xl p-6 sm:p-8 mb-8 sm:mb-12 text-center text-white shadow-lg"},n.createElement("div",{className:"inline-flex items-center justify-center w-12 h-12 sm:w-16 sm:h-16 bg-white/20 rounded-full mb-3 sm:mb-4"},n.createElement(u.YXz,{className:"w-6 h-6 sm:w-8 sm:h-8"})),n.createElement("h2",{className:"text-2xl sm:text-3xl font-bold mb-2"},"Coming Soon!"),n.createElement("p",{className:"text-base sm:text-lg opacity-90"},"We're building interactive Q&A rooms. Get ready to connect with learners worldwide!")),n.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6 lg:gap-8 mb-8 sm:mb-12"},n.createElement("div",{className:"bg-white rounded-xl sm:rounded-2xl p-5 sm:p-6 lg:p-8 shadow-soft hover:shadow-glow transition-all duration-300 border border-primary-100"},n.createElement("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-br from-primary-100 to-primary-200 rounded-xl sm:rounded-2xl flex items-center justify-center mb-4 sm:mb-6"},n.createElement(u.gZZ,{className:"w-6 h-6 sm:w-8 sm:h-8 text-primary-600"})),n.createElement("h3",{className:"text-lg sm:text-xl font-semibold text-secondary-900 mb-3 sm:mb-4"},"Topic-Specific Rooms"),n.createElement("p",{className:"text-sm sm:text-base text-secondary-600 leading-relaxed"},"Join rooms dedicated to specific subjects, technologies, or skill areas. Find answers from experts and learners who share your interests.")),n.createElement("div",{className:"bg-white rounded-xl sm:rounded-2xl p-5 sm:p-6 lg:p-8 shadow-soft hover:shadow-glow transition-all duration-300 border border-primary-100"},n.createElement("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-br from-secondary-100 to-secondary-200 rounded-xl sm:rounded-2xl flex items-center justify-center mb-4 sm:mb-6"},n.createElement(u.DDN,{className:"w-6 h-6 sm:w-8 sm:h-8 text-secondary-600"})),n.createElement("h3",{className:"text-lg sm:text-xl font-semibold text-secondary-900 mb-3 sm:mb-4"},"Mentor Support"),n.createElement("p",{className:"text-sm sm:text-base text-secondary-600 leading-relaxed"},"Get guidance from industry professionals and experienced learners. Mentors actively participate in discussions and provide expert advice.")),n.createElement("div",{className:"bg-white rounded-xl sm:rounded-2xl p-5 sm:p-6 lg:p-8 shadow-soft hover:shadow-glow transition-all duration-300 border border-primary-100"},n.createElement("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-br from-green-100 to-green-200 rounded-xl sm:rounded-2xl flex items-center justify-center mb-4 sm:mb-6"},n.createElement(u.ZPX,{className:"w-6 h-6 sm:w-8 sm:h-8 text-green-600"})),n.createElement("h3",{className:"text-lg sm:text-xl font-semibold text-secondary-900 mb-3 sm:mb-4"},"Real-Time Collaboration"),n.createElement("p",{className:"text-sm sm:text-base text-secondary-600 leading-relaxed"},"Engage in live discussions, share code snippets, and collaborate on projects. Build connections with learners who share your passion for growth.")),n.createElement("div",{className:"bg-white rounded-xl sm:rounded-2xl p-5 sm:p-6 lg:p-8 shadow-soft hover:shadow-glow transition-all duration-300 border border-primary-100"},n.createElement("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-br from-purple-100 to-purple-200 rounded-xl sm:rounded-2xl flex items-center justify-center mb-4 sm:mb-6"},n.createElement(u.uoG,{className:"w-6 h-6 sm:w-8 sm:h-8 text-purple-600"})),n.createElement("h3",{className:"text-lg sm:text-xl font-semibold text-secondary-900 mb-3 sm:mb-4"},"Learning Acceleration"),n.createElement("p",{className:"text-sm sm:text-base text-secondary-600 leading-relaxed"},"Accelerate your learning by asking questions, helping others, and participating in discussions that deepen your understanding of complex topics."))),n.createElement("div",{className:"bg-white rounded-xl sm:rounded-2xl p-5 sm:p-6 lg:p-8 shadow-soft border border-primary-100 mb-8 sm:mb-12"},n.createElement("h3",{className:"text-xl sm:text-2xl font-bold text-secondary-900 mb-4 sm:mb-6 text-center"},"Room Types Preview"),n.createElement("div",{className:"grid gap-3 sm:gap-4"},[{type:"General",name:"Learning Support",description:"General questions about courses, platform, and learning tips",color:"from-green-100 to-green-200"},{type:"Technical",name:"Code & Skills",description:"Programming questions, debugging help, and technical discussions",color:"from-blue-100 to-blue-200"},{type:"Career",name:"Professional Growth",description:"Career advice, job search tips, and industry insights",color:"from-purple-100 to-purple-200"},{type:"Project",name:"Collaboration",description:"Find team members, share projects, and get feedback",color:"from-orange-100 to-orange-200"}].map(function(e,t){return n.createElement("div",{key:t,className:"flex items-center space-x-3 sm:space-x-4 p-3 sm:p-4 rounded-lg sm:rounded-xl bg-gray-50 hover:bg-gray-100 transition-colors"},n.createElement("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-br ".concat(e.color," rounded-full flex items-center justify-center text-white font-bold text-xs sm:text-sm flex-shrink-0")},t+1),n.createElement("div",{className:"flex-1 min-w-0"},n.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center sm:space-x-3 space-y-1 sm:space-y-0"},n.createElement("span",{className:"font-semibold text-secondary-900 text-sm sm:text-base"},e.type),n.createElement("span",{className:"hidden sm:inline text-lg font-bold text-primary-600"},"â€¢"),n.createElement("span",{className:"font-medium text-secondary-700 text-sm sm:text-base"},e.name)),n.createElement("p",{className:"text-secondary-600 text-xs sm:text-sm"},e.description)))}))),n.createElement("div",{className:"text-center"},n.createElement("div",{className:"bg-gradient-to-r from-primary-500 to-secondary-500 rounded-xl sm:rounded-2xl p-6 sm:p-8 text-white"},n.createElement("h3",{className:"text-xl sm:text-2xl font-bold mb-3 sm:mb-4"},"ðŸŒŸ Community Impact Preview"),n.createElement("p",{className:"text-base sm:text-lg opacity-90 mb-6"},"See the incredible value you'll get from our interactive Q&A community"),n.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6"},[{metric:"100+",label:"Daily Questions",description:"Answered by experts"},{metric:"50+",label:"Active Mentors",description:"Industry professionals"},{metric:"24/7",label:"Support",description:"Round-the-clock help"},{metric:"1000+",label:"Learners",description:"Global community"}].map(function(e,t){return n.createElement("div",{key:t,className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20 hover:bg-white/20 transition-all duration-300"},n.createElement("div",{className:"text-2xl sm:text-3xl font-bold text-white mb-2"},e.metric),n.createElement("div",{className:"text-sm text-white/80 mb-1"},e.label),n.createElement("div",{className:"text-xs text-white/60"},e.description))})),n.createElement("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20"},n.createElement("div",{className:"text-sm text-white/80 mb-2"},"ðŸ’¡ What You'll Experience:"),n.createElement("div",{className:"text-base font-semibold text-white"},"Instant answers + Expert guidance + Global network + ",n.createElement("span",{className:"text-yellow-300 font-bold"},"Accelerated learning")),n.createElement("div",{className:"text-xs text-white/60 mt-2"},"*Coming soon - Start your courses now to be ready when rooms launch!"))))))))},Fr=function(){const e=(0,i.c)(),t=e.isExpanded,r=e.isMobile;return n.createElement("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 via-white to-secondary-50"},n.createElement(te.A,null),n.createElement("div",{className:"".concat(r?"ml-16":t?"ml-64":"ml-16"," transition-all duration-300 ease-in-out")},n.createElement("div",{className:"pt-16"},n.createElement("div",{className:"max-w-4xl mx-auto px-3 sm:px-4 lg:px-8 py-8"},n.createElement("div",{className:"text-center mb-8 sm:mb-12"},n.createElement("div",{className:"inline-flex items-center justify-center w-16 h-16 sm:w-20 sm:h-20 bg-gradient-to-br from-primary-100 to-primary-200 rounded-full mb-4 sm:mb-6"},n.createElement(u.DDN,{className:"w-8 h-8 sm:w-10 sm:h-10 text-primary-600"})),n.createElement("h1",{className:"text-2xl sm:text-3xl lg:text-4xl xl:text-5xl font-bold text-secondary-900 mb-3 sm:mb-4"},"ðŸ’° Affiliate Program"),n.createElement("p",{className:"text-base sm:text-lg lg:text-xl text-secondary-600 max-w-2xl mx-auto px-2"},"Earn NGN 1,000 per month for every subscribed referral you bring! Join our affiliate program and turn your network into a source of passive income for 12 months per referral.")),n.createElement("div",{className:"bg-gradient-to-r from-yellow-400 to-orange-500 rounded-xl sm:rounded-2xl p-6 sm:p-8 mb-8 sm:mb-12 text-center text-white shadow-lg"},n.createElement("div",{className:"inline-flex items-center justify-center w-12 h-12 sm:w-16 sm:h-16 bg-white/20 rounded-full mb-3 sm:mb-4"},n.createElement(u.Wp,{className:"w-6 h-6 sm:w-8 sm:h-8"})),n.createElement("h2",{className:"text-2xl sm:text-3xl font-bold mb-2"},"Coming Soon!"),n.createElement("p",{className:"text-base sm:text-lg opacity-90"},"We're building our affiliate platform. Get ready to start earning!")),n.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6 lg:gap-8 mb-8 sm:mb-12"},n.createElement("div",{className:"bg-white rounded-xl sm:rounded-2xl p-5 sm:p-6 lg:p-8 shadow-soft hover:shadow-glow transition-all duration-300 border border-primary-100"},n.createElement("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-br from-primary-100 to-primary-200 rounded-xl sm:rounded-2xl flex items-center justify-center mb-4 sm:mb-6"},n.createElement(u.YXz,{className:"w-6 h-6 sm:w-8 sm:h-8 text-primary-600"})),n.createElement("h3",{className:"text-lg sm:text-xl font-semibold text-secondary-900 mb-3 sm:mb-4"},"Referral Rewards"),n.createElement("p",{className:"text-sm sm:text-base text-secondary-600 leading-relaxed"},"Earn NGN 1,000 per month for every person you refer who subscribes to our platform. Your earnings continue for 12 months after each referral joins, as long as they stay subscribed.")),n.createElement("div",{className:"bg-white rounded-xl sm:rounded-2xl p-5 sm:p-6 lg:p-8 shadow-soft hover:shadow-glow transition-all duration-300 border border-primary-100"},n.createElement("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-br from-secondary-100 to-secondary-200 rounded-xl sm:rounded-2xl flex items-center justify-center mb-4 sm:mb-6"},n.createElement(u.YYR,{className:"w-6 h-6 sm:w-8 sm:h-8 text-secondary-600"})),n.createElement("h3",{className:"text-lg sm:text-xl font-semibold text-secondary-900 mb-3 sm:mb-4"},"Passive Income"),n.createElement("p",{className:"text-sm sm:text-base text-secondary-600 leading-relaxed"},"Build a sustainable income stream as your referrals stay subscribed to our platform. Earn NGN 1,000 monthly for each active referral, creating consistent passive income.")),n.createElement("div",{className:"bg-white rounded-xl sm:rounded-2xl p-5 sm:p-6 lg:p-8 shadow-soft hover:shadow-glow transition-all duration-300 border border-primary-100"},n.createElement("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-br from-green-100 to-green-200 rounded-xl sm:rounded-2xl flex items-center justify-center mb-4 sm:mb-6"},n.createElement(u.uoG,{className:"w-6 h-6 sm:w-8 sm:h-8 text-green-600"})),n.createElement("h3",{className:"text-lg sm:text-xl font-semibold text-secondary-900 mb-3 sm:mb-4"},"Easy Promotion"),n.createElement("p",{className:"text-sm sm:text-base text-secondary-600 leading-relaxed"},"Get unique referral links, marketing materials, and tracking tools. Promote our platform through your social networks and professional connections.")),n.createElement("div",{className:"bg-white rounded-xl sm:rounded-2xl p-5 sm:p-6 lg:p-8 shadow-soft hover:shadow-glow transition-all duration-300 border border-primary-100"},n.createElement("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-br from-purple-100 to-purple-200 rounded-xl sm:rounded-2xl flex items-center justify-center mb-4 sm:mb-6"},n.createElement(u.SBv,{className:"w-6 h-6 sm:w-8 sm:h-8 text-purple-600"})),n.createElement("h3",{className:"text-lg sm:text-xl font-semibold text-secondary-900 mb-3 sm:mb-4"},"Performance Bonuses"),n.createElement("p",{className:"text-sm sm:text-base text-secondary-600 leading-relaxed"},"Unlock additional bonuses and higher commission rates as you reach referral milestones. The sky's the limit for top performers!"))),n.createElement("div",{className:"bg-white rounded-xl sm:rounded-2xl p-5 sm:p-6 lg:p-8 shadow-soft border border-primary-100 mb-8 sm:mb-12"},n.createElement("h3",{className:"text-xl sm:text-2xl font-bold text-secondary-900 mb-4 sm:mb-6 text-center"},"How It Works"),n.createElement("div",{className:"grid gap-3 sm:gap-4"},[{step:"1",action:"Sign Up",description:"Join our affiliate program and get your unique referral link",color:"from-green-100 to-green-200"},{step:"2",action:"Share",description:"Share your referral link with friends, family, and professional network",color:"from-blue-100 to-blue-200"},{step:"3",action:"Earn",description:"Get NGN 1,000 monthly for each referral who subscribes",color:"from-purple-100 to-purple-200"},{step:"4",action:"Grow",description:"Continue earning monthly for 12 months as long as referrals stay subscribed",color:"from-orange-100 to-orange-200"}].map(function(e,t){return n.createElement("div",{key:t,className:"flex items-center space-x-3 sm:space-x-4 p-3 sm:p-4 rounded-lg sm:rounded-xl bg-gray-50 hover:bg-gray-100 transition-colors"},n.createElement("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-br ".concat(e.color," rounded-full flex items-center justify-center text-white font-bold text-xs sm:text-sm flex-shrink-0")},e.step),n.createElement("div",{className:"flex-1 min-w-0"},n.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center sm:space-x-3 space-y-1 sm:space-y-0"},n.createElement("span",{className:"font-semibold text-secondary-900 text-sm sm:text-base"},e.action),n.createElement("span",{className:"hidden sm:inline text-lg font-bold text-primary-600"},"â€¢"),n.createElement("span",{className:"font-medium text-secondary-700 text-sm sm:text-base"},e.description))))}))),n.createElement("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl sm:rounded-2xl p-5 sm:p-6 lg:p-8 border border-blue-200 mb-8 sm:mb-12"},n.createElement("div",{className:"text-center"},n.createElement("div",{className:"inline-flex items-center justify-center w-12 h-12 sm:w-16 sm:h-16 bg-blue-100 rounded-full mb-3 sm:mb-4"},n.createElement(u.YXz,{className:"w-6 h-6 sm:w-8 sm:h-8 text-blue-600"})),n.createElement("h3",{className:"text-lg sm:text-xl font-semibold text-blue-900 mb-2"},"Exclusive to Subscribers"),n.createElement("p",{className:"text-sm sm:text-base text-blue-700"},"Our affiliate program is exclusively available to subscribed users.",n.createElement("span",{className:"font-semibold"}," Earn NGN 1,000 monthly per referral")," while maintaining your own subscription."))),n.createElement("div",{className:"text-center"},n.createElement("div",{className:"bg-gradient-to-r from-primary-500 to-secondary-500 rounded-xl sm:rounded-2xl p-6 sm:p-8 text-white"},n.createElement("h3",{className:"text-xl sm:text-2xl font-bold mb-3 sm:mb-4"},"ðŸ’° Potential Earnings Calculator"),n.createElement("p",{className:"text-base sm:text-lg opacity-90 mb-6"},"See your potential monthly and annual earnings based on different referral numbers"),n.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4 mb-6"},[{referrals:"10",monthly:"NGN 10,000",annual:"NGN 120,000"},{referrals:"25",monthly:"NGN 25,000",annual:"NGN 300,000"},{referrals:"50",monthly:"NGN 50,000",annual:"NGN 600,000"},{referrals:"75",monthly:"NGN 75,000",annual:"NGN 900,000"},{referrals:"100",monthly:"NGN 100,000",annual:"NGN 1,200,000"}].map(function(e,t){return n.createElement("div",{key:t,className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20 hover:bg-white/20 transition-all duration-300"},n.createElement("div",{className:"text-2xl sm:text-3xl font-bold text-white mb-2"},e.referrals),n.createElement("div",{className:"text-sm text-white/80 mb-1"},"Referrals"),n.createElement("div",{className:"text-xs text-white/60 mb-2"},"Monthly: ",e.monthly),n.createElement("div",{className:"text-xs text-white/60"},"Annual: ",e.annual))})),n.createElement("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20"},n.createElement("div",{className:"text-sm text-white/80 mb-2"},"ðŸ’¡ Example Calculation:"),n.createElement("div",{className:"text-base font-semibold text-white"},"100 referrals Ã— NGN 1,000 Ã— 12 months = ",n.createElement("span",{className:"text-yellow-300 font-bold"},"NGN 1,200,000")),n.createElement("div",{className:"text-xs text-white/60 mt-2"},"*Only available to subscribed users who stay subscribed"))))))))},zr=r(3544);function Ur(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,s,l=[],i=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;i=!1}else for(;!(i=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{if(!i&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return qr(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?qr(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Wr=function(){const e=Ur(n.useState(null),2),t=e[0],a=e[1],c=Ur(n.useState(!0),2),u=c[0],g=c[1];return(0,n.useEffect)(function(){if(J(),"loading"===document.readyState&&document.addEventListener("DOMContentLoaded",J),window.addEventListener("load",J),"undefined"!=typeof window&&(window.FlutterwaveDisableFingerprinting=!0,window.FlutterwaveDisableTracking=!0,window.FlutterwaveDisableAnalytics=!0),"undefined"!=typeof window){const e=function(){const e=q(),t=W(),r=H(),n=K(),a=r||n&&e&&e<14;return{isSafari:t,isIOSSafari:V(),isInstagramBrowser:Y(),isFacebookBrowser:G(),isInAppBrowser:r,isSafariWebKit:n,isLimitedEnvironment:a,version:e,isOldSafari:X(),supportsOptionalChaining:!a&&(null===e||e>=14),supportsNullishCoalescing:!a&&(null===e||e>=14),supportsObjectFromEntries:!a&&(null===e||e>=14),supportsStringReplaceAll:!a&&(null===e||e>=13),supportsPromiseFinally:!a&&(null===e||e>=12),supportsRegexLookbehind:!a&&(null===e||e>=16),supportsURLPattern:!a&&(null===e||e>=15)}}();console.log("ðŸ” Browser Capabilities:",e),X()&&console.warn("âš ï¸ Old Safari detected - using compatibility mode")}!async function(){try{try{C.startMonitoring(),O.initialize()}catch(e){console.warn("Analytics initialization failed:",e)}try{(function(){try{return"undefined"!=typeof window&&"Notification"in window}catch(e){return!1}})()&&("granted"===Notification.permission?T.notificationService.initializeNotifications():"default"===Notification.permission&&setTimeout(async function(){"granted"===await Notification.requestPermission()&&T.notificationService.initializeNotifications()},3e3))}catch(e){console.warn("Notification initialization failed:",e)}try{const e=window.browserInfo;(null==e?void 0:e.supportsServiceWorker)||function(){try{return"undefined"!=typeof window&&"serviceWorker"in navigator}catch(e){return!1}}()&&(null==e||!e.isInApp)?(console.log("âœ… Registering service worker for regular browser"),await m()):console.log("ðŸš« Skipping service worker registration for in-app browser")}catch(e){console.warn("Service worker initialization failed:",e)}try{(await r.e(820).then(r.bind(r,820))).CourseScheduler.getInstance().startScheduler()}catch(e){console.warn("Course scheduler initialization failed:",e)}}catch(e){console.error("App initialization error:",e)}}();const e=setTimeout(function(){g(!1)},1e3);return function(){return clearTimeout(e)}},[]),(0,n.useEffect)(function(){const e=function(e){console.error("Global error caught:",e.error),a("An error occurred while loading the application. Please try refreshing the page.")},t=function(e){console.error("Unhandled promise rejection:",e.reason),a("An error occurred while loading the application. Please try refreshing the page.")};return window.addEventListener("error",e),window.addEventListener("unhandledrejection",t),function(){window.removeEventListener("error",e),window.removeEventListener("unhandledrejection",t)}},[]),(0,n.useEffect)(function(){const e=function(){const e=document.querySelector('meta[name="viewport"]');e&&e.setAttribute("content","width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"),90===window.orientation||-90===window.orientation?(document.body.classList.add("landscape-mode"),document.body.classList.remove("portrait-mode")):(document.body.classList.add("portrait-mode"),document.body.classList.remove("landscape-mode"))};return e(),window.addEventListener("orientationchange",e),window.addEventListener("resize",e),function(){window.removeEventListener("orientationchange",e),window.removeEventListener("resize",e)}},[]),u?n.createElement("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center"},n.createElement("div",{className:"text-center"},n.createElement("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-600 mx-auto mb-4"}),n.createElement("h1",{className:"text-2xl font-bold text-gray-900 mb-2"},"King Ezekiel Academy"),n.createElement("p",{className:"text-gray-600"},"Loading your learning experience..."),n.createElement("p",{className:"text-sm text-gray-500 mt-2"},"If this takes too long, please refresh the page"))):t?n.createElement("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-pink-100 flex items-center justify-center p-4"},n.createElement("div",{className:"max-w-md w-full bg-white rounded-xl shadow-lg p-8 text-center"},n.createElement("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4"},n.createElement("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"}))),n.createElement("h1",{className:"text-2xl font-bold text-gray-900 mb-4"},"King Ezekiel Academy"),n.createElement("p",{className:"text-gray-600 mb-6"},t),n.createElement("div",{className:"space-y-3"},n.createElement("button",{onClick:function(){return window.location.reload()},className:"w-full bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors"},"Refresh Page"),n.createElement("button",{onClick:function(){return a(null)},className:"w-full bg-gray-200 text-gray-800 px-6 py-3 rounded-lg hover:bg-gray-300 transition-colors"},"Try Again")),n.createElement("div",{className:"mt-6 text-sm text-gray-500"},n.createElement("p",null,"If the problem persists, please try:"),n.createElement("ul",{className:"mt-2 space-y-1"},n.createElement("li",null,"â€¢ Disabling browser extensions"),n.createElement("li",null,"â€¢ Using incognito/private mode"),n.createElement("li",null,"â€¢ Trying a different browser"),n.createElement("li",null,"â€¢ Checking your internet connection"))))):n.createElement(s.vd,null,n.createElement(N,null,n.createElement(l.O,null,n.createElement(i.G,null,function(){const e="undefined"!=typeof navigator?navigator.userAgent:"",t=/FBAN|FBAV|FBIOS|Instagram|wv\)/i.test(e)?o.I9:o.Kd;return n.createElement(t,null,n.createElement(d,null),n.createElement(v,null),n.createElement("div",{className:"App"},n.createElement(p,null),n.createElement("main",null,n.createElement(o.BV,null,n.createElement(o.qh,{path:"/",element:n.createElement($.A,null)}),n.createElement(o.qh,{path:"/courses",element:n.createElement(Ee,null)}),n.createElement(o.qh,{path:"/blog",element:n.createElement(_r,null)}),n.createElement(o.qh,{path:"/blog/:slug",element:n.createElement(Or,null)}),n.createElement(o.qh,{path:"/about",element:n.createElement(Se,null)}),n.createElement(o.qh,{path:"/contact",element:n.createElement(Re,null)}),n.createElement(o.qh,{path:"/privacy",element:n.createElement(Tr,null)}),n.createElement(o.qh,{path:"/terms",element:n.createElement(Ir,null)}),n.createElement(o.qh,{path:"/install",element:n.createElement(zr.A,null)}),n.createElement(o.qh,{path:"/signin",element:n.createElement(Me.A,null)}),n.createElement(o.qh,{path:"/signup",element:n.createElement(Be.A,null)}),n.createElement(o.qh,{path:"/forgot-password",element:n.createElement(qe,null)}),n.createElement(o.qh,{path:"/dashboard",element:n.createElement(b,null,n.createElement(Fe.A,null))}),n.createElement(o.qh,{path:"/profile",element:n.createElement(b,null,n.createElement(jt.A,null))}),n.createElement(o.qh,{path:"/achievements",element:n.createElement(b,null,n.createElement(Ut,null))}),n.createElement(o.qh,{path:"/subscription",element:n.createElement(b,null,n.createElement(mr,null))}),n.createElement(o.qh,{path:"/payment-verification",element:n.createElement(b,null,n.createElement(gr,null))}),n.createElement(o.qh,{path:"/dashboard-with-sidebar",element:n.createElement(b,null,n.createElement(pr,null))}),n.createElement(o.qh,{path:"/course/:id",element:n.createElement(b,null,n.createElement(fr.A,null))}),n.createElement(o.qh,{path:"/course/:id/overview",element:n.createElement(b,null,n.createElement(fr.A,null))}),n.createElement(o.qh,{path:"/course/:id/lesson/:lessonId",element:n.createElement(b,null,n.createElement(wr,null))}),n.createElement(o.qh,{path:"/course/:id/complete",element:n.createElement(b,null,n.createElement(Nr,null))}),n.createElement(o.qh,{path:"/diploma",element:n.createElement(b,null,n.createElement(Lr,null))}),n.createElement(o.qh,{path:"/certificates",element:n.createElement(b,null,n.createElement(Dr,null))}),n.createElement(o.qh,{path:"/assessments",element:n.createElement(b,null,n.createElement(Rr,null))}),n.createElement(o.qh,{path:"/resume",element:n.createElement(b,null,n.createElement(Mr,null))}),n.createElement(o.qh,{path:"/rooms",element:n.createElement(b,null,n.createElement(Br,null))}),n.createElement(o.qh,{path:"/affiliates",element:n.createElement(b,null,n.createElement(Fr,null))}),n.createElement(o.qh,{path:"/admin",element:n.createElement(y,null,n.createElement(Ye,null))}),n.createElement(o.qh,{path:"/admin/courses",element:n.createElement(y,null,n.createElement(et,null))}),n.createElement(o.qh,{path:"/admin/add-course",element:n.createElement(y,null,n.createElement($e,null))}),n.createElement(o.qh,{path:"/admin/edit-course/:id",element:n.createElement(y,null,n.createElement(st,null))}),n.createElement(o.qh,{path:"/admin/view-course/:id",element:n.createElement(y,null,n.createElement(ut,null))}),n.createElement(o.qh,{path:"/admin/blog",element:n.createElement(y,null,n.createElement(xt,null))}),n.createElement(o.qh,{path:"/admin/add-blog-post",element:n.createElement(y,null,n.createElement(_t,null))}),n.createElement(o.qh,{path:"/admin/view-blog-post/:id",element:n.createElement(y,null,n.createElement(Pt,null))}))),n.createElement(f,null)))}()))))};a.createRoot(document.getElementById("root")).render(n.createElement(n.StrictMode,null,n.createElement(Wr,null)))},5480:function(e,t,r){r.d(t,{Ck:function(){return o},Q0:function(){return a},qe:function(){return n}});const n=function(e){return{"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:e.map(function(e,t){return{"@type":"ListItem",position:t+1,name:e.name,item:e.url}})}},a=function(){return{"@context":"https://schema.org","@type":"EducationalOrganization",name:"King Ezekiel Academy",description:"Leading digital marketing education platform providing comprehensive courses and training for entrepreneurs and professionals.",url:"https://thekingezekielacademy.com",logo:{"@type":"ImageObject",url:"https://thekingezekielacademy.com/logo.png"},sameAs:["https://www.youtube.com/@kingezekielacademy","https://t.me/kingezekielacademy"],contactPoint:{"@type":"ContactPoint",telephone:"+234-XXX-XXX-XXXX",email:"info@thekingezekielacademy.com",contactType:"Customer Service"},address:{"@type":"PostalAddress",addressCountry:"Nigeria",addressLocality:"Lagos",addressRegion:"Lagos State"},founder:{"@type":"Person",name:"King Ezekiel",jobTitle:"CEO & Founder",description:"Digital Marketing Expert and Educator"},foundingDate:"2021",areaServed:["Nigeria","Africa","Worldwide"],serviceType:["Online Education","Digital Marketing Training","Business Coaching"],aggregateRating:{"@type":"AggregateRating",ratingValue:4.9,reviewCount:2500}}},o=function(){return{"@context":"https://schema.org","@type":"Person",name:"King Ezekiel",description:"Digital Marketing Expert, Educator, and Founder of King Ezekiel Academy. Specializing in digital marketing, e-commerce, and business growth strategies.",url:"https://thekingezekielacademy.com/about",jobTitle:"CEO & Founder, Digital Marketing Expert",worksFor:{"@type":"Organization",name:"King Ezekiel Academy",url:"https://thekingezekielacademy.com"},knowsAbout:["Digital Marketing","E-commerce","Business Growth","Online Education","Social Media Marketing","Content Marketing"],hasCredential:["Digital Marketing Certification","Business Management","Educational Leadership"],sameAs:["https://www.youtube.com/@kingezekielacademy","https://t.me/kingezekielacademy"],award:["Digital Marketing Expert of the Year 2023","Educational Leadership Award 2022"],honorificSuffix:"MBA"}}},5608:function(e,t,r){r.d(t,{N:function(){return s}});var n=r(1490);const a=process.env.REACT_APP_SUPABASE_URL||"https://evqerkqiquwxqlizdqmg.supabase.co",o=process.env.REACT_APP_SUPABASE_ANON_KEY||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImV2cWVya3FpcXV3eHFsaXpkcW1nIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ2NzE0NTUsImV4cCI6MjA3MDI0NzQ1NX0.0hoqOOvJzRFX6zskur2HixoIW2XfAP0fMBwTMGcd7kw";if(!a||!o)throw console.error("Missing Supabase environment variables"),new Error("Missing Supabase environment variables");const s=(0,n.UU)(a,o,{auth:{persistSession:!0,storageKey:"supabase-auth",autoRefreshToken:!0,detectSessionInUrl:!0,flowType:"pkce",storage:{getItem:function(e){try{return localStorage.getItem(e)||sessionStorage.getItem(e)}catch(t){return console.log("Storage access error, using sessionStorage:",t),sessionStorage.getItem(e)}},setItem:function(e,t){try{localStorage.setItem(e,t),sessionStorage.setItem(e,t)}catch(r){console.log("Storage write error, using sessionStorage only:",r),sessionStorage.setItem(e,t)}},removeItem:function(e){try{localStorage.removeItem(e),sessionStorage.removeItem(e)}catch(e){console.log("Storage remove error:",e)}}}},global:{headers:{"X-Client-Info":"king-ezekiel-academy",Accept:"application/json","Content-Type":"application/json"}},realtime:{params:{eventsPerSecond:10}},db:{schema:"public"}})},6352:function(e,t,r){r.d(t,{A:function(){return u},O:function(){return g}});var n=r(6540),a=r(5608),o=r(4307);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){i(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function i(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,s,l=[],i=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;i=!1}else for(;!(i=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{if(!i&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return m(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?m(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const d=(0,n.createContext)(void 0),u=function(){const e=(0,n.useContext)(d);if(void 0===e)throw new Error("useAuth must be used within an AuthProvider");return e},g=function(e){let t=e.children;const r=c((0,n.useState)(null),2),s=r[0],i=r[1],m=c((0,n.useState)(null),2),u=m[0],g=m[1],p=c((0,n.useState)(!0),2),f=p[0],b=p[1],h=c((0,n.useState)(!0),2),x=(h[0],h[1]),y=c((0,n.useState)(!1),2),v=y[0],E=y[1],w=c((0,n.useState)(null),2),N=w[0],k=w[1],S=(0,n.useRef)(null),_=(0,n.useRef)(!1),C=(0,n.useRef)(!1),A=(0,n.useRef)(0),P=(0,n.useCallback)(async function(e){if(!_.current){_.current=!0,b(!0);try{const s=await a.N.auth.getSession(),l=s.data;if(s.error||!l.session)return console.log("No valid session found during profile fetch"),i(null),E(!1),b(!1),x(!1),void(_.current=!1);let c=e;if(!c)try{var t;const e=(await a.N.auth.getSession()).data.session;c=null==e||null===(t=e.user)||void 0===t?void 0:t.id}catch(e){return console.error("Error getting session:",e),void b(!1)}if(!c)return void b(!1);const m=await a.N.from("profiles").select("*").eq("id",c).single(),d=m.data,u=m.error;if(u){var r,n,o;if(console.error("Error fetching profile:",u),console.error("Error details:",{code:u.code,message:u.message,details:u.details}),"PGRST303"===u.code||null!==(r=u.message)&&void 0!==r&&r.includes("JWT expired"))try{const t=await a.N.auth.refreshSession(),r=t.data,n=t.error;if(n)return console.error("Failed to refresh session:",n),await a.N.auth.signOut(),i(null),E(!1),void b(!1);if(r.session)return void setTimeout(function(){_.current&&(_.current=!1),j(e)},1e3)}catch(e){return console.error("Error during session refresh:",e),await a.N.auth.signOut(),i(null),E(!1),void b(!1)}if(null!==(n=u.message)&&void 0!==n&&n.includes("Failed to fetch")||null!==(o=u.message)&&void 0!==o&&o.includes("ERR_NAME_NOT_RESOLVED")){if(A.current+=1,console.log("Network connectivity issue detected (attempt ".concat(A.current,"/").concat(3,"), will retry in 5 seconds...")),A.current<3)return void setTimeout(function(){_.current&&(_.current=!1),j(e)},5e3);console.log("Max network retries reached, attempting fallback for admin users...");try{const e=JSON.parse(localStorage.getItem("user_profile")||"null");if(e&&"admin"===e.role)return console.log("Using fallback admin user from localStorage"),i(e),E(!0),b(!1),x(!1),void(_.current=!1)}catch(e){console.error("Fallback user retrieval failed:",e)}}return u.code,void b(!1)}i(d);try{localStorage.setItem("user_profile",JSON.stringify(d))}catch(e){console.warn("Failed to store user profile in localStorage:",e)}const g="admin"===d.role;E(g),A.current=0,b(!1),x(!1)}catch(e){console.error("Error fetching profile:",e),console.error("Full error object:",e),b(!1),x(!1)}finally{_.current=!1}}},[]),j=(0,n.useCallback)(function(e){S.current&&clearTimeout(S.current),_.current||(S.current=setTimeout(function(){P(e)},300))},[P]);(0,n.useEffect)(function(){!async function(){if(!C.current){C.current=!0;try{const e=(await a.N.auth.getSession()).data.session;if(null!=e&&e.user&&!s){const t=e.expires_at;if(t-Math.floor(Date.now()/1e3)<300)try{const e=await a.N.auth.refreshSession(),t=e.data,r=e.error;r?console.error("Failed to refresh session:",r):t.session}catch(e){console.error("Error during proactive session refresh:",e)}j(e.user.id)}else null!=e&&e.user,b(!1),x(!1)}catch(e){console.error("Error checking initial session:",e),b(!1),x(!1)}}}();const e=a.N.auth.onAuthStateChange(async function(e,t){"SIGNED_IN"===e?null==t||!t.user||_.current||s||j(t.user.id):"TOKEN_REFRESHED"===e?(g(t),null==t||!t.user||_.current||s?null!=t&&t.user&&s&&g(t):j(t.user.id)):"SIGNED_OUT"===e&&(i(null),E(!1),b(!1),x(!1),_.current=!1,C.current=!1,N&&N())}),t=e.data.subscription;return function(){t.unsubscribe(),S.current&&clearTimeout(S.current)}},[N,j,s]);const O={user:s,session:u,loading:f,isAdmin:v,signUp:async function(e,t,r){const n=await a.N.auth.signUp({email:e,password:t,options:{data:{name:r}}}),s=n.data,l=n.error;if(s.user&&!l){await new Promise(function(e){return setTimeout(e,1e3)});const t=(await a.N.rpc("create_profile",{p_id:s.user.id,p_name:r,p_email:e,p_bio:null,p_role:"student"})).error;if(t)console.error("Error creating profile:",t);else try{await o.A.initializeTrial(s.user.id)}catch(e){console.error("Failed to initialize trial:",e)}}return{user:s.user,session:s.session,error:l}},signIn:async function(e,t){try{const r=await a.N.auth.getSession(),n=(r.data,r.error);if(n)return console.error("âŒ Supabase connection test failed before signin:",n.message),{user:null,session:null,error:n};try{localStorage.removeItem("supabase-auth-token"),sessionStorage.removeItem("supabase-auth-token")}catch(e){console.log("Could not clear cached auth data:",e)}const o=await a.N.auth.signInWithPassword({email:e,password:t}),s=o.data,l=o.error;return s.user&&!l&&g(s.session),{user:s.user,session:s.session,error:l}}catch(e){return console.error("âŒ Unexpected error during signin:",e),{user:null,session:null,error:null}}},signOut:async function(){await a.N.auth.signOut(),i(null),g(null),E(!1),N&&N()},fetchProfile:P,updateProfile:async function(e){if(!s)return{error:null};const t=(await a.N.from("profiles").update(e).eq("id",s.id)).error;return t||i(l(l({},s),e)),{error:t}},resetPassword:async function(e){return{error:(await a.N.auth.resetPasswordForEmail(e)).error}},onSignOut:N,setOnSignOut:k};return n.createElement(d.Provider,{value:O},t)}},7372:function(e,t,r){function n(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.r(t),r.d(t,{NotificationService:function(){return a},notificationService:function(){return o}});class a{constructor(){n(this,"permission","default"),n(this,"isSupported",!1),this.isSupported="Notification"in window&&"serviceWorker"in navigator,this.permission=Notification.permission}static getInstance(){return a.instance||(a.instance=new a),a.instance}async requestPermission(){if(!this.isSupported)return console.log("Notifications not supported"),!1;if("granted"===this.permission)return!0;try{return this.permission=await Notification.requestPermission(),"granted"===this.permission}catch(e){return console.error("Error requesting notification permission:",e),!1}}isNotificationEnabled(){const e="Notification"in window?Notification.permission:"denied";return this.isSupported&&"granted"===e}async sendNotification(e){if(this.isNotificationEnabled())try{const t=await navigator.serviceWorker.ready;await t.showNotification(e.title,{body:e.body,icon:e.icon||"/favicon.svg",badge:e.badge||"/favicon.svg",image:e.image,tag:e.tag,requireInteraction:e.requireInteraction||!1,actions:e.actions||[],data:e.data||{},vibrate:[200,100,200],timestamp:Date.now()})}catch(e){console.error("Error sending notification:",e)}else console.log("Notifications not enabled")}async sendStreakReminder(e){const t=new Date,r=0===t.getDay()||6===t.getDay(),n=["ðŸ”¥ You're on a ".concat(e,"-day learning streak! Keep it going this evening!"),"ðŸ“š Day ".concat(e," of your learning streak - don't break it now!"),"ðŸŽ¯ ".concat(e," days strong! Continue your learning journey this evening."),"ðŸ’ª Your ".concat(e,"-day streak is impressive! Learn something new tonight."),"ðŸŒŸ ".concat(e," days of dedication! Evening learning time!"),"âš¡ ".concat(e," days strong! Power up your evening with learning!")],a=["ðŸ”¥ You're on a ".concat(e,"-day learning streak! Perfect weekend to keep it going!"),"ðŸ“š Day ".concat(e," of your learning streak - weekend learning time!"),"ðŸŽ¯ ".concat(e," days strong! Continue your learning journey this afternoon."),"ðŸ’ª Your ".concat(e,"-day streak is impressive! Weekend learning session!"),"ðŸŒŸ ".concat(e," days of dedication! Afternoon learning time!"),"âš¡ ".concat(e," days strong! Weekend learning power!")],o=r?a:n,s=o[Math.floor(Math.random()*o.length)];await this.sendNotification({title:r?"ðŸ”¥ Weekend Streak Time!":"ðŸ”¥ Evening Streak Reminder",body:s,tag:"streak-reminder",requireInteraction:!0,actions:[{action:"continue",title:"Continue Learning"},{action:"dismiss",title:"Later"}]})}async sendDailyLearningReminder(){const e=new Date,t=0===e.getDay()||6===e.getDay(),r=t?["ðŸ“š Perfect afternoon for some learning!","ðŸŽ¯ Weekend learning time - let's do this!","ðŸ’¡ Relax and learn something new this afternoon!","ðŸš€ Your weekend learning adventure awaits!","ðŸ“– Make the most of your weekend with King Ezekiel Academy!","ðŸŒŸ Afternoon learning session - perfect timing!","âš¡ Weekend learning power - let's go!"]:["ðŸ“š Ready to continue your learning journey this evening?","ðŸŽ¯ Time for your daily dose of knowledge!","ðŸ’¡ Let's learn something new today!","ðŸš€ Your next lesson is waiting for you!","ðŸ“– Keep building your skills with King Ezekiel Academy!","ðŸŒŸ Evening learning session - let's make it count!","âš¡ Power up your evening with some learning!"],n=r[Math.floor(Math.random()*r.length)];await this.sendNotification({title:t?"Weekend Learning Time!":"Evening Learning Reminder",body:n,tag:"daily-reminder",requireInteraction:!0,actions:[{action:"learn",title:"Start Learning"},{action:"dismiss",title:"Not Today"}]})}async sendXPLevelUpNotification(e,t){await this.sendNotification({title:"ðŸŽ‰ Level Up!",body:"Congratulations! You've reached Level ".concat(e," and gained ").concat(t," XP!"),tag:"level-up",requireInteraction:!0,actions:[{action:"view",title:"View Progress"},{action:"continue",title:"Keep Learning"}],data:{newLevel:e,xpGained:t,type:"level-up"}})}async sendCourseContinuationReminder(e,t,r){await this.sendNotification({title:"ðŸ“– Continue Learning",body:"You're ".concat(t,'% through "').concat(e,'" - pick up where you left off!'),tag:"course-continuation",requireInteraction:!0,actions:[{action:"continue",title:"Continue Course"},{action:"dismiss",title:"Later"}],data:{courseId:r,courseTitle:e,progress:t}})}async sendNewCourseNotification(e,t,r){await this.sendNotification({title:"ðŸ†• New Course Available!",body:'"'.concat(e,'" in ').concat(t," is now available. Start learning today!"),tag:"new-course",requireInteraction:!0,actions:[{action:"view",title:"View Course"},{action:"dismiss",title:"Not Interested"}],data:{courseId:r,courseTitle:e,category:t}})}async sendTopCoursesNotification(e,t){await this.sendNotification({title:"ðŸŒŸ Trending Course",body:'"'.concat(e,'" is being watched by ').concat(t,"+ students. Join them!"),tag:"trending-course",requireInteraction:!0,actions:[{action:"view",title:"View Course"},{action:"dismiss",title:"Not Now"}]})}async sendCourseSuggestion(e,t,r){await this.sendNotification({title:"ðŸ’¡ Course Suggestion",body:'Based on your interests: "'.concat(e,'" - ').concat(t),tag:"course-suggestion",requireInteraction:!0,actions:[{action:"view",title:"View Course"},{action:"dismiss",title:"Not Interested"}],data:{courseId:r,courseTitle:e,reason:t}})}async sendCourseScheduledNotification(e,t,r){await this.sendNotification({title:"ðŸ“… New Course Scheduled!",body:'"'.concat(e,'" is scheduled to be published on ').concat(new Date(t).toLocaleDateString(),". Get ready to learn!"),tag:"course-scheduled",requireInteraction:!0,actions:[{action:"view",title:"View Course"},{action:"dismiss",title:"Later"}],data:{courseId:r,courseTitle:e,scheduledDate:t,type:"course-scheduled"}})}async sendCourseAvailableNotification(e,t){await this.sendNotification({title:"ðŸŽ‰ Course Now Available!",body:'"'.concat(e,'" is now live and ready for you to start learning!'),tag:"course-available",requireInteraction:!0,actions:[{action:"continue",title:"Start Learning"},{action:"view",title:"View Course"}],data:{courseId:t,courseTitle:e,type:"course-available"}})}async sendCourseReminderNotification(e,t,r){const n=t<24?"".concat(t," hours"):"".concat(Math.floor(t/24)," days");await this.sendNotification({title:"â° Course Starting Soon!",body:'"'.concat(e,'" will be available in ').concat(n,". Don't miss out!"),tag:"course-reminder",requireInteraction:!0,actions:[{action:"view",title:"View Course"},{action:"dismiss",title:"Later"}],data:{courseId:r,courseTitle:e,hoursUntil:t,type:"course-reminder"}})}async sendPopularCourseRecommendation(e,t,r){await this.sendNotification({title:"ðŸ”¥ Popular Course Alert!",body:'"'.concat(e,'" in ').concat(t," has ").concat(r,"+ students. Don't miss out!"),tag:"popular-course",requireInteraction:!0,actions:[{action:"view",title:"View Course"},{action:"dismiss",title:"Not Now"}]})}async sendCategoryCourseRecommendation(e,t){await this.sendNotification({title:"ðŸ“š Recommended for You",body:"Since you're interested in ".concat(t,', check out "').concat(e,'"!'),tag:"category-recommendation",requireInteraction:!0,actions:[{action:"view",title:"View Course"},{action:"dismiss",title:"Not Interested"}]})}async sendSkillProgressionRecommendation(e,t,r){await this.sendNotification({title:"ðŸš€ Ready to Level Up?",body:"You've mastered ".concat(t,'! Try "').concat(e,'" - ').concat(r," level course"),tag:"skill-progression",requireInteraction:!0,actions:[{action:"view",title:"View Course"},{action:"dismiss",title:"Not Ready"}]})}async sendTrendingCourseRecommendation(e,t){await this.sendNotification({title:"ðŸ“ˆ Trending Now",body:'"'.concat(e,'" in ').concat(t," is trending this week. Join the learning wave!"),tag:"trending-recommendation",requireInteraction:!0,actions:[{action:"view",title:"View Course"},{action:"dismiss",title:"Not Now"}]})}async sendCompletionBasedRecommendation(e,t){await this.sendNotification({title:"ðŸŽ¯ Perfect Next Step!",body:'Since you completed "'.concat(t,'", you\'ll love "').concat(e,'"!'),tag:"completion-recommendation",requireInteraction:!0,actions:[{action:"view",title:"View Course"},{action:"dismiss",title:"Not Interested"}]})}async sendBeginnerCourseRecommendation(e,t){await this.sendNotification({title:"ðŸŒ± Perfect for Beginners",body:'"'.concat(e,'" in ').concat(t," is great for starting your learning journey!"),tag:"beginner-recommendation",requireInteraction:!0,actions:[{action:"view",title:"View Course"},{action:"dismiss",title:"Not Now"}]})}async sendAdvancedCourseRecommendation(e,t){await this.sendNotification({title:"âš¡ Advanced Challenge",body:'Ready for a challenge? Try "'.concat(e,'" in ').concat(t," - Advanced level!"),tag:"advanced-recommendation",requireInteraction:!0,actions:[{action:"view",title:"View Course"},{action:"dismiss",title:"Not Ready"}]})}async sendNewFeatureNotification(e,t){await this.sendNotification({title:"âœ¨ New Feature!",body:"".concat(e,": ").concat(t),tag:"new-feature",requireInteraction:!0,actions:[{action:"explore",title:"Explore Feature"},{action:"dismiss",title:"Later"}]})}async sendBadgeEarnedNotification(e,t){await this.sendNotification({title:"ðŸ† Badge Earned!",body:'You earned the "'.concat(e,'" badge: ').concat(t),tag:"badge-earned",requireInteraction:!0,actions:[{action:"view",title:"View Badge"},{action:"share",title:"Share Achievement"}]})}async sendCourseCompletionNotification(e){await this.sendNotification({title:"ðŸŽ“ Course Completed!",body:"Congratulations! You've completed \"".concat(e,'". Ready for the next challenge?'),tag:"course-completed",requireInteraction:!0,actions:[{action:"certificate",title:"View Certificate"},{action:"next",title:"Find Next Course"}]})}async sendPremiumUpgradePrompt(e){await this.sendNotification({title:"â­ Upgrade to Premium",body:"Unlock ".concat(e," and get unlimited access to all courses!"),tag:"premium-upgrade",requireInteraction:!0,actions:[{action:"upgrade",title:"Upgrade Now"},{action:"dismiss",title:"Not Now"}]})}async sendTrialExpirationWarning(e){const t=e<=1?"âš ï¸":"â°";await this.sendNotification({title:"".concat(t," Trial Expiring Soon"),body:"Your free trial ends in ".concat(e," day").concat(1===e?"":"s",". Upgrade to continue learning!"),tag:"trial-expiration",requireInteraction:!0,actions:[{action:"upgrade",title:"Upgrade Now"},{action:"extend",title:"Extend Trial"}]})}async sendSubscriptionRenewalReminder(e){await this.sendNotification({title:"ðŸ”„ Subscription Renewal",body:"Your subscription renews in ".concat(e," days. Keep your learning streak going!"),tag:"subscription-renewal",requireInteraction:!0,actions:[{action:"manage",title:"Manage Subscription"},{action:"dismiss",title:"Remind Later"}]})}async sendWeeklyGoalReminder(e,t){const r=Math.round(e/t*100);await this.sendNotification({title:"ðŸ“Š Weekly Goal Progress",body:"You're ".concat(r,"% towards your weekly learning goal (").concat(e,"/").concat(t," lessons)"),tag:"weekly-goal",requireInteraction:!0,actions:[{action:"continue",title:"Continue Learning"},{action:"view",title:"View Progress"}]})}async sendCommunityHighlight(e){await this.sendNotification({title:"ðŸ‘¥ Community Update",body:e,tag:"community-highlight",requireInteraction:!1,actions:[{action:"view",title:"View Community"}]})}async sendOptimalLearningTimeReminder(){await this.sendNotification({title:"â° Perfect Learning Time",body:"This is your most productive learning time! Ready to learn something new?",tag:"optimal-time",requireInteraction:!0,actions:[{action:"learn",title:"Start Learning"},{action:"dismiss",title:"Not Now"}]})}async sendDifficultyProgressionNotification(e,t){await this.sendNotification({title:"ðŸš€ Ready for the Next Level?",body:"You've mastered the basics! Try \"".concat(e,'" - ').concat(t," level course"),tag:"difficulty-progression",requireInteraction:!0,actions:[{action:"view",title:"View Course"},{action:"dismiss",title:"Not Ready"}]})}async sendSocialProofNotification(e,t){await this.sendNotification({title:"ðŸŒŸ Join the Community",body:"".concat(e,'+ students are learning "').concat(t,"\" right now. Don't miss out!"),tag:"social-proof",requireInteraction:!0,actions:[{action:"join",title:"Join Them"},{action:"dismiss",title:"Not Interested"}]})}async scheduleNotification(e,t){var r=this;setTimeout(function(){r.sendNotification(e)},t)}scheduleDailyReminder(){var e=this;const t=new Date,r=0===t.getDay()||6===t.getDay(),n=r?14:18,a=new Date;a.setHours(n,0,0,0),a<=t&&a.setDate(a.getDate()+1);const o=a.getTime()-t.getTime();console.log("ðŸ“… Scheduled daily reminder for ".concat(r?"weekend":"weekday"," at ").concat(n,":00")),setTimeout(function(){e.sendDailyLearningReminder(),e.scheduleDailyReminder()},o)}scheduleStreakReminder(){var e=this;const t=new Date,r=0===t.getDay()||6===t.getDay(),n=r?15:20,a=new Date;a.setHours(n,0,0,0),a<=t&&a.setDate(a.getDate()+1);const o=a.getTime()-t.getTime();console.log("ðŸ”¥ Scheduled streak reminder for ".concat(r?"weekend":"weekday"," at ").concat(n,":00")),setTimeout(function(){const t=parseInt(localStorage.getItem("learning_streak")||"0");t>0&&e.sendStreakReminder(t),e.scheduleStreakReminder()},o)}scheduleCourseReminders(){var e=this;const t=new Date,r=0===t.getDay()||6===t.getDay(),n=r?16:19,a=new Date;a.setHours(n,0,0,0),a<=t&&a.setDate(a.getDate()+1);const o=a.getTime()-t.getTime();console.log("ðŸ“š Scheduled course reminders for ".concat(r?"weekend":"weekday"," at ").concat(n,":00")),setTimeout(function(){e.checkAndSendCourseReminders(),e.scheduleCourseReminders()},o)}scheduleCourseRecommendations(){var e=this;const t=new Date,r=0===t.getDay()||6===t.getDay(),n=r?17:20,a=new Date;a.setHours(n,0,0,0),a<=t&&a.setDate(a.getDate()+1);const o=a.getTime()-t.getTime();console.log("ðŸ’¡ Scheduled course recommendations for ".concat(r?"weekend":"weekday"," at ").concat(n,":00")),setTimeout(function(){e.checkAndSendCourseRecommendations(),e.scheduleCourseRecommendations()},o)}async checkAndSendCourseReminders(){try{const e=JSON.parse(localStorage.getItem("current_course")||"{}");if(e&&e.progress>0&&e.progress<100){const t=localStorage.getItem("last_accessed_".concat(e.id));t&&(Date.now()-parseInt(t))/36e5>24&&await this.sendCourseContinuationReminder(e.title,e.progress)}}catch(e){console.error("Error checking course reminders:",e)}}async checkAndSendCourseRecommendations(){try{const e=JSON.parse(localStorage.getItem("user_stats")||'{"level": 1, "completedCourses": []}'),t=(JSON.parse(localStorage.getItem("current_course")||"{}"),JSON.parse(localStorage.getItem("enrolled_courses")||"[]"),["popular","category","trending","beginner","advanced","completion"]),r=t[Math.floor(Math.random()*t.length)],n=[{title:"AI TOOLS EXPLAINED - FOR BEGINNERS",category:"AI & Technology",level:"Beginner"},{title:"DIGITAL MARKETING MASTERY",category:"Marketing",level:"Intermediate"},{title:"WEB DEVELOPMENT FUNDAMENTALS",category:"Programming",level:"Beginner"},{title:"DATA SCIENCE ESSENTIALS",category:"Data Science",level:"Advanced"},{title:"BUSINESS STRATEGY & PLANNING",category:"Business",level:"Intermediate"},{title:"CYBERSECURITY BASICS",category:"Security",level:"Beginner"}],a=n[Math.floor(Math.random()*n.length)];switch(r){case"popular":await this.sendPopularCourseRecommendation(a.title,a.category,Math.floor(5e3*Math.random())+1e3);break;case"category":await this.sendCategoryCourseRecommendation(a.title,a.category);break;case"trending":await this.sendTrendingCourseRecommendation(a.title,a.category);break;case"beginner":"Beginner"===a.level&&await this.sendBeginnerCourseRecommendation(a.title,a.category);break;case"advanced":"Advanced"===a.level&&await this.sendAdvancedCourseRecommendation(a.title,a.category);break;case"completion":if(e.completedCourses&&e.completedCourses.length>0){const t=e.completedCourses[0];await this.sendCompletionBasedRecommendation(a.title,t)}}}catch(e){console.error("Error checking course recommendations:",e)}}initializeNotifications(){var e=this;const t="Notification"in window?Notification.permission:"denied";if(!this.isSupported||"granted"!==t)return console.log("ðŸ”• Notifications not enabled, skipping initialization"),console.log("ðŸ” Permission status:",t),void console.log("ðŸ” Supported:",this.isSupported);console.log("ðŸ”” Initializing notification schedules..."),console.log("ðŸ” Permission confirmed:",t),this.scheduleDailyReminder(),this.scheduleStreakReminder(),this.scheduleCourseReminders(),this.scheduleCourseRecommendations(),setTimeout(function(){e.checkImmediateTriggers()},5e3)}async checkImmediateTriggers(){try{const e=parseInt(localStorage.getItem("previous_level")||"1"),t=JSON.parse(localStorage.getItem("user_stats")||'{"level": 1}'),r=t.level||1;r>e&&(await this.sendXPLevelUpNotification(r,t.xp||0),localStorage.setItem("previous_level",r.toString()));const n=localStorage.getItem("user_trial_status");if(n){const e=JSON.parse(n);e.isActive&&e.daysRemaining<=3&&e.daysRemaining>0&&await this.sendTrialExpirationWarning(e.daysRemaining)}parseInt(localStorage.getItem("user_engagement_score")||"0")>10&&await this.sendPremiumUpgradePrompt("unlimited courses and advanced features")}catch(e){console.error("Error checking immediate triggers:",e)}}forceReinitialize(){console.log("ðŸ”„ Force re-initializing notifications..."),this.initializeNotifications()}}n(a,"instance",void 0);const o=a.getInstance()},9491:function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach(function(t){o(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function o(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.r(t),r.d(t,{API_BASE:function(){return s},API_ENDPOINTS:function(){return l},apiCall:function(){return i}});const s=process.env.REACT_APP_API_URL||"https://app.thekingezekielacademy.com/api";console.log("ðŸ”§ API Configuration Debug - CACHE BUST V7 - FINAL FIX:"),console.log("NODE_ENV:","production"),console.log("REACT_APP_API_URL:",process.env.REACT_APP_API_URL),console.log("API_BASE:",s),console.log("FLUTTERWAVE_INITIALIZE_PAYMENT:","".concat(s,"/flutterwave/initialize-payment")),console.log("Current URL:",window.location.href),console.log("Timestamp:",(new Date).toISOString()),console.log("Build Hash:","V7-FINAL-FIX");const l={FLUTTERWAVE_INITIALIZE_PAYMENT:"".concat(s,"/flutterwave/initialize-payment"),FLUTTERWAVE_WEBHOOK:"".concat(s,"/flutterwave/webhook"),HEALTH_CHECK:"".concat(s,"/health"),SUBSCRIPTION:"".concat(s,"/subscription"),PAYMENTS:"".concat(s,"/payments")},i=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{console.log("ðŸŒ Making API call to:",e);const r=await fetch(e,a({headers:a({"Content-Type":"application/json"},t.headers)},t));if(console.log("ðŸ“¡ Response status:",r.status),console.log("ðŸ“¡ Response headers:",Object.fromEntries(r.headers.entries())),!r.ok){const e=r.headers.get("content-type");if(e&&e.includes("text/html"))throw new Error("API returned HTML instead of JSON. Status: ".concat(r.status,". This usually means the server is not running or the route doesn't exist."));let t="API call failed with status ".concat(r.status);try{t=(await r.json()).message||t}catch(e){t=r.statusText||t}throw new Error(t)}const n=await r.json();return console.log("âœ… API call successful:",n),n}catch(t){if(console.error("âŒ API call failed:",t),"TypeError"===t.name&&t.message.includes("Failed to fetch"))throw new Error("Network error: Unable to connect to ".concat(e,". Please check if the server is running and accessible."));throw t}}}},a={};function o(e){var t=a[e];if(void 0!==t)return t.exports;var r=a[e]={exports:{}};return n[e].call(r.exports,r,r.exports,o),r.exports}o.m=n,e=[],o.O=function(t,r,n,a){if(!r){var s=1/0;for(m=0;m<e.length;m++){r=e[m][0],n=e[m][1],a=e[m][2];for(var l=!0,i=0;i<r.length;i++)(!1&a||s>=a)&&Object.keys(o.O).every(function(e){return o.O[e](r[i])})?r.splice(i--,1):(l=!1,a<s&&(s=a));if(l){e.splice(m--,1);var c=n();void 0!==c&&(t=c)}}return t}a=a||0;for(var m=e.length;m>0&&e[m-1][2]>a;m--)e[m]=e[m-1];e[m]=[r,n,a]},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,{a:t}),t},o.d=function(e,t){for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.f={},o.e=function(e){return Promise.all(Object.keys(o.f).reduce(function(t,r){return o.f[r](e,t),t},[]))},o.u=function(e){return"static/js/"+e+".62d16835.chunk.js"},o.miniCssF=function(e){},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t={},r="client:",o.l=function(e,n,a,s){if(t[e])t[e].push(n);else{var l,i;if(void 0!==a)for(var c=document.getElementsByTagName("script"),m=0;m<c.length;m++){var d=c[m];if(d.getAttribute("src")==e||d.getAttribute("data-webpack")==r+a){l=d;break}}l||(i=!0,(l=document.createElement("script")).charset="utf-8",l.timeout=120,o.nc&&l.setAttribute("nonce",o.nc),l.setAttribute("data-webpack",r+a),l.src=e),t[e]=[n];var u=function(r,n){l.onerror=l.onload=null,clearTimeout(g);var a=t[e];if(delete t[e],l.parentNode&&l.parentNode.removeChild(l),a&&a.forEach(function(e){return e(n)}),r)return r(n)},g=setTimeout(u.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=u.bind(null,l.onerror),l.onload=u.bind(null,l.onload),i&&document.head.appendChild(l)}},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.j=792,o.p="/",function(){var e={792:0};o.f.j=function(t,r){var n=o.o(e,t)?e[t]:void 0;if(0!==n)if(n)r.push(n[2]);else{var a=new Promise(function(r,a){n=e[t]=[r,a]});r.push(n[2]=a);var s=o.p+o.u(t),l=new Error;o.l(s,function(r){if(o.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var a=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;l.message="Loading chunk "+t+" failed.\n("+a+": "+s+")",l.name="ChunkLoadError",l.type=a,l.request=s,n[1](l)}},"chunk-"+t,t)}},o.O.j=function(t){return 0===e[t]};var t=function(t,r){var n,a,s=r[0],l=r[1],i=r[2],c=0;if(s.some(function(t){return 0!==e[t]})){for(n in l)o.o(l,n)&&(o.m[n]=l[n]);if(i)var m=i(o)}for(t&&t(r);c<s.length;c++)a=s[c],o.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return o.O(m)},r=self.webpackChunkclient=self.webpackChunkclient||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var s=o.O(void 0,[96,144],function(){return o(5435)});s=o.O(s)}();