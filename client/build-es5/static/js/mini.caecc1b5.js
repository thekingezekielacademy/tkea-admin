!function(){"use strict";var e,t={655:function(e,t,n){var i=n(4552),o=n(6540),r=n(961),a=n(3322),s=n(6252),c=n(7275),l=n(4533),u=n(8509),d=n(8206),g=n(9620),m=n(3544);class f extends o.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("Mini Browser Error Boundary caught an error:",e,t)}render(){if(this.state.hasError){const e=(0,i.FX)();return o.createElement("div",{style:{padding:"20px",textAlign:"center",fontFamily:"Arial, sans-serif",backgroundColor:"#f8f9fa",minHeight:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},o.createElement("h1",{style:{color:"#dc3545",marginBottom:"20px"}},e.isInstagram?"ðŸ“¸":e.isFacebook?"ðŸ“˜":"ðŸ“±"," App Error"),o.createElement("p",{style:{color:"#6c757d",marginBottom:"20px"}},"Something went wrong. Please try refreshing the page."),o.createElement("button",{onClick:function(){return window.location.reload()},style:{backgroundColor:"#1e3a8a",color:"white",border:"none",padding:"10px 20px",borderRadius:"5px",cursor:"pointer",fontSize:"16px"}},"Refresh Page"),!1)}return this.props.children}}var p=function(){const e=(0,i.FX)();return console.log("".concat(e.isInstagram?"ðŸ“¸":e.isFacebook?"ðŸ“˜":"ðŸ“±"," Mini Browser App starting...")),console.log("User Agent:",e.userAgent),console.log("Needs Legacy Mode:",e.needsLegacyMode),o.createElement(f,null,o.createElement(a.I9,null,o.createElement("div",{className:"App"},o.createElement(a.BV,null,o.createElement(a.qh,{path:"/",element:o.createElement(g.A,null)}),o.createElement(a.qh,{path:"/signin",element:o.createElement(c.A,null)}),o.createElement(a.qh,{path:"/signup",element:o.createElement(l.A,null)}),o.createElement(a.qh,{path:"/install",element:o.createElement(m.A,null)}),o.createElement(a.qh,{path:"/dashboard",element:o.createElement(s.A,null)}),o.createElement(a.qh,{path:"/course/:id",element:o.createElement(u.A,null)}),o.createElement(a.qh,{path:"/profile",element:o.createElement(d.A,null)}),o.createElement(a.qh,{path:"*",element:o.createElement(g.A,null)})))))};console.log("ðŸ”§ Applying mini browser polyfills..."),Object.assign||(Object.assign=function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");const t=Object(e);for(let e=0;e<(arguments.length<=1?0:arguments.length-1);e++){const n=e+1<1||arguments.length<=e+1?void 0:arguments[e+1];if(null!=n)for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])}return t}),Array.from||(Array.from=function(e,t,n){const i=Object(e),o=parseInt(i.length)||0,r="function"==typeof this?Object(new this(o)):new Array(o);let a,s=0;for(;s<o;)a=i[s],r[s]=t?void 0===n?t(a,s):t.call(n,a,s):a,s+=1;return r.length=o,r}),Array.prototype.includes||(Array.prototype.includes=function(e,t){const n=Object(this),i=parseInt(n.length)||0;if(0===i)return!1;const o=parseInt(String(t))||0;let r=o>=0?o:Math.max(i+o,0);for(;r<i;){if(n[r]===e)return!0;r++}return!1}),Array.prototype.find||(Array.prototype.find=function(e,t){const n=Object(this),i=parseInt(n.length)||0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(let o=0;o<i;o++){const i=n[o];if(e.call(t,i,o,n))return i}}),Array.prototype.findIndex||(Array.prototype.findIndex=function(e,t){const n=Object(this),i=parseInt(n.length)||0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(let o=0;o<i;o++){const i=n[o];if(e.call(t,i,o,n))return o}return-1}),Array.prototype.flat||(Array.prototype.flat=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;const t=Object(this),n=(parseInt(t.length),[]);let i=0;return function e(t,o){for(let r=0;r<t.length;r++)Array.isArray(t[r])&&o>0?e(t[r],o-1):(n[i]=t[r],i++)}(t,e),n}),Array.prototype.flatMap||(Array.prototype.flatMap=function(e,t){const n=Object(this),i=parseInt(n.length)||0;if("function"!=typeof e)throw new TypeError("callback must be a function");const o=[];let r=0;for(let a=0;a<i;a++){const i=e.call(t,n[a],a,n);if(Array.isArray(i))for(let e=0;e<i.length;e++)o[r]=i[e],r++;else o[r]=i,r++}return o}),String.prototype.startsWith||(String.prototype.startsWith=function(e,t){const n=t||0;return this.substring(n,n+e.length)===e}),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){const n=t||this.length;return this.substring(n-e.length,n)===e}),String.prototype.includes||(String.prototype.includes=function(e,t){return-1!==this.indexOf(e,t)}),String.prototype.padStart||(String.prototype.padStart=function(e,t){const n=String(this),i=t||" ";if(n.length>=e)return n;const o=e-n.length;return i.repeat(Math.ceil(o/i.length)).substring(0,o)+n}),String.prototype.padEnd||(String.prototype.padEnd=function(e,t){const n=String(this),i=t||" ";if(n.length>=e)return n;const o=e-n.length;return n+i.repeat(Math.ceil(o/i.length)).substring(0,o)}),String.prototype.replaceAll||(String.prototype.replaceAll=function(e,t){const n=String(this);if(e instanceof RegExp){if(!e.global)throw new TypeError("replaceAll must be called with a global RegExp");return n.replace(e,t)}return n.split(e).join(t)}),Object.entries||(Object.entries=function(e){const t=Object.keys(e);let n=t.length;const i=new Array(n);for(;n--;)i[n]=[t[n],e[t[n]]];return i}),Object.values||(Object.values=function(e){const t=Object.keys(e);let n=t.length;const i=new Array(n);for(;n--;)i[n]=e[t[n]];return i}),Object.fromEntries||(Object.fromEntries=function(e){const t={},n=Array.from(e);for(let e=0;e<n.length;e++){const i=n[e];t[i[0]]=i[1]}return t}),Number.isNaN||(Number.isNaN=function(e){return"number"==typeof e&&isNaN(e)}),Number.isFinite||(Number.isFinite=function(e){return"number"==typeof e&&isFinite(e)}),Number.isInteger||(Number.isInteger=function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}),Promise.allSettled||(Promise.allSettled=function(e){return Promise.all(e.map(function(e){return Promise.resolve(e).then(function(e){return{status:"fulfilled",value:e}}).catch(function(e){return{status:"rejected",reason:e}})}))}),window.fetch||(window.fetch=function(e,t){return new Promise(function(n,i){const o=new XMLHttpRequest,r="string"==typeof e?e:e.toString();o.open((null==t?void 0:t.method)||"GET",r),null!=t&&t.headers&&Object.keys(t.headers).forEach(function(e){o.setRequestHeader(e,t.headers[e])}),o.onload=function(){const e=new Response(o.responseText,{status:o.status,statusText:o.statusText,headers:new Headers});n(e)},o.onerror=function(){i(new Error("Network error"))},o.send(null==t?void 0:t.body)})}),window.crypto&&window.crypto.getRandomValues||(window.crypto=window.crypto||{},window.crypto.getRandomValues=function(e){for(let t=0;t<e.length;t++)e[t]=Math.floor(256*Math.random());return e}),window.Intl||(window.Intl={DateTimeFormat:function(){return{format:function(e){return e.toLocaleDateString()}}},NumberFormat:function(){return{format:function(e){return e.toString()}}}}),console.log("âœ… Mini browser polyfills applied successfully"),window.onerror=function(e,t,n,o,r){return(0,i.zt)("Global Error: ".concat(e," at ").concat(t,":").concat(n,":").concat(o),r),!1},window.onunhandledrejection=function(e){(0,i.zt)("Unhandled Promise Rejection:",e.reason),e.preventDefault()},async function(){try{const e=(0,i.FX)();if((0,i.zt)("Starting mini browser app..."),"loading"===document.readyState&&await new Promise(function(e){document.addEventListener("DOMContentLoaded",function(){return e()},{once:!0})}),(0,i.NZ)()){(0,i.zt)("Disabling service worker for mini browser");try{if("serviceWorker"in navigator){const e=await navigator.serviceWorker.getRegistrations();await Promise.all(e.map(function(e){return e.unregister()})),(0,i.zt)("Service worker unregistered")}}catch(e){(0,i.zt)("Service worker cleanup failed:",e)}}let t=document.getElementById("root");t||(t=document.createElement("div"),t.id="root",document.body.appendChild(t),(0,i.zt)("Created root element")),t.innerHTML="",location.hash&&"#"!==location.hash||(location.hash="/",(0,i.zt)("Set initial hash route")),(0,i.zt)("Rendering app with React 17 compatibility..."),r.render(o.createElement(p,null),t,function(){(0,i.zt)("App rendered successfully!"),window.__KEA_POLYFILLS_LOADED__=!0,window.__KEA_HYDRATION_STATUS__="ok",window.__KEA_BOOT_MODE__="mini-browser",window.__KEA_BROWSER_INFO__=e})}catch(e){(0,i.zt)("Failed to load mini browser app:",e),(document.getElementById("root")||document.body).innerHTML='\n      <div style="\n        padding: 20px;\n        text-align: center;\n        font-family: Arial, sans-serif;\n        background-color: #f8f9fa;\n        min-height: 100vh;\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        align-items: center;\n      ">\n        <h1 style="color: #dc3545; margin-bottom: 20px;">\n          ðŸ“± App Loading Error\n        </h1>\n        <p style="color: #6c757d; margin-bottom: 20px;">\n          Unable to load the app in this browser. Please try opening in Safari or Chrome.\n        </p>\n        <button\n          onclick="window.location.reload()"\n          style="\n            background-color: #1e3a8a;\n            color: white;\n            border: none;\n            padding: 10px 20px;\n            border-radius: 5px;\n            cursor: pointer;\n            font-size: 16px;\n          "\n        >\n          Try Again\n        </button>\n      </div>\n    '}}().catch(function(e){console.error("Critical error in mini browser app:",e)})},1866:function(e,t,n){n.d(t,{c:function(){return r}});var i=n(6540);const o=(0,i.createContext)(void 0),r=function(){const e=(0,i.useContext)(o);if(void 0===e)throw new Error("useSidebar must be used within a SidebarProvider");return e}},4307:function(e,t,n){n.d(t,{I:function(){return s}});var i=n(5608);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function a(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class s{static async initializeTrial(e){try{const t=new Date,n=new Date;t.setHours(0,0,0,0),n.setDate(t.getDate()+this.TRIAL_DURATION_DAYS-1),n.setHours(23,59,59,999);const o={user_id:e,start_date:t.toISOString(),end_date:n.toISOString(),is_active:!0,created_at:(new Date).toISOString()};try{(await i.N.from("user_trials").insert(o)).error}catch(e){}const r=new Date,a=n.getTime()-r.getTime(),s=Math.max(0,Math.floor(a/864e5)),c={isActive:s>0,startDate:t.toISOString(),endDate:n.toISOString(),daysRemaining:s,totalDays:this.TRIAL_DURATION_DAYS,isExpired:s<=0};return localStorage.setItem(this.TRIAL_STORAGE_KEY,JSON.stringify(c)),c}catch(e){throw console.error("Failed to initialize trial:",e),e}}static async getTrialStatus(e){try{try{const t=await i.N.from("user_trials").select("*").eq("user_id",e).eq("is_active",!0).single(),n=t.data,o=t.error;if(!o&&n)return this.calculateTrialStatus(n.start_date,n.end_date);o&&("PGRST116"===o.code||o.code)}catch(e){}const t=localStorage.getItem(this.TRIAL_STORAGE_KEY);if(t)try{const e=JSON.parse(t),n=this.calculateTrialStatus(e.startDate,e.endDate);return localStorage.setItem(this.TRIAL_STORAGE_KEY,JSON.stringify(n)),n}catch(e){}return{isActive:!1,startDate:"",endDate:"",daysRemaining:0,totalDays:0,isExpired:!0}}catch(e){return console.error("Failed to get trial status:",e),{isActive:!1,startDate:"",endDate:"",daysRemaining:0,totalDays:0,isExpired:!0}}}static async hasTrialAccess(e){try{const t=await this.getTrialStatus(e);return t.isActive&&!t.isExpired}catch(e){return console.error("Failed to check trial access:",e),!1}}static calculateDaysRemaining(e){const t=new Date,n=new Date(e),i=new Date(t);i.setHours(0,0,0,0);const o=new Date(n);o.setHours(0,0,0,0);const r=o.getTime()-i.getTime(),a=Math.max(0,Math.floor(r/864e5));return console.log("ðŸ” Consistent trial calculation:",{endDate:e,now:t.toISOString(),todayStart:i.toISOString(),endDateStart:o.toISOString(),timeDiffHours:r/36e5,daysRemaining:a}),a}static calculateTrialStatus(e,t){const n=new Date,i=(new Date(e),n>new Date(t));return{isActive:!i,startDate:e,endDate:t,daysRemaining:this.calculateDaysRemaining(t),totalDays:this.TRIAL_DURATION_DAYS,isExpired:i}}static async extendTrial(e,t){try{const n=await this.getTrialStatus(e);if(!n.isActive)throw new Error("Cannot extend expired trial");const o=new Date(n.endDate);o.setDate(o.getDate()+t);const a=r(r({},n),{},{endDate:o.toISOString(),daysRemaining:n.daysRemaining+t});try{(await i.N.from("user_trials").update({end_date:o.toISOString(),updated_at:(new Date).toISOString()}).eq("user_id",e).eq("is_active",!0)).error}catch(e){}return localStorage.setItem(this.TRIAL_STORAGE_KEY,JSON.stringify(a)),a}catch(e){throw console.error("Failed to extend trial:",e),e}}static async endTrial(e){try{try{(await i.N.from("user_trials").update({is_active:!1,ended_at:(new Date).toISOString(),updated_at:(new Date).toISOString()}).eq("user_id",e).eq("is_active",!0)).error}catch(e){}localStorage.removeItem(this.TRIAL_STORAGE_KEY)}catch(e){throw console.error("Failed to end trial:",e),e}}static getTrialExpirationMessage(e){return 0===e?"Your free trial has expired. Subscribe now to continue learning!":1===e?"Your free trial expires tomorrow. Subscribe now to keep learning!":e<=3?"Your free trial expires in ".concat(e," days. Subscribe now to keep learning!"):"You have ".concat(e," days left in your free trial.")}static shouldShowTrialBanner(e){return e<=3&&e>0}static ensureTrialStatusIsCurrent(){try{const e=localStorage.getItem(this.TRIAL_STORAGE_KEY);if(!e)return null;const t=JSON.parse(e),n=this.calculateDaysRemaining(t.endDate),i=r(r({},t),{},{daysRemaining:n,isActive:n>0,isExpired:n<=0});return localStorage.setItem(this.TRIAL_STORAGE_KEY,JSON.stringify(i)),i}catch(e){return console.error("Failed to ensure trial status is current:",e),null}}static resetTrialForTesting(e){try{localStorage.removeItem(this.TRIAL_STORAGE_KEY);const e=new Date,t=new Date;e.setHours(0,0,0,0),t.setDate(e.getDate()+this.TRIAL_DURATION_DAYS-1),t.setHours(23,59,59,999);const n={isActive:!0,startDate:e.toISOString(),endDate:t.toISOString(),daysRemaining:this.TRIAL_DURATION_DAYS,totalDays:this.TRIAL_DURATION_DAYS,isExpired:!1};localStorage.setItem(this.TRIAL_STORAGE_KEY,JSON.stringify(n))}catch(e){console.error("Failed to reset trial for testing:",e)}}}a(s,"TRIAL_DURATION_DAYS",7),a(s,"TRIAL_STORAGE_KEY","user_trial_status")},4552:function(e,t,n){function i(){const e=navigator.userAgent||"",t=(navigator.vendor,window.opera,/Instagram/i.test(e)||/FBAN|FBAV|FBIOS/i.test(e)||/InstagramApp/i.test(e)),n=/FBAN|FBAV|FBIOS/i.test(e)||/FB_IAB|FBAN/i.test(e)||/FBAN/i.test(e),i=/TikTok/i.test(e)||/musical_ly/i.test(e)||/aweme/i.test(e),o=/Twitter/i.test(e)||/TwitterAndroid/i.test(e)||/TwitteriOS/i.test(e),r=/Snapchat/i.test(e)||/SnapchatApp/i.test(e),a=t||n||i||o||r||/wv\)/i.test(e)||/Version\/.*Safari.*Mobile/i.test(e)&&!/Chrome/i.test(e)||/iPhone.*Safari/i.test(e)&&!/Chrome/i.test(e)||/iPad.*Safari/i.test(e)&&!/Chrome/i.test(e);return{isMiniBrowser:a,isInstagram:t,isFacebook:n,isTikTok:i,isTwitter:o,isSnapchat:r,userAgent:e,needsLegacyMode:a||/Safari/i.test(e)&&/Version\/([0-9]+)/.test(e)&&parseInt(RegExp.$1,10)<=12}}function o(e){const t=function(){const e=i();return e.isInstagram?"ðŸ“¸ [IG]":e.isFacebook?"ðŸ“˜ [FB]":e.isTikTok?"ðŸŽµ [TT]":e.isTwitter?"ðŸ¦ [TW]":e.isSnapchat?"ðŸ‘» [SC]":e.isMiniBrowser?"ðŸ“± [Mini]":"ðŸŒ [Web]"}();for(var n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];console.log("".concat(t," ").concat(e),...o)}function r(){const e=i();return e.isMiniBrowser||e.needsLegacyMode}function a(){const e=i();return e.isMiniBrowser||e.needsLegacyMode}n.d(t,{FX:function(){return i},NZ:function(){return r},Sr:function(){return a},zt:function(){return o}})},5480:function(e,t,n){n.d(t,{Q0:function(){return i}});const i=function(){return{"@context":"https://schema.org","@type":"EducationalOrganization",name:"King Ezekiel Academy",description:"Leading digital marketing education platform providing comprehensive courses and training for entrepreneurs and professionals.",url:"https://thekingezekielacademy.com",logo:{"@type":"ImageObject",url:"https://thekingezekielacademy.com/logo.png"},sameAs:["https://www.youtube.com/@kingezekielacademy","https://t.me/kingezekielacademy"],contactPoint:{"@type":"ContactPoint",telephone:"+234-XXX-XXX-XXXX",email:"info@thekingezekielacademy.com",contactType:"Customer Service"},address:{"@type":"PostalAddress",addressCountry:"Nigeria",addressLocality:"Lagos",addressRegion:"Lagos State"},founder:{"@type":"Person",name:"King Ezekiel",jobTitle:"CEO & Founder",description:"Digital Marketing Expert and Educator"},foundingDate:"2021",areaServed:["Nigeria","Africa","Worldwide"],serviceType:["Online Education","Digital Marketing Training","Business Coaching"],aggregateRating:{"@type":"AggregateRating",ratingValue:4.9,reviewCount:2500}}}},5608:function(e,t,n){n.d(t,{N:function(){return a}});var i=n(1490);const o=process.env.REACT_APP_SUPABASE_URL||"https://evqerkqiquwxqlizdqmg.supabase.co",r=process.env.REACT_APP_SUPABASE_ANON_KEY||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImV2cWVya3FpcXV3eHFsaXpkcW1nIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ2NzE0NTUsImV4cCI6MjA3MDI0NzQ1NX0.0hoqOOvJzRFX6zskur2HixoIW2XfAP0fMBwTMGcd7kw";if(!o||!r)throw console.error("Missing Supabase environment variables"),new Error("Missing Supabase environment variables");const a=(0,i.UU)(o,r,{auth:{persistSession:!0,storageKey:"supabase-auth",autoRefreshToken:!0,detectSessionInUrl:!0,flowType:"pkce",storage:{getItem:function(e){try{return localStorage.getItem(e)||sessionStorage.getItem(e)}catch(t){return console.log("Storage access error, using sessionStorage:",t),sessionStorage.getItem(e)}},setItem:function(e,t){try{localStorage.setItem(e,t),sessionStorage.setItem(e,t)}catch(n){console.log("Storage write error, using sessionStorage only:",n),sessionStorage.setItem(e,t)}},removeItem:function(e){try{localStorage.removeItem(e),sessionStorage.removeItem(e)}catch(e){console.log("Storage remove error:",e)}}}},global:{headers:{"X-Client-Info":"king-ezekiel-academy",Accept:"application/json","Content-Type":"application/json"}},realtime:{params:{eventsPerSecond:10}},db:{schema:"public"}})},6352:function(e,t,n){n.d(t,{A:function(){return r}});var i=n(6540);n(5608),n(4307);const o=(0,i.createContext)(void 0),r=function(){const e=(0,i.useContext)(o);if(void 0===e)throw new Error("useAuth must be used within an AuthProvider");return e}},7372:function(e,t,n){function i(e,t,n){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{notificationService:function(){return r}});class o{constructor(){i(this,"permission","default"),i(this,"isSupported",!1),this.isSupported="Notification"in window&&"serviceWorker"in navigator,this.permission=Notification.permission}static getInstance(){return o.instance||(o.instance=new o),o.instance}async requestPermission(){if(!this.isSupported)return console.log("Notifications not supported"),!1;if("granted"===this.permission)return!0;try{return this.permission=await Notification.requestPermission(),"granted"===this.permission}catch(e){return console.error("Error requesting notification permission:",e),!1}}isNotificationEnabled(){const e="Notification"in window?Notification.permission:"denied";return this.isSupported&&"granted"===e}async sendNotification(e){if(this.isNotificationEnabled())try{const t=await navigator.serviceWorker.ready;await t.showNotification(e.title,{body:e.body,icon:e.icon||"/favicon.svg",badge:e.badge||"/favicon.svg",image:e.image,tag:e.tag,requireInteraction:e.requireInteraction||!1,actions:e.actions||[],data:e.data||{},vibrate:[200,100,200],timestamp:Date.now()})}catch(e){console.error("Error sending notification:",e)}else console.log("Notifications not enabled")}async sendStreakReminder(e){const t=new Date,n=0===t.getDay()||6===t.getDay(),i=["ðŸ”¥ You're on a ".concat(e,"-day learning streak! Keep it going this evening!"),"ðŸ“š Day ".concat(e," of your learning streak - don't break it now!"),"ðŸŽ¯ ".concat(e," days strong! Continue your learning journey this evening."),"ðŸ’ª Your ".concat(e,"-day streak is impressive! Learn something new tonight."),"ðŸŒŸ ".concat(e," days of dedication! Evening learning time!"),"âš¡ ".concat(e," days strong! Power up your evening with learning!")],o=["ðŸ”¥ You're on a ".concat(e,"-day learning streak! Perfect weekend to keep it going!"),"ðŸ“š Day ".concat(e," of your learning streak - weekend learning time!"),"ðŸŽ¯ ".concat(e," days strong! Continue your learning journey this afternoon."),"ðŸ’ª Your ".concat(e,"-day streak is impressive! Weekend learning session!"),"ðŸŒŸ ".concat(e," days of dedication! Afternoon learning time!"),"âš¡ ".concat(e," days strong! Weekend learning power!")],r=n?o:i,a=r[Math.floor(Math.random()*r.length)];await this.sendNotification({title:n?"ðŸ”¥ Weekend Streak Time!":"ðŸ”¥ Evening Streak Reminder",body:a,tag:"streak-reminder",requireInteraction:!0,actions:[{action:"continue",title:"Continue Learning"},{action:"dismiss",title:"Later"}]})}async sendDailyLearningReminder(){const e=new Date,t=0===e.getDay()||6===e.getDay(),n=t?["ðŸ“š Perfect afternoon for some learning!","ðŸŽ¯ Weekend learning time - let's do this!","ðŸ’¡ Relax and learn something new this afternoon!","ðŸš€ Your weekend learning adventure awaits!","ðŸ“– Make the most of your weekend with King Ezekiel Academy!","ðŸŒŸ Afternoon learning session - perfect timing!","âš¡ Weekend learning power - let's go!"]:["ðŸ“š Ready to continue your learning journey this evening?","ðŸŽ¯ Time for your daily dose of knowledge!","ðŸ’¡ Let's learn something new today!","ðŸš€ Your next lesson is waiting for you!","ðŸ“– Keep building your skills with King Ezekiel Academy!","ðŸŒŸ Evening learning session - let's make it count!","âš¡ Power up your evening with some learning!"],i=n[Math.floor(Math.random()*n.length)];await this.sendNotification({title:t?"Weekend Learning Time!":"Evening Learning Reminder",body:i,tag:"daily-reminder",requireInteraction:!0,actions:[{action:"learn",title:"Start Learning"},{action:"dismiss",title:"Not Today"}]})}async sendXPLevelUpNotification(e,t){await this.sendNotification({title:"ðŸŽ‰ Level Up!",body:"Congratulations! You've reached Level ".concat(e," and gained ").concat(t," XP!"),tag:"level-up",requireInteraction:!0,actions:[{action:"view",title:"View Progress"},{action:"continue",title:"Keep Learning"}],data:{newLevel:e,xpGained:t,type:"level-up"}})}async sendCourseContinuationReminder(e,t,n){await this.sendNotification({title:"ðŸ“– Continue Learning",body:"You're ".concat(t,'% through "').concat(e,'" - pick up where you left off!'),tag:"course-continuation",requireInteraction:!0,actions:[{action:"continue",title:"Continue Course"},{action:"dismiss",title:"Later"}],data:{courseId:n,courseTitle:e,progress:t}})}async sendNewCourseNotification(e,t,n){await this.sendNotification({title:"ðŸ†• New Course Available!",body:'"'.concat(e,'" in ').concat(t," is now available. Start learning today!"),tag:"new-course",requireInteraction:!0,actions:[{action:"view",title:"View Course"},{action:"dismiss",title:"Not Interested"}],data:{courseId:n,courseTitle:e,category:t}})}async sendTopCoursesNotification(e,t){await this.sendNotification({title:"ðŸŒŸ Trending Course",body:'"'.concat(e,'" is being watched by ').concat(t,"+ students. Join them!"),tag:"trending-course",requireInteraction:!0,actions:[{action:"view",title:"View Course"},{action:"dismiss",title:"Not Now"}]})}async sendCourseSuggestion(e,t,n){await this.sendNotification({title:"ðŸ’¡ Course Suggestion",body:'Based on your interests: "'.concat(e,'" - ').concat(t),tag:"course-suggestion",requireInteraction:!0,actions:[{action:"view",title:"View Course"},{action:"dismiss",title:"Not Interested"}],data:{courseId:n,courseTitle:e,reason:t}})}async sendCourseScheduledNotification(e,t,n){await this.sendNotification({title:"ðŸ“… New Course Scheduled!",body:'"'.concat(e,'" is scheduled to be published on ').concat(new Date(t).toLocaleDateString(),". Get ready to learn!"),tag:"course-scheduled",requireInteraction:!0,actions:[{action:"view",title:"View Course"},{action:"dismiss",title:"Later"}],data:{courseId:n,courseTitle:e,scheduledDate:t,type:"course-scheduled"}})}async sendCourseAvailableNotification(e,t){await this.sendNotification({title:"ðŸŽ‰ Course Now Available!",body:'"'.concat(e,'" is now live and ready for you to start learning!'),tag:"course-available",requireInteraction:!0,actions:[{action:"continue",title:"Start Learning"},{action:"view",title:"View Course"}],data:{courseId:t,courseTitle:e,type:"course-available"}})}async sendCourseReminderNotification(e,t,n){const i=t<24?"".concat(t," hours"):"".concat(Math.floor(t/24)," days");await this.sendNotification({title:"â° Course Starting Soon!",body:'"'.concat(e,'" will be available in ').concat(i,". Don't miss out!"),tag:"course-reminder",requireInteraction:!0,actions:[{action:"view",title:"View Course"},{action:"dismiss",title:"Later"}],data:{courseId:n,courseTitle:e,hoursUntil:t,type:"course-reminder"}})}async sendPopularCourseRecommendation(e,t,n){await this.sendNotification({title:"ðŸ”¥ Popular Course Alert!",body:'"'.concat(e,'" in ').concat(t," has ").concat(n,"+ students. Don't miss out!"),tag:"popular-course",requireInteraction:!0,actions:[{action:"view",title:"View Course"},{action:"dismiss",title:"Not Now"}]})}async sendCategoryCourseRecommendation(e,t){await this.sendNotification({title:"ðŸ“š Recommended for You",body:"Since you're interested in ".concat(t,', check out "').concat(e,'"!'),tag:"category-recommendation",requireInteraction:!0,actions:[{action:"view",title:"View Course"},{action:"dismiss",title:"Not Interested"}]})}async sendSkillProgressionRecommendation(e,t,n){await this.sendNotification({title:"ðŸš€ Ready to Level Up?",body:"You've mastered ".concat(t,'! Try "').concat(e,'" - ').concat(n," level course"),tag:"skill-progression",requireInteraction:!0,actions:[{action:"view",title:"View Course"},{action:"dismiss",title:"Not Ready"}]})}async sendTrendingCourseRecommendation(e,t){await this.sendNotification({title:"ðŸ“ˆ Trending Now",body:'"'.concat(e,'" in ').concat(t," is trending this week. Join the learning wave!"),tag:"trending-recommendation",requireInteraction:!0,actions:[{action:"view",title:"View Course"},{action:"dismiss",title:"Not Now"}]})}async sendCompletionBasedRecommendation(e,t){await this.sendNotification({title:"ðŸŽ¯ Perfect Next Step!",body:'Since you completed "'.concat(t,'", you\'ll love "').concat(e,'"!'),tag:"completion-recommendation",requireInteraction:!0,actions:[{action:"view",title:"View Course"},{action:"dismiss",title:"Not Interested"}]})}async sendBeginnerCourseRecommendation(e,t){await this.sendNotification({title:"ðŸŒ± Perfect for Beginners",body:'"'.concat(e,'" in ').concat(t," is great for starting your learning journey!"),tag:"beginner-recommendation",requireInteraction:!0,actions:[{action:"view",title:"View Course"},{action:"dismiss",title:"Not Now"}]})}async sendAdvancedCourseRecommendation(e,t){await this.sendNotification({title:"âš¡ Advanced Challenge",body:'Ready for a challenge? Try "'.concat(e,'" in ').concat(t," - Advanced level!"),tag:"advanced-recommendation",requireInteraction:!0,actions:[{action:"view",title:"View Course"},{action:"dismiss",title:"Not Ready"}]})}async sendNewFeatureNotification(e,t){await this.sendNotification({title:"âœ¨ New Feature!",body:"".concat(e,": ").concat(t),tag:"new-feature",requireInteraction:!0,actions:[{action:"explore",title:"Explore Feature"},{action:"dismiss",title:"Later"}]})}async sendBadgeEarnedNotification(e,t){await this.sendNotification({title:"ðŸ† Badge Earned!",body:'You earned the "'.concat(e,'" badge: ').concat(t),tag:"badge-earned",requireInteraction:!0,actions:[{action:"view",title:"View Badge"},{action:"share",title:"Share Achievement"}]})}async sendCourseCompletionNotification(e){await this.sendNotification({title:"ðŸŽ“ Course Completed!",body:"Congratulations! You've completed \"".concat(e,'". Ready for the next challenge?'),tag:"course-completed",requireInteraction:!0,actions:[{action:"certificate",title:"View Certificate"},{action:"next",title:"Find Next Course"}]})}async sendPremiumUpgradePrompt(e){await this.sendNotification({title:"â­ Upgrade to Premium",body:"Unlock ".concat(e," and get unlimited access to all courses!"),tag:"premium-upgrade",requireInteraction:!0,actions:[{action:"upgrade",title:"Upgrade Now"},{action:"dismiss",title:"Not Now"}]})}async sendTrialExpirationWarning(e){const t=e<=1?"âš ï¸":"â°";await this.sendNotification({title:"".concat(t," Trial Expiring Soon"),body:"Your free trial ends in ".concat(e," day").concat(1===e?"":"s",". Upgrade to continue learning!"),tag:"trial-expiration",requireInteraction:!0,actions:[{action:"upgrade",title:"Upgrade Now"},{action:"extend",title:"Extend Trial"}]})}async sendSubscriptionRenewalReminder(e){await this.sendNotification({title:"ðŸ”„ Subscription Renewal",body:"Your subscription renews in ".concat(e," days. Keep your learning streak going!"),tag:"subscription-renewal",requireInteraction:!0,actions:[{action:"manage",title:"Manage Subscription"},{action:"dismiss",title:"Remind Later"}]})}async sendWeeklyGoalReminder(e,t){const n=Math.round(e/t*100);await this.sendNotification({title:"ðŸ“Š Weekly Goal Progress",body:"You're ".concat(n,"% towards your weekly learning goal (").concat(e,"/").concat(t," lessons)"),tag:"weekly-goal",requireInteraction:!0,actions:[{action:"continue",title:"Continue Learning"},{action:"view",title:"View Progress"}]})}async sendCommunityHighlight(e){await this.sendNotification({title:"ðŸ‘¥ Community Update",body:e,tag:"community-highlight",requireInteraction:!1,actions:[{action:"view",title:"View Community"}]})}async sendOptimalLearningTimeReminder(){await this.sendNotification({title:"â° Perfect Learning Time",body:"This is your most productive learning time! Ready to learn something new?",tag:"optimal-time",requireInteraction:!0,actions:[{action:"learn",title:"Start Learning"},{action:"dismiss",title:"Not Now"}]})}async sendDifficultyProgressionNotification(e,t){await this.sendNotification({title:"ðŸš€ Ready for the Next Level?",body:"You've mastered the basics! Try \"".concat(e,'" - ').concat(t," level course"),tag:"difficulty-progression",requireInteraction:!0,actions:[{action:"view",title:"View Course"},{action:"dismiss",title:"Not Ready"}]})}async sendSocialProofNotification(e,t){await this.sendNotification({title:"ðŸŒŸ Join the Community",body:"".concat(e,'+ students are learning "').concat(t,"\" right now. Don't miss out!"),tag:"social-proof",requireInteraction:!0,actions:[{action:"join",title:"Join Them"},{action:"dismiss",title:"Not Interested"}]})}async scheduleNotification(e,t){var n=this;setTimeout(function(){n.sendNotification(e)},t)}scheduleDailyReminder(){var e=this;const t=new Date,n=0===t.getDay()||6===t.getDay(),i=n?14:18,o=new Date;o.setHours(i,0,0,0),o<=t&&o.setDate(o.getDate()+1);const r=o.getTime()-t.getTime();console.log("ðŸ“… Scheduled daily reminder for ".concat(n?"weekend":"weekday"," at ").concat(i,":00")),setTimeout(function(){e.sendDailyLearningReminder(),e.scheduleDailyReminder()},r)}scheduleStreakReminder(){var e=this;const t=new Date,n=0===t.getDay()||6===t.getDay(),i=n?15:20,o=new Date;o.setHours(i,0,0,0),o<=t&&o.setDate(o.getDate()+1);const r=o.getTime()-t.getTime();console.log("ðŸ”¥ Scheduled streak reminder for ".concat(n?"weekend":"weekday"," at ").concat(i,":00")),setTimeout(function(){const t=parseInt(localStorage.getItem("learning_streak")||"0");t>0&&e.sendStreakReminder(t),e.scheduleStreakReminder()},r)}scheduleCourseReminders(){var e=this;const t=new Date,n=0===t.getDay()||6===t.getDay(),i=n?16:19,o=new Date;o.setHours(i,0,0,0),o<=t&&o.setDate(o.getDate()+1);const r=o.getTime()-t.getTime();console.log("ðŸ“š Scheduled course reminders for ".concat(n?"weekend":"weekday"," at ").concat(i,":00")),setTimeout(function(){e.checkAndSendCourseReminders(),e.scheduleCourseReminders()},r)}scheduleCourseRecommendations(){var e=this;const t=new Date,n=0===t.getDay()||6===t.getDay(),i=n?17:20,o=new Date;o.setHours(i,0,0,0),o<=t&&o.setDate(o.getDate()+1);const r=o.getTime()-t.getTime();console.log("ðŸ’¡ Scheduled course recommendations for ".concat(n?"weekend":"weekday"," at ").concat(i,":00")),setTimeout(function(){e.checkAndSendCourseRecommendations(),e.scheduleCourseRecommendations()},r)}async checkAndSendCourseReminders(){try{const e=JSON.parse(localStorage.getItem("current_course")||"{}");if(e&&e.progress>0&&e.progress<100){const t=localStorage.getItem("last_accessed_".concat(e.id));t&&(Date.now()-parseInt(t))/36e5>24&&await this.sendCourseContinuationReminder(e.title,e.progress)}}catch(e){console.error("Error checking course reminders:",e)}}async checkAndSendCourseRecommendations(){try{const e=JSON.parse(localStorage.getItem("user_stats")||'{"level": 1, "completedCourses": []}'),t=(JSON.parse(localStorage.getItem("current_course")||"{}"),JSON.parse(localStorage.getItem("enrolled_courses")||"[]"),["popular","category","trending","beginner","advanced","completion"]),n=t[Math.floor(Math.random()*t.length)],i=[{title:"AI TOOLS EXPLAINED - FOR BEGINNERS",category:"AI & Technology",level:"Beginner"},{title:"DIGITAL MARKETING MASTERY",category:"Marketing",level:"Intermediate"},{title:"WEB DEVELOPMENT FUNDAMENTALS",category:"Programming",level:"Beginner"},{title:"DATA SCIENCE ESSENTIALS",category:"Data Science",level:"Advanced"},{title:"BUSINESS STRATEGY & PLANNING",category:"Business",level:"Intermediate"},{title:"CYBERSECURITY BASICS",category:"Security",level:"Beginner"}],o=i[Math.floor(Math.random()*i.length)];switch(n){case"popular":await this.sendPopularCourseRecommendation(o.title,o.category,Math.floor(5e3*Math.random())+1e3);break;case"category":await this.sendCategoryCourseRecommendation(o.title,o.category);break;case"trending":await this.sendTrendingCourseRecommendation(o.title,o.category);break;case"beginner":"Beginner"===o.level&&await this.sendBeginnerCourseRecommendation(o.title,o.category);break;case"advanced":"Advanced"===o.level&&await this.sendAdvancedCourseRecommendation(o.title,o.category);break;case"completion":if(e.completedCourses&&e.completedCourses.length>0){const t=e.completedCourses[0];await this.sendCompletionBasedRecommendation(o.title,t)}}}catch(e){console.error("Error checking course recommendations:",e)}}initializeNotifications(){var e=this;const t="Notification"in window?Notification.permission:"denied";if(!this.isSupported||"granted"!==t)return console.log("ðŸ”• Notifications not enabled, skipping initialization"),console.log("ðŸ” Permission status:",t),void console.log("ðŸ” Supported:",this.isSupported);console.log("ðŸ”” Initializing notification schedules..."),console.log("ðŸ” Permission confirmed:",t),this.scheduleDailyReminder(),this.scheduleStreakReminder(),this.scheduleCourseReminders(),this.scheduleCourseRecommendations(),setTimeout(function(){e.checkImmediateTriggers()},5e3)}async checkImmediateTriggers(){try{const e=parseInt(localStorage.getItem("previous_level")||"1"),t=JSON.parse(localStorage.getItem("user_stats")||'{"level": 1}'),n=t.level||1;n>e&&(await this.sendXPLevelUpNotification(n,t.xp||0),localStorage.setItem("previous_level",n.toString()));const i=localStorage.getItem("user_trial_status");if(i){const e=JSON.parse(i);e.isActive&&e.daysRemaining<=3&&e.daysRemaining>0&&await this.sendTrialExpirationWarning(e.daysRemaining)}parseInt(localStorage.getItem("user_engagement_score")||"0")>10&&await this.sendPremiumUpgradePrompt("unlimited courses and advanced features")}catch(e){console.error("Error checking immediate triggers:",e)}}forceReinitialize(){console.log("ðŸ”„ Force re-initializing notifications..."),this.initializeNotifications()}}i(o,"instance",void 0);const r=o.getInstance()}},n={};function i(e){var o=n[e];if(void 0!==o)return o.exports;var r=n[e]={exports:{}};return t[e].call(r.exports,r,r.exports,i),r.exports}i.m=t,e=[],i.O=function(t,n,o,r){if(!n){var a=1/0;for(u=0;u<e.length;u++){n=e[u][0],o=e[u][1],r=e[u][2];for(var s=!0,c=0;c<n.length;c++)(!1&r||a>=r)&&Object.keys(i.O).every(function(e){return i.O[e](n[c])})?n.splice(c--,1):(s=!1,r<a&&(a=r));if(s){e.splice(u--,1);var l=o();void 0!==l&&(t=l)}}return t}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[n,o,r]},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,{a:t}),t},i.d=function(e,t){for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.j=782,function(){var e={782:0};i.O.j=function(t){return 0===e[t]};var t=function(t,n){var o,r,a=n[0],s=n[1],c=n[2],l=0;if(a.some(function(t){return 0!==e[t]})){for(o in s)i.o(s,o)&&(i.m[o]=s[o]);if(c)var u=c(i)}for(t&&t(n);l<a.length;l++)r=a[l],i.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return i.O(u)},n=self.webpackChunkclient=self.webpackChunkclient||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var o=i.O(void 0,[96,144],function(){return i(655)});o=i.O(o)}();