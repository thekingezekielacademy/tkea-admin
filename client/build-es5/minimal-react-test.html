<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‚öõÔ∏è Minimal React Test</title>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            margin: 0; 
            padding: 20px; 
            background: linear-gradient(135deg, #ff6b6b, #4ecdc4);
            color: white;
            min-height: 100vh;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
            background: rgba(255,255,255,0.1);
            padding: 20px;
            border-radius: 10px;
            backdrop-filter: blur(10px);
        }
        .test-result {
            background: rgba(255,255,255,0.2);
            margin: 10px 0;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #ff4444;
        }
        .success { border-left-color: #00ff88; }
        .error { border-left-color: #ff4444; }
        .warning { border-left-color: #ffaa00; }
        .log {
            background: rgba(0,0,0,0.3);
            padding: 10px;
            border-radius: 5px;
            font-family: monospace;
            white-space: pre-wrap;
            margin: 10px 0;
        }
        button {
            background: #00ff88;
            color: #000;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
            font-weight: bold;
        }
        button:hover { background: #00cc66; }
    </style>
</head>
<body>
    <div class="container">
        <h1>‚öõÔ∏è Minimal React Test</h1>
        <p>This test loads ONLY the React bundle and tries to create a simple component.</p>
        
        <div id="test-results">
            <div class="test-result warning">
                <h3>‚è≥ Waiting to start test...</h3>
                <p>Click the button below to start the minimal React test.</p>
            </div>
        </div>
        
        <button onclick="startMinimalTest()">üöÄ Start Minimal React Test</button>
        <button onclick="clearResults()">üóëÔ∏è Clear Results</button>
        
        <div id="console-output" class="log">Console output will appear here...</div>
    </div>

    <script>
        let testStep = 0;
        const results = [];
        
        function log(message, type = 'info') {
            const timestamp = new Date().toLocaleTimeString();
            const logMessage = `[${timestamp}] ${message}`;
            console.log(logMessage);
            
            const output = document.getElementById('console-output');
            output.textContent += logMessage + '\n';
            output.scrollTop = output.scrollHeight;
            
            results.push({ message, type, timestamp });
        }
        
        function updateResults() {
            const container = document.getElementById('test-results');
            container.innerHTML = results.map(result => `
                <div class="test-result ${result.type}">
                    <h3>${result.type === 'success' ? '‚úÖ' : result.type === 'error' ? '‚ùå' : '‚ö†Ô∏è'} ${result.message}</h3>
                    <p>Time: ${result.timestamp}</p>
                </div>
            `).join('');
        }
        
        function clearResults() {
            results.length = 0;
            document.getElementById('console-output').textContent = '';
            document.getElementById('test-results').innerHTML = `
                <div class="test-result warning">
                    <h3>‚è≥ Ready to test</h3>
                    <p>Click "Start Minimal React Test" to begin.</p>
                </div>
            `;
        }
        
        function startMinimalTest() {
            log('üöÄ Starting minimal React test...', 'info');
            updateResults();
            
            // Step 1: Load the main bundle
            log('üì¶ Step 1: Loading main React bundle...', 'info');
            updateResults();
            
            const script = document.createElement('script');
            script.src = '/static/js/main.c7ec5a73.js';
            
            script.onload = function() {
                log('‚úÖ Main bundle loaded successfully!', 'success');
                updateResults();
                
                // Step 2: Wait a bit for React to initialize
                setTimeout(() => {
                    log('‚è≥ Step 2: Waiting for React to initialize...', 'info');
                    updateResults();
                    
                    // Step 3: Check for React availability
                    setTimeout(() => {
                        log('üîç Step 3: Checking React availability...', 'info');
                        updateResults();
                        
                        const reactChecks = [
                            { name: 'React (global)', available: typeof React !== 'undefined' },
                            { name: 'ReactDOM (global)', available: typeof ReactDOM !== 'undefined' },
                            { name: 'window.React', available: typeof window.React !== 'undefined' },
                            { name: 'window.ReactDOM', available: typeof window.ReactDOM !== 'undefined' }
                        ];
                        
                        let allChecksPassed = true;
                        reactChecks.forEach(check => {
                            if (check.available) {
                                log(`‚úÖ ${check.name} is available`, 'success');
                            } else {
                                log(`‚ùå ${check.name} is NOT available`, 'error');
                                allChecksPassed = false;
                            }
                        });
                        updateResults();
                        
                        if (allChecksPassed) {
                            // Step 4: Try to create a React component
                            log('üéØ Step 4: Attempting to create React component...', 'info');
                            updateResults();
                            
                            try {
                                const ReactToUse = React || window.React;
                                const ReactDOMToUse = ReactDOM || window.ReactDOM;
                                
                                const SimpleComponent = ReactToUse.createElement('div', {
                                    style: {
                                        padding: '20px',
                                        textAlign: 'center',
                                        background: 'linear-gradient(45deg, #00ff88, #00cc66)',
                                        color: '#000',
                                        borderRadius: '10px',
                                        margin: '20px 0'
                                    }
                                }, [
                                    ReactToUse.createElement('h2', { key: 'title' }, 'üéâ MINIMAL REACT WORKS!'),
                                    ReactToUse.createElement('p', { key: 'desc' }, 'This is a minimal React component created from the main bundle'),
                                    ReactToUse.createElement('p', { key: 'time' }, `Time: ${new Date().toLocaleTimeString()}`)
                                ]);
                                
                                const root = ReactDOMToUse.createRoot(document.getElementById('test-results'));
                                root.render(SimpleComponent);
                                
                                log('üéâ SUCCESS: Minimal React component rendered!', 'success');
                                updateResults();
                                
                            } catch (error) {
                                log(`‚ùå FAILED to create React component: ${error.message}`, 'error');
                                updateResults();
                            }
                        } else {
                            log('‚ùå FAILED: Not all React checks passed', 'error');
                            updateResults();
                        }
                    }, 2000); // Wait 2 seconds for React to initialize
                }, 1000); // Wait 1 second after script load
            };
            
            script.onerror = function(error) {
                log(`‚ùå FAILED to load main bundle: ${error}`, 'error');
                updateResults();
            };
            
            document.head.appendChild(script);
        }
        
        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            log('üì± Minimal React test page loaded', 'info');
            updateResults();
        });
    </script>
</body>
</html>
