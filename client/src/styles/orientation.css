/* PWA Orientation Support */
@media screen and (orientation: landscape) {
  /* Video player adjustments for landscape */
  .video-container {
    height: 100vh !important;
    max-height: 100vh !important;
  }
  
  /* Hide sidebar in landscape on mobile */
  @media (max-width: 768px) {
    .lesson-sidebar {
      display: none !important;
    }
    
    .lesson-main {
      width: 100% !important;
    }
  }
  
  /* Full screen video in landscape */
  .fullscreen-video {
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    width: 100vw !important;
    height: 100vh !important;
    z-index: 9999 !important;
    background: black !important;
  }
}

/* Prevent zoom on orientation change */
html {
  -webkit-text-size-adjust: 100%;
  -ms-text-size-adjust: 100%;
}

/* Better mobile viewport handling */
@viewport {
  width: device-width;
  initial-scale: 1.0;
  maximum-scale: 5.0;
  user-scalable: yes;
}

/* Landscape-specific styles for better UX */
@media screen and (orientation: landscape) and (max-width: 1024px) {
  /* Make video player take full height in landscape */
  .lesson-player-video {
    height: 100vh !important;
    max-height: 100vh !important;
  }
  
  /* Hide non-essential elements in landscape on mobile */
  @media (max-width: 768px) {
    .lesson-sidebar,
    .lesson-right-rail {
      display: none !important;
    }
    
    .lesson-main {
      width: 100% !important;
      max-width: 100% !important;
    }
  }
}

/* iOS Safari specific fixes */
@supports (-webkit-touch-callout: none) {
  /* iOS Safari specific styles */
  body {
    -webkit-text-size-adjust: 100%;
    -webkit-tap-highlight-color: transparent;
    -webkit-touch-callout: none;
    -webkit-user-select: none;
    user-select: none;
  }
  
  /* Allow text selection in content areas */
  .blog-content, .course-content, .lesson-content {
    -webkit-user-select: text;
    user-select: text;
  }
  
  /* Fix iOS Safari input zoom */
  input, textarea, select {
    font-size: 16px !important;
    -webkit-appearance: none;
    border-radius: 0;
  }
  
  /* Fix iOS Safari button styles */
  button {
    -webkit-appearance: none;
    border-radius: 0;
  }
  
  /* Fix iOS Safari scroll bounce */
  body, html {
    overscroll-behavior: none;
    -webkit-overflow-scrolling: touch;
  }
  
  /* Fix iOS Safari viewport height issues */
  .App {
    min-height: 100vh;
    min-height: -webkit-fill-available;
  }
  
  /* Fix iOS Safari video player issues */
  video {
    -webkit-playsinline: true;
    playsinline: true;
  }
}

/* PWA specific orientation handling */
@media screen and (display-mode: standalone) {
  /* Better handling for PWA in landscape */
  @media (orientation: landscape) {
    body {
      overflow-x: hidden;
      height: 100vh;
      width: 100vw;
    }
    
    html {
      height: 100vh;
      width: 100vw;
    }
    
    #root {
      height: 100vh;
      width: 100vw;
    }
    
    /* Ensure video containers work well in landscape PWA */
    .video-player-container {
      width: 100vw !important;
      height: 100vh !important;
    }
  }
}

/* Force landscape orientation support for PWA */
@media screen and (display-mode: standalone) and (orientation: landscape) {
  body {
    transform: none !important;
    -webkit-transform: none !important;
  }
  
  /* Prevent any CSS that might lock orientation */
  * {
    -webkit-transform: none !important;
    transform: none !important;
  }
}
